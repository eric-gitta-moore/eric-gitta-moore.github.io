<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Windows é‡æ–°æ˜ å°„ CapsLock å¤§å†™é”å®šåˆ° Ctrl</title>
      <link href="/2023/windows-remaps-capslock-to-ctrl/"/>
      <url>/2023/windows-remaps-capslock-to-ctrl/</url>
      
        <content type="html"><![CDATA[<h1 id="Windows-é‡æ–°æ˜ å°„-CapsLock-å¤§å†™é”å®šåˆ°-Ctrl"><a href="#Windows-é‡æ–°æ˜ å°„-CapsLock-å¤§å†™é”å®šåˆ°-Ctrl" class="headerlink" title="Windows é‡æ–°æ˜ å°„ CapsLock å¤§å†™é”å®šåˆ° Ctrl"></a>Windows é‡æ–°æ˜ å°„ CapsLock å¤§å†™é”å®šåˆ° Ctrl</h1><p>æœ¬è¦ç‚¹ä¸­çš„è¿™äº›æ–¹æ³•é€‚ç”¨äºæˆ‘çš„ç¾å›½é”®ç›˜å¸ƒå±€ã€‚æˆ‘ä¸ç¡®å®šå…¶ä»–å¸ƒå±€ã€‚å¦‚æœå‡ºç°é—®é¢˜ï¼Œè¯·æ¢å¤æ‚¨çš„æ›´æ”¹ï¼›åˆ é™¤æ‚¨åˆ›å»ºçš„æ³¨å†Œè¡¨é¡¹ï¼ˆå¹¶é‡æ–°å¯åŠ¨ï¼‰ã€‚</p><p>å¼ºçƒˆæ¨è æ–¹æ³•5 <code>ctrl2cap</code>ï¼Œå› ä¸ºä¸ä¼šå½±å“ <code>FastGestures</code> çš„è§¦æ§æ¿ä¸‰æŒ‡æ»‘åŠ¨</p><h2 id="æ–¹æ³•1-é€šè¿‡-regedit-æ‰‹åŠ¨ä¿®æ”¹"><a href="#æ–¹æ³•1-é€šè¿‡-regedit-æ‰‹åŠ¨ä¿®æ”¹" class="headerlink" title="æ–¹æ³•1.é€šè¿‡ regedit æ‰‹åŠ¨ä¿®æ”¹"></a>æ–¹æ³•1.é€šè¿‡ regedit æ‰‹åŠ¨ä¿®æ”¹</h2><p>åœ¨ <code>regedit</code> ä¸­å¯¼èˆªåˆ° <code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Keyboard Layout</code> å¹¶åœ¨åä¸º <code>Scancode Map</code> ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„äºŒè¿›åˆ¶å€¼ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">00 00 00 00 00 00 00 00 02 00 00 00 1d 00 3a 00 00 00 00 00</span><br></pre></td></tr></table></figure><p>ä¿å­˜ã€‚é‡å¯ã€‚å®Œæ¯•ã€‚</p><blockquote><p>å‚è€ƒï¼š</p><ul><li><p><a href="https://renenyffenegger.ch/notes/Windows/registry/tree/HKEY_LOCAL_MACHINE/System/CurrentControlSet/Control/Keyboard-Layout/index">Registry: HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Keyboard Layout (renenyffenegger.ch)</a></p></li><li><p><a href="https://superuser.com/a/1264295">https://superuser.com/a/1264295</a></p></li></ul></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Windows Registry Editor Version 5.00</span><br><span class="line"></span><br><span class="line">; è¿™ä¸€ä¸²åå…­è¿›åˆ¶æ•°æ®åˆ†ä¸ºäº”ç»„ï¼Œæ¯ç»„å››ä¸ªå­—èŠ‚:</span><br><span class="line">;   00,00,00,00,\    header ç‰ˆæœ¬ (å›ºå®šå€¼ 00000000)</span><br><span class="line">;   00,00,00,00,\    header flags (å›ºå®šå€¼ 00000000)</span><br><span class="line">;   04,00,00,00,\    # è¯¥æ–‡æœ¬æè¿°äº†ä¸€ç»„æ¡ç›®ï¼ˆåœ¨æ­¤æƒ…å†µä¸‹æ˜¯3ä¸ªï¼‰ï¼Œä»¥åŠä¸€ä¸ªç©ºç»ˆæ­¢ç¬¦è¡Œã€‚</span><br><span class="line">;                    æ¯ä¸ªæ¡ç›®éƒ½ç”±ä¸€ä¸ª2å­—èŠ‚çš„é…å¯¹ç»„æˆï¼šè¦å‘é€çš„é”®ç å’Œè¦å‘é€çš„é”®ç›˜æŒ‰é”®ã€‚</span><br><span class="line">;                    æ¯ä¸ªæ¡ç›®æŒ‰ç…§â€œæœ€ä¸é‡è¦å­—èŠ‚ï¼Œæœ€é‡è¦å­—èŠ‚â€çš„é¡ºåºæ’åˆ—ï¼Œä¾‹å¦‚ 0x1234 å˜ä¸º 34,12</span><br><span class="line">;   1d,00,3a,00,\    å‘é€ LEFT CTRL (0x001d) code å½“ç”¨æˆ·æŒ‰ä¸‹ CAPS LOCK key (0x003a) </span><br><span class="line">;   38,00,1d,00,\    å‘é€ LEFT ALT (0x0038) code å½“ç”¨æˆ·æŒ‰ä¸‹ LEFT CTRL key (0x001d) </span><br><span class="line">;   3a,00,38,00,\    å‘é€ CAPS LOCK (0x003a) code å½“ç”¨æˆ·æŒ‰ä¸‹ LEFT ALT key (0x0038) </span><br><span class="line">;   00,00,00,00      NULL ç»ˆæ­¢ç¬¦</span><br><span class="line"></span><br><span class="line">[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Keyboard Layout]</span><br><span class="line">&quot;Scancode Map&quot;=hex:00,00,00,00,\</span><br><span class="line">                   00,00,00,00,\</span><br><span class="line">                   04,00,00,00,\</span><br><span class="line">                   1d,00,3a,00,\</span><br><span class="line">                   38,00,1d,00,\</span><br><span class="line">                   3a,00,38,00,\</span><br><span class="line">                   00,00,00,00</span><br></pre></td></tr></table></figure><h2 id="æ–¹æ³•-2-åˆ›å»ºæ‚¨è‡ªå·±çš„æ³¨å†Œè¡¨é¡¹æ–‡ä»¶"><a href="#æ–¹æ³•-2-åˆ›å»ºæ‚¨è‡ªå·±çš„æ³¨å†Œè¡¨é¡¹æ–‡ä»¶" class="headerlink" title="æ–¹æ³• 2. åˆ›å»ºæ‚¨è‡ªå·±çš„æ³¨å†Œè¡¨é¡¹æ–‡ä»¶"></a>æ–¹æ³• 2. åˆ›å»ºæ‚¨è‡ªå·±çš„æ³¨å†Œè¡¨é¡¹æ–‡ä»¶</h2><p>åˆ›å»ºä¸€ä¸ªæ–°çš„ <code>.reg</code> æ–‡ä»¶å¹¶å°†å…¶å‘½åä¸ºæœ‰æ„ä¹‰çš„åç§°ï¼Œä¾‹å¦‚ <code>capstoctrl.reg</code> ã€‚ç¼–è¾‘æ–‡ä»¶å¹¶ç²˜è´´ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Windows Registry Editor Version 5.00</span><br><span class="line"></span><br><span class="line">[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Keyboard Layout]</span><br><span class="line">&quot;Scancode Map&quot;=hex:00,00,00,00,00,00,00,00,02,00,00,00,1d,00,3a,00,00,00,00,00</span><br></pre></td></tr></table></figure><p>ä¿å­˜ã€‚è¿è¡Œè¯¥æ–‡ä»¶ã€‚é‡å¯ã€‚å®Œæ¯•ã€‚</p><h2 id="æ–¹æ³•-3-é€šè¿‡-PowerShellï¼ˆä»¥ç®¡ç†å‘˜èº«ä»½ï¼‰"><a href="#æ–¹æ³•-3-é€šè¿‡-PowerShellï¼ˆä»¥ç®¡ç†å‘˜èº«ä»½ï¼‰" class="headerlink" title="æ–¹æ³• 3. é€šè¿‡ PowerShellï¼ˆä»¥ç®¡ç†å‘˜èº«ä»½ï¼‰"></a>æ–¹æ³• 3. é€šè¿‡ PowerShellï¼ˆä»¥ç®¡ç†å‘˜èº«ä»½ï¼‰</h2><p>ä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€ PowerShell (Win + X)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$hexified = &quot;00,00,00,00,00,00,00,00,02,00,00,00,1d,00,3a,00,00,00,00,00&quot;.Split(&#x27;,&#x27;) | % &#123; &quot;0x$_&quot;&#125;;</span><br><span class="line"></span><br><span class="line">$kbLayout = &#x27;HKLM:\System\CurrentControlSet\Control\Keyboard Layout&#x27;;</span><br><span class="line"></span><br><span class="line">New-ItemProperty -Path $kbLayout -Name &quot;Scancode Map&quot; -PropertyType Binary -Value ([byte[]]$hexified);</span><br></pre></td></tr></table></figure><p>ä¿å­˜ã€‚è¿è¡Œè¯¥æ–‡ä»¶ã€‚é‡å¯ã€‚å®Œæ¯•ã€‚</p><h2 id="æ–¹æ³•-4-Microsoft-PowerToys"><a href="#æ–¹æ³•-4-Microsoft-PowerToys" class="headerlink" title="æ–¹æ³• 4. Microsoft PowerToys"></a>æ–¹æ³• 4. Microsoft PowerToys</h2><p>å°è¯•ä¸€ä¸‹ PowerToys ä¸ä»…å¯ä»¥é‡æ–°æ˜ å°„å¤§å†™é”å®šé”®ï¼Œè¿˜å¯ä»¥é‡æ–°æ˜ å°„å…¶ä»–é”®ã€‚ Microsoft PowerToysï¼šè‡ªå®šä¹‰ Windows 10 çš„å®ç”¨ç¨‹åºã€‚</p><p>Microsoft PowerToysï¼šé”®ç›˜ç®¡ç†å™¨ä½¿æ‚¨èƒ½å¤Ÿé‡æ–°å®šä¹‰é”®ç›˜ä¸Šçš„æŒ‰é”®ã€‚</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936313430601693631342489.png" alt="16936313430601693631342489.png"></p><blockquote><p>ä»¥ä¸Šæ–¹æ³•éƒ½æœ‰é—®é¢˜ï¼Œå¦‚æœä½ è¿˜ä½¿ç”¨å…¶ä»–ä¾èµ– <code>ctrl</code> çš„è½¯ä»¶å¯èƒ½å°±ä¼šå‡ºé—®é¢˜ã€‚</p><p>è¿™äº›è½¯ä»¶å¦‚æœéœ€è¦ç›‘å¬åŸå§‹æŒ‰é”®ï¼Œæ˜¯ä¾æ—§å¯ä»¥ç›‘å¬åˆ° <code>caps</code> æŒ‰ä¸‹ã€‚è¿™ä¸ªæ—¶å€™åœ¨ sysinternals å·¥å…·ç®±æœ‰ä¸€ä¸ªå« <code>ctrl2cap</code> çš„å·¥å…·</p></blockquote><h2 id="æ–¹æ³•5-Ctrl2Cap-é©±åŠ¨çº§ä¿®æ”¹"><a href="#æ–¹æ³•5-Ctrl2Cap-é©±åŠ¨çº§ä¿®æ”¹" class="headerlink" title="æ–¹æ³•5. Ctrl2Cap é©±åŠ¨çº§ä¿®æ”¹"></a>æ–¹æ³•5. Ctrl2Cap é©±åŠ¨çº§ä¿®æ”¹</h2><blockquote><p>å‡ºå¤„ï¼š<a href="https://learn.microsoft.com/zh-cn/sysinternals/downloads/ctrl2cap">Ctrl2cap - Sysinternals | Microsoft Learn</a></p></blockquote><p>Ctrl2cap æ˜¯ä¸€ä¸ªå†…æ ¸æ¨¡å¼è®¾å¤‡é©±åŠ¨ç¨‹åºï¼Œç”¨äºç­›é€‰ç³»ç»Ÿçš„é”®ç›˜ç±»é©±åŠ¨ç¨‹åºï¼Œä»¥ä¾¿å°† caps-lock å­—ç¬¦è½¬æ¢ä¸º control å­—ç¬¦ã€‚ åƒæˆ‘è¿™æ ·ä» UNIX è¿ç§»åˆ° NT çš„äººä¹ æƒ¯äºå°† control é”®ç½®äºæ ‡å‡†ç”µè„‘é”®ç›˜ä¸Š caps-lock é”®çš„ä½ç½®ï¼Œå› æ­¤è¿™æ ·çš„å®ç”¨å·¥å…·å¯¹äºæˆ‘ä»¬çš„ç¼–è¾‘å·¥ä½œè‡³å…³é‡è¦ã€‚</p><p><strong>å®‰è£…</strong></p><ul><li>æ‰“å¼€ç®¡ç†å‘˜ cmdï¼Œæˆ–è€… ç®¡ç†å‘˜ powershell</li><li>ä»è§£å‹ç¼© Ctrl2cap æ–‡ä»¶çš„ç›®å½•ä¸­è¿è¡Œå‘½ä»¤ <code>Ctrl2cap.exe /install</code> ä»¥å®‰è£… Ctrl2capã€‚ è‹¥è¦å¸è½½ï¼Œ<code>ctrl2cap /uninstall</code></li></ul><p><strong>Ctrl2cap çš„å·¥ä½œåŸç†</strong></p><p>åœ¨ NT 4 ä¸Šï¼ŒCtrlcap å®é™…ä¸Šç›¸å½“ç®€å•ã€‚ å®ƒåªæ˜¯å°†è‡ªèº«é™„åŠ åˆ°é”®ç›˜ç±»é©±åŠ¨ç¨‹åºï¼Œä»¥ä¾¿æ•è·é”®ç›˜è¯»å–è¯·æ±‚ã€‚ å¯¹äºæ¯ä¸ªè¯·æ±‚ï¼Œå®ƒéƒ½ä¼šå‘å¸ƒä¸€ä¸ª I&#x2F;O å®Œæˆå›è°ƒï¼Œæ­¤æ—¶å®ƒä¼šæŸ¥çœ‹è¿”å›çš„æ‰«æä»£ç ã€‚ å¦‚æœå®ƒæ°å¥½æ˜¯ caps-lockï¼Œåˆ™ ctrl2cap å°†å…¶æ›´æ”¹ä¸ºleft-controlã€‚</p><p>åœ¨ Win2K ä¸Šï¼ŒCtrl2cap æ˜¯ä¸€ä¸ª WDM ç­›é€‰å™¨é©±åŠ¨ç¨‹åºï¼Œå®ƒåœ¨é”®ç›˜ç±»è®¾å¤‡ä¹‹ä¸Šçš„é”®ç›˜ç±»è®¾å¤‡å †æ ˆä¸­åˆ†å±‚ã€‚ è¿™ä¸ Win2K DDK çš„ kbfiltr ç¤ºä¾‹å½¢æˆå¯¹æ¯”ï¼Œåè€…å°†è‡ªå·±åˆ†å±‚åœ¨ i8042 ç«¯å£è®¾å¤‡å’Œé”®ç›˜ç±»è®¾å¤‡ä¹‹é—´ã€‚ å‡ºäºä»¥ä¸‹å‡ ä¸ªåŸå› ï¼Œæˆ‘é€‰æ‹©åœ¨é”®ç›˜ç±»è®¾å¤‡ä¸Šåˆ†å±‚ï¼š</p><ul><li>è¿™æ„å‘³ç€ Ctrl2cap IRP_MJ_READ æ‹¦æˆªå’Œæ“ä½œä»£ç åœ¨ NT 4 å’Œ Win2K ç‰ˆæœ¬ä¹‹é—´å…±äº«ã€‚</li><li>æˆ‘ä¸éœ€è¦æä¾› INF æ–‡ä»¶ï¼Œä¹Ÿä¸éœ€è¦è®©ç”¨æˆ·é€šè¿‡è®¾å¤‡ç®¡ç†å™¨æ¥å®‰è£… Ctrl2cap - æˆ‘åªéœ€ä¿®æ”¹ç›¸åº”çš„æ³¨å†Œè¡¨å€¼ï¼ˆé”®ç›˜ç±»è®¾å¤‡çš„ HKLM\System\CurrentControlSet\Control\Class UpperFilters å€¼ï¼‰ã€‚</li></ul><p>æˆ‘çš„æ–¹æ³•çš„ç¼ºç‚¹æ˜¯ï¼ˆè¿™æ˜¯ä¸€ä¸ªä¼˜ç‚¹è¿˜æ˜¯ç¼ºç‚¹ï¼Œå–å†³äºä½ çš„è§‚ç‚¹ï¼‰ï¼š</p><ul><li>ç”±äºæˆ‘æ²¡æœ‰é€šè¿‡è®¾å¤‡ç®¡ç†å™¨ä½¿ç”¨ INF æ–‡ä»¶è¿›è¡Œå®‰è£…ï¼Œå› æ­¤ä¸ä¼šè­¦å‘Šç”¨æˆ· Ctrl2cap é©±åŠ¨ç¨‹åºæ–‡ä»¶æœªç”± Microsoft è¿›è¡Œæ•°å­—ç­¾åã€‚</li></ul><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘è§‰å¾—ä¼˜ç‚¹å¤§äºç¼ºç‚¹ã€‚ ä½†æ˜¯ï¼Œåœ¨ä¸º Ctrl2cap ä¸Šçš„ Win2K é”®ç›˜ç­›é€‰å™¨å»ºæ¨¡ä¹‹å‰ï¼Œæˆ‘å¼ºçƒˆå»ºè®®ä½ å­¦ä¹  Win2K DDK ä¸­çš„ kbfiltr ç¤ºä¾‹ã€‚ Kbfiltr åœ¨é”®è¾“å…¥åºåˆ—ä¸­çš„æ‹¦æˆªç‚¹ä½¿ kbfiltr å¯ä»¥è½»æ¾åœ°å°†å‡»é”®æ³¨å…¥è¾“å…¥æµã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://learn.microsoft.com/zh-cn/sysinternals/downloads/ctrl2cap">Ctrl2cap - Sysinternals | Microsoft Learn</a></li><li><a href="https://superuser.com/a/1389340">https://superuser.com/a/1389340</a></li><li><a href="https://gist.github.com/joshschmelzle/5e88dabc71014d7427ff01bca3fed33d">Remap Caps Lock to Control on Windows 10 (github.com)</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>WSL Ubuntu ä¸­é root çš„æ™®é€šç”¨æˆ·æ€ä¹ˆç›´æ¥æ‰§è¡Œ Docker å‘½ä»¤</title>
      <link href="/2023/how-can-non-root-ordinary-users-directly-execute-docker-commands-in-wsl-ubuntu/"/>
      <url>/2023/how-can-non-root-ordinary-users-directly-execute-docker-commands-in-wsl-ubuntu/</url>
      
        <content type="html"><![CDATA[<p>dockeréœ€è¦rootæƒé™ï¼Œå¦‚æœå¸Œæœ›érootç”¨æˆ·ç›´æ¥ä½¿ç”¨dockerå‘½ä»¤ï¼Œè€Œä¸æ˜¯ä½¿ç”¨sudoï¼Œå¯ä»¥é€‰æ‹©å°†è¯¥ç”¨æˆ·åŠ å…¥åˆ°dockerç”¨æˆ·ç»„ã€‚</p><p><code>sudo groupadd docker</code>ï¼šæ·»åŠ åˆ°groupaddç”¨æˆ·ç»„ï¼ˆå·²ç»æœ‰dockerç”¨æˆ·ç»„ï¼Œæ‰€ä»¥å¯ä»¥ä¸ç”¨å†æ–°å¢dockerç”¨æˆ·ç»„ï¼‰</p><p><code>sudo gpasswd -a $USER docker</code>ï¼šæ·»åŠ å½“å‰ç”¨æˆ·åˆ°dockerç»„</p><p><code>newgrp docker</code>ï¼šæ›´æ–°dockerç”¨æˆ·ç»„</p>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨ WSL2 ä¸­ä½¿ç”¨ NVIDIA Docker è¿›è¡Œå…¨æ ˆå¼€å‘å’Œæ·±åº¦å­¦ä¹  TensorFlow pytorch GPU åŠ é€Ÿ</title>
      <link href="/2023/full-stack-development-and-deep-learning-tensorflow-pytorch-gpu-acceleration-using-nvidia-docker-in-wsl2/"/>
      <url>/2023/full-stack-development-and-deep-learning-tensorflow-pytorch-gpu-acceleration-using-nvidia-docker-in-wsl2/</url>
      
        <content type="html"><![CDATA[<h2 id="0-èƒŒæ™¯"><a href="#0-èƒŒæ™¯" class="headerlink" title="0. èƒŒæ™¯"></a>0. èƒŒæ™¯</h2><h3 id="0-1-èµ·æº"><a href="#0-1-èµ·æº" class="headerlink" title="0.1 èµ·æº"></a>0.1 èµ·æº</h3><ul><li>ç”Ÿäº§ç¯å¢ƒéƒ½æ˜¯åœ¨ k8d pod ä¸­è¿è¡Œï¼Œç›´æ¥åœ¨å®¹å™¨ä¸­å¼€å‘ä¸å¥½å˜›ï¼Ÿ</li><li>æ¯æ¬¡æ¢ç”µè„‘ï¼Œéƒ½è¦é…é…é…ï¼Œå‘¸å‘¸å‘¸</li><li>æ–°ç”µè„‘åªå®‰è£…æ—¥å¸¸ç”¨çš„è½¯ä»¶ä¸å¥½å˜›ï¼Œç¯å¢ƒå˜é‡é…é…é…ï¼Œå„ç§æ—¥å¸¸è½¯ä»¶å’Œå¼€å‘è½¯ä»¶åˆ°å¤„æ‹‰ğŸ’©</li><li>è™šæ‹Ÿæœºå‘—ï¼Œæ€ä¹ˆè°ƒç”¨ GPU æ˜¯ä¸ªé—®é¢˜ï¼Œhyper-v å¥½åƒæ˜¯å¯ä»¥é­”æ”¹é…ç½®å®ç°ï¼Œåˆå¾—æ”¹æ”¹æ”¹ã€‚æ”¹å¥½äº†æœ¬åœ°èƒ½è·‘äº†ï¼Œç”Ÿäº§ç»™ä½ æŠ¥é”™æŠ¥é”™é”™é”™é”™</li><li>åˆ°å¤„æ‹‰ğŸ’©ï¼Œæ–‡ä»¶å¼„ä¹±äº†æ€ä¹ˆåŠï¼Œå®¹å™¨ç›´æ¥é”€æ¯é‡å»ºå°±å®Œäº‹ï¼Œåˆ†åˆ†é’Ÿè§£å†³ã€‚ç”µè„‘é‡è£…å†é…ç¯å¢ƒä¹Ÿé­ä¸ä½</li></ul><h3 id="0-2-å®¹å™¨åŒ–å¼€å‘ä¹‹å"><a href="#0-2-å®¹å™¨åŒ–å¼€å‘ä¹‹å" class="headerlink" title="0.2. å®¹å™¨åŒ–å¼€å‘ä¹‹å"></a>0.2. å®¹å™¨åŒ–å¼€å‘ä¹‹å</h3><ul><li>å®¿ä¸»æœºç”µè„‘éšä¾¿æ¢ï¼Œéšä¾¿é‡è£…ã€‚é‡è£…ä¹‹åæˆ‘åªè¦ <code>ä¸Šç½‘</code> + <code>wsl --install</code> + <code>get docker</code> + <code>docker compose up -d</code> å°±å®Œäº‹äº†</li><li>æ¢ macOSï¼Ÿæ²¡äº‹ï¼Œ<code>docker compsoe up -d</code></li><li>æ¢ Windowsï¼Ÿæ²¡äº‹ï¼Œ<code>docker compose up -d</code></li><li>æ²¡ç”µè„‘ï¼Ÿæ²¡äº‹ï¼Œæå°è¿œç¨‹æœºå­ <code>ssh</code> +  <code>docker compose up -d</code></li><li>ç”µè„‘ç‚¸äº†ï¼Ÿæ²¡äº‹ï¼Œæ‰€æœ‰ git ä¿®æ”¹éƒ½åœ¨è¿œç«¯æœ‰ä¸€ä»½ã€‚å¼€å‘ç¯å¢ƒæ¢å°æœºå­ <code>docker compose up -d</code> ç»§ç»­</li></ul><h3 id="0-3-ä¸è¶³"><a href="#0-3-ä¸è¶³" class="headerlink" title="0.3 ä¸è¶³"></a>0.3 ä¸è¶³</h3><ul><li>å¦‚æœæ˜¯åš k8s å¼€å‘çš„ï¼Œä¼°è®¡ä¸è¡Œï¼Œèµ·æœ¬åœ°é›†ç¾¤å»ºè®®ç”¨ vagrantã€‚æœ¬è´¨ä¸Šä¸€ä¸ªå®¹å™¨æ ¹æœ¬æ— æ³•è§£å†³è¿™ä¸ªé—®é¢˜</li><li>å¦‚æœæ²¡æœ‰æœºå™¨ä¸æ”¯æŒ <code>systemd</code> æ²¡æ³•æï¼Œæ¯”å¦‚å…¬å¸åªç»™æä¾›å¼€å‘å®¹å™¨ç¯å¢ƒï¼ˆåªèƒ½æ“ä½œç»™ä½ çš„å®¹å™¨ï¼‰ï¼Œè¿™ä¸ªæƒ…å†µä¸‹ç›®å‰æ­£åœ¨è§£å†³ï¼Œä½¿ç”¨ ansible é‡å†™ Dockerfile é‡Œé¢çš„è„šæœ¬ï¼Œæ‘†è„±å®¹å™¨é™åˆ¶ã€‚ä¸»è¦åŒºåˆ«å°±æ˜¯ç¯å¢ƒå®‰è£…è¿‡ç¨‹åœ¨æœ¬åœ°è¿˜æ˜¯åœ¨è¿œç«¯</li></ul><h2 id="1-å‰ç½®æ¡ä»¶"><a href="#1-å‰ç½®æ¡ä»¶" class="headerlink" title="1. å‰ç½®æ¡ä»¶"></a>1. å‰ç½®æ¡ä»¶</h2><h3 id="1-1-å®‰è£…ç³»ç»Ÿ"><a href="#1-1-å®‰è£…ç³»ç»Ÿ" class="headerlink" title="1.1. å®‰è£…ç³»ç»Ÿ"></a>1.1. å®‰è£…ç³»ç»Ÿ</h3><p>Windows 10 ç‰ˆæœ¬ 2004 åŠæ›´é«˜ç‰ˆæœ¬ï¼ˆå†…éƒ¨ç‰ˆæœ¬ 19041 åŠæ›´é«˜ç‰ˆæœ¬ï¼‰æˆ– Windows 11</p><p><strong>è·³è¿‡</strong></p><h3 id="1-2-å¤„ç†å¥½ç½‘ç»œç¯å¢ƒ"><a href="#1-2-å¤„ç†å¥½ç½‘ç»œç¯å¢ƒ" class="headerlink" title="1.2. å¤„ç†å¥½ç½‘ç»œç¯å¢ƒ"></a>1.2. å¤„ç†å¥½ç½‘ç»œç¯å¢ƒ</h3><p>å®‰è£…è¿‡ç¨‹ä¸­éœ€è¦è®¿é—®å›½é™…ç½‘ç»œï¼Œè‡ªè¡Œå¤„ç†å¥½ã€‚å»ºè®®å¼€å¯ tun æ¨¡å¼</p><h2 id="2-å‡†å¤‡-WSL"><a href="#2-å‡†å¤‡-WSL" class="headerlink" title="2. å‡†å¤‡ WSL"></a>2. å‡†å¤‡ WSL</h2><h3 id="2-1-å®‰è£…-WSL"><a href="#2-1-å®‰è£…-WSL" class="headerlink" title="2.1. å®‰è£… WSL"></a>2.1. å®‰è£… WSL</h3><p>åœ¨ç®¡ç†å‘˜æ¨¡å¼ä¸‹æ‰“å¼€ PowerShell æˆ– Windows å‘½ä»¤æç¤ºç¬¦</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --install</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆï¼Œé‡å¯ç”µè„‘</p><h3 id="2-2-é¦–æ¬¡æ‰“å¼€-WSL"><a href="#2-2-é¦–æ¬¡æ‰“å¼€-WSL" class="headerlink" title="2.2. é¦–æ¬¡æ‰“å¼€ WSL"></a>2.2. é¦–æ¬¡æ‰“å¼€ WSL</h3><p>é‡å¯å®Œæˆåï¼Œæ‰“å¼€ powershellï¼Œè¾“å…¥</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶åº”è¯¥ä¼šæç¤ºä¸º Linux å‘è¡Œç‰ˆåˆ›å»ºâ€œç”¨æˆ·åâ€å’Œâ€œå¯†ç â€</p><blockquote><p>å¦‚æœè¿™é‡Œæç¤ºæ²¡æœ‰å®‰è£… Linux å‘è¡Œç‰ˆï¼Œé‚£ä¹ˆè¿™é‡Œå¯ä»¥å†æ¬¡æ‰§è¡Œ <code>wsl --install</code>ï¼Œä¼šè‡ªåŠ¨å®‰è£… Ubuntu 22.04 LTS</p></blockquote><h3 id="2-3-è®¾ç½®-root-å¯†ç "><a href="#2-3-è®¾ç½®-root-å¯†ç " class="headerlink" title="2.3. è®¾ç½® root å¯†ç "></a>2.3. è®¾ç½® root å¯†ç </h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo passwd</span><br></pre></td></tr></table></figure><h3 id="2-4-æ¢æº"><a href="#2-4-æ¢æº" class="headerlink" title="2.4. æ¢æº"></a>2.4. æ¢æº</h3><p>åˆ‡æ¢åˆ° root ç”¨æˆ·ï¼Œæ‰§è¡Œä¸‹é¢å‘½ä»¤æ¢æº</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> &lt;&lt;<span class="string">&#x27;EOF&#x27;</span> &gt; /etc/apt/sources.list</span><br><span class="line"><span class="comment"># é»˜è®¤æ³¨é‡Šäº†æºç é•œåƒä»¥æé«˜ apt update é€Ÿåº¦ï¼Œå¦‚æœ‰éœ€è¦å¯è‡ªè¡Œå–æ¶ˆæ³¨é‡Š</span></span><br><span class="line">deb https://mirror.nju.edu.cn/ubuntu/ jammy main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirror.nju.edu.cn/ubuntu/ jammy main restricted universe multiverse</span></span><br><span class="line">deb https://mirror.nju.edu.cn/ubuntu/ jammy-updates main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirror.nju.edu.cn/ubuntu/ jammy-updates main restricted universe multiverse</span></span><br><span class="line">deb https://mirror.nju.edu.cn/ubuntu/ jammy-backports main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirror.nju.edu.cn/ubuntu/ jammy-backports main restricted universe multiverse</span></span><br><span class="line"></span><br><span class="line">deb https://mirror.nju.edu.cn/ubuntu/ jammy-security main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirror.nju.edu.cn/ubuntu/ jammy-security main restricted universe multiverse</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># deb http://security.ubuntu.com/ubuntu/ jammy-security main restricted universe multiverse</span></span><br><span class="line"><span class="comment"># # deb-src http://security.ubuntu.com/ubuntu/ jammy-security main restricted universe multiverse</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é¢„å‘å¸ƒè½¯ä»¶æºï¼Œä¸å»ºè®®å¯ç”¨</span></span><br><span class="line"><span class="comment"># deb https://mirror.nju.edu.cn/ubuntu/ jammy-proposed main restricted universe multiverse</span></span><br><span class="line"><span class="comment"># # deb-src https://mirror.nju.edu.cn/ubuntu/ jammy-proposed main restricted universe multiverse</span></span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><blockquote><p>å‡ºå¤„ï¼šå—äº¬å¤§å­¦é•œåƒç«™ -&gt; <a href="https://mirror.nju.edu.cn/mirrorz-help/ubuntu/?mirror=NJU">https://mirror.nju.edu.cn/mirrorz-help/ubuntu/?mirror=NJU</a></p></blockquote><h3 id="2-5-ï¼ˆå¯é€‰ï¼‰è¿ç§»-WSL-ç£ç›˜ç›®å½•"><a href="#2-5-ï¼ˆå¯é€‰ï¼‰è¿ç§»-WSL-ç£ç›˜ç›®å½•" class="headerlink" title="2.5.ï¼ˆå¯é€‰ï¼‰è¿ç§» WSL ç£ç›˜ç›®å½•"></a>2.5.ï¼ˆå¯é€‰ï¼‰è¿ç§» WSL ç£ç›˜ç›®å½•</h3><p>è¿™é‡Œä»¥è¿ç§»åˆ° <code>D:\hyper-v\ubu1\ubu1.vhdx</code> ä¸ºä¾‹</p><h3 id="2-6-è®¾ç½®é»˜è®¤ç”¨æˆ·"><a href="#2-6-è®¾ç½®é»˜è®¤ç”¨æˆ·" class="headerlink" title="2.6. è®¾ç½®é»˜è®¤ç”¨æˆ·"></a>2.6. è®¾ç½®é»˜è®¤ç”¨æˆ·</h3><p>æŠŠ <code>ä½ çš„ç”¨æˆ·å</code> æ›¿æ¢æˆä½ è®¾ç½®çš„ç”¨æˆ·åï¼Œç„¶ååœ¨ WSL ä¸­æ‰§è¡Œ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="built_in">echo</span> <span class="string">&quot;[user]\ndefault=ä½ çš„ç”¨æˆ·å&quot;</span> &gt;&gt; /etc/wsl.conf</span><br></pre></td></tr></table></figure><p>æ¯”å¦‚æˆ‘çš„ç”¨æˆ·åæ˜¯ <code>linux</code>ï¼Œé‚£ä¹ˆæˆ‘æ‰§è¡Œçš„å‘½ä»¤å°±æ˜¯ <code>sudo echo &quot;[user]\ndefault=linux&quot; &gt;&gt; /etc/wsl.conf</code></p><h3 id="2-7-å¯¼å‡ºç£ç›˜é•œåƒ"><a href="#2-7-å¯¼å‡ºç£ç›˜é•œåƒ" class="headerlink" title="2.7. å¯¼å‡ºç£ç›˜é•œåƒ"></a>2.7. å¯¼å‡ºç£ç›˜é•œåƒ</h3><p>åœ¨ Windows poweshell ä¸­æ‰§è¡Œ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --<span class="built_in">export</span> Ubuntu d:\hyper-v\ubu1\ubu1.vhdx --vhd</span><br></pre></td></tr></table></figure><h3 id="2-8-åˆ é™¤åŸç³»ç»Ÿ"><a href="#2-8-åˆ é™¤åŸç³»ç»Ÿ" class="headerlink" title="2.8. åˆ é™¤åŸç³»ç»Ÿ"></a>2.8. åˆ é™¤åŸç³»ç»Ÿ</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --unregister Ubuntu</span><br></pre></td></tr></table></figure><h3 id="2-9-å¯¼å…¥æ–°ç³»ç»Ÿ"><a href="#2-9-å¯¼å…¥æ–°ç³»ç»Ÿ" class="headerlink" title="2.9. å¯¼å…¥æ–°ç³»ç»Ÿ"></a>2.9. å¯¼å…¥æ–°ç³»ç»Ÿ</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --import-in-place ubu1 d:\hyper-v\ubu1\ubu1.vhdx</span><br></pre></td></tr></table></figure><h2 id="3-é…ç½®-NVIDIA-Docker"><a href="#3-é…ç½®-NVIDIA-Docker" class="headerlink" title="3. é…ç½® NVIDIA Docker"></a>3. é…ç½® NVIDIA Docker</h2><h3 id="3-1-å®‰è£…-Docker"><a href="#3-1-å®‰è£…-Docker" class="headerlink" title="3.1. å®‰è£… Docker"></a>3.1. å®‰è£… Docker</h3><blockquote><p>å‚è€ƒï¼šdocker å®˜ç½‘ å’Œ å—äº¬å¤§å­¦é•œåƒ -&gt; <a href="https://mirror.nju.edu.cn/mirrorz-help/docker-ce/?mirror=NJU">https://mirror.nju.edu.cn/mirrorz-help/docker-ce/?mirror=NJU</a></p></blockquote><p>åœ¨ powershell ä¸­è¾“å…¥ <code>wsl</code>ï¼Œè¿›å…¥ WSL ä¸­ï¼Œæ‰§è¡Œ</p><p>é¦–å…ˆå®‰è£…ä¾èµ–ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install ca-certificates curl gnupg</span><br></pre></td></tr></table></figure><p>ä¿¡ä»» Docker çš„ GPG å…¬é’¥å¹¶æ·»åŠ ä»“åº“ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo install -m 0755 -d /etc/apt/keyrings</span><br><span class="line">curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg</span><br><span class="line">sudo <span class="built_in">chmod</span> a+r /etc/apt/keyrings/docker.gpg</span><br><span class="line"><span class="built_in">echo</span> \</span><br><span class="line">  <span class="string">&quot;deb [arch=<span class="subst">$(dpkg --print-architecture)</span> signed-by=/etc/apt/keyrings/docker.gpg] https://mirror.nju.edu.cn/docker-ce/linux/ubuntu \</span></span><br><span class="line"><span class="string">  &quot;</span>$(. /etc/os-release &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$VERSION_CODENAME</span>&quot;</span>)<span class="string">&quot; stable&quot;</span> | \</span><br><span class="line">  sudo <span class="built_in">tee</span> /etc/apt/sources.list.d/docker.list &gt; /dev/null</span><br></pre></td></tr></table></figure><p>æœ€åå®‰è£… Docker</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin</span><br></pre></td></tr></table></figure><h3 id="3-2-é…ç½®æ™®é€šç”¨æˆ·ç›´æ¥ä½¿ç”¨-Docker-å‘½ä»¤"><a href="#3-2-é…ç½®æ™®é€šç”¨æˆ·ç›´æ¥ä½¿ç”¨-Docker-å‘½ä»¤" class="headerlink" title="3.2. é…ç½®æ™®é€šç”¨æˆ·ç›´æ¥ä½¿ç”¨ Docker å‘½ä»¤"></a>3.2. é…ç½®æ™®é€šç”¨æˆ·ç›´æ¥ä½¿ç”¨ Docker å‘½ä»¤</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo gpasswd -a <span class="variable">$USER</span> docker</span><br><span class="line">newgrp docker</span><br></pre></td></tr></table></figure><h3 id="3-3-å®‰è£…-NVIDIA-æ”¯æŒ"><a href="#3-3-å®‰è£…-NVIDIA-æ”¯æŒ" class="headerlink" title="3.3 å®‰è£… NVIDIA æ”¯æŒ"></a>3.3 å®‰è£… NVIDIA æ”¯æŒ</h3><blockquote><p>å‚è€ƒï¼šå¾®è½¯ WSL å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://learn.microsoft.com/zh-cn/windows/wsl/tutorials/gpu-compute">https://learn.microsoft.com/zh-cn/windows/wsl/tutorials/gpu-compute</a></p></blockquote><p>é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤ä¸º NVIDIA å®¹å™¨å·¥å…·åŒ…è®¾ç½®ç¨³å®šå­˜å‚¨åº“ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">distribution=$(. /etc/os-release;<span class="built_in">echo</span> $ID<span class="variable">$VERSION_ID</span>)</span><br><span class="line">curl -s -L https://nvidia.github.io/nvidia-docker/gpgkey | sudo gpg --dearmor -o /usr/share/keyrings/nvidia-docker-keyring.gpg</span><br><span class="line">curl -s -L https://nvidia.github.io/nvidia-docker/<span class="variable">$distribution</span>/nvidia-docker.list | sed <span class="string">&#x27;s#deb https://#deb [signed-by=/usr/share/keyrings/nvidia-docker-keyring.gpg] https://#g&#x27;</span> | sudo <span class="built_in">tee</span> /etc/apt/sources.list.d/nvidia-docker.list</span><br></pre></td></tr></table></figure><p>å®‰è£… NVIDIA è¿è¡Œæ—¶åŒ…å’Œä¾èµ–é¡¹</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install -y nvidia-docker2</span><br></pre></td></tr></table></figure><h3 id="3-4-Docker-æ¢æº"><a href="#3-4-Docker-æ¢æº" class="headerlink" title="3.4 Docker æ¢æº"></a>3.4 Docker æ¢æº</h3><blockquote><p>å‚è€ƒï¼šå—äº¬å¤§å­¦é•œåƒ</p></blockquote><p>ä¿®æ”¹é…ç½®æ–‡ä»¶</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nano /etc/docker/daemon.json</span><br></pre></td></tr></table></figure><p>æ­£å¸¸èµ°åˆ°è¿™ä¸€æ­¥åº”è¯¥æ˜¯è¿™æ ·çš„</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16934842593104adf16cae3f4c17cb676b650e7ab189a.png" alt="16934842593104adf16cae3f4c17cb676b650e7ab189a.png"></p><br/><p>æ·»åŠ ä¸€è¡Œ</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">,</span><span class="attr">&quot;registry-mirrors&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;https://docker.nju.edu.cn/&quot;</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><br/><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/169348443613133713cbe8c88e63ec50c28abeb2a443e.png" alt="169348443613133713cbe8c88e63ec50c28abeb2a443e.png"></p><br/><p>æŒ‰ä¸‹ <code>ctrl+o</code> å†æŒ‰ä¸‹ <code>å›è½¦</code> ä¿å­˜æ–‡ä»¶</p><p>å†æŒ‰ä¸‹ <code>ctrl+x</code> é€€å‡ºç¼–è¾‘å™¨</p><p>æ£€æŸ¥ä¸€ä¸‹ç»“æœï¼Œ<code>cat /etc/docker/daemon.json</code></p><br/><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/1693484492129119f80574646149e30461fa3f60246fc.png" alt="1693484492129119f80574646149e30461fa3f60246fc.png"></p><br/><p>é‡å¯ Docker</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure><h2 id="4-æ‹‰å–-è¿è¡Œ-Docker-é•œåƒ"><a href="#4-æ‹‰å–-è¿è¡Œ-Docker-é•œåƒ" class="headerlink" title="4. æ‹‰å– &amp; è¿è¡Œ Docker é•œåƒ"></a>4. æ‹‰å– &amp; è¿è¡Œ Docker é•œåƒ</h2><blockquote><p>è¿™ä¸ªå…¨æ ˆå¼€å‘é•œåƒæ˜¯æˆ‘è‡ªå·±æ„å»ºçš„<br>Dockfile åœ¨ GitHub ä»“åº“è¿™é‡Œ <a href="https://github.com/james-curtis/code-os-debian">https://github.com/james-curtis/code-os-debian</a><br>åŒ…å«äº†</p><ul><li>zsh</li><li>ohmyzsh</li><li>powerlevel10k</li><li>ä¸­æ–‡è¯­è¨€åŒ…ï¼Œgui ä¸‹å¾®è½¯é›…é»‘å­—ä½“æ”¯æŒ</li><li>nodejsã€nvm</li><li>openssh</li><li>c++</li><li>wslg é€ä¼ åˆ° Windows æ¯æœºæ”¯æŒ</li><li>Pythonã€condaã€pdm<br> temurin 8ã€11ã€17 jdkï¼Œjenv<br> docker cli<br> TensorFlow<br> pytorch<br> cuda 11.8ã€cudatoolkit</li></ul></blockquote><h3 id="4-1-æ‹‰å–é•œåƒ"><a href="#4-1-æ‹‰å–é•œåƒ" class="headerlink" title="4.1. æ‹‰å–é•œåƒ"></a>4.1. æ‹‰å–é•œåƒ</h3><p>ç”±äºé•œåƒè¾ƒå¤§ï¼Œå»ºè®®å•ç‹¬æ‹‰å–</p><ul><li>GPU æ”¯æŒé•œåƒï¼ˆ9.94 GBï¼‰ï¼š<code>jamescurtisfoxmail/code-os:latest-gpu</code></li><li>ä»… CPU æ”¯æŒé•œåƒï¼ˆ2.77 GBï¼‰ï¼š<code>jamescurtisfoxmail/code-os:latest</code></li></ul><p>è¿™é‡Œä»¥ GPU æ”¯æŒé•œåƒä¸ºä¾‹</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull jamescurtisfoxmail/code-os:latest-gpu</span><br></pre></td></tr></table></figure><h3 id="4-2-ä¸‹è½½-compose-é…ç½®"><a href="#4-2-ä¸‹è½½-compose-é…ç½®" class="headerlink" title="4.2. ä¸‹è½½ compose é…ç½®"></a>4.2. ä¸‹è½½ compose é…ç½®</h3><p>ä¸‹è½½ Docker compose é…ç½®</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/james-curtis/code-os-debian.git</span><br></pre></td></tr></table></figure><h3 id="4-3-å¯åŠ¨-Docker-compose"><a href="#4-3-å¯åŠ¨-Docker-compose" class="headerlink" title="4.3. å¯åŠ¨ Docker compose"></a>4.3. å¯åŠ¨ Docker compose</h3><p>å¯åŠ¨ docker compose</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> code-os-debian/docker/wsl/</span><br><span class="line">bash run-gpu.sh</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°å·²ç»å¯åŠ¨æˆåŠŸäº†<br><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/1693484526128a07ecfed1340e7d02b919f23da9378c3.png" alt="1693484526128a07ecfed1340e7d02b919f23da9378c3.png"></p><h2 id="5-æ£€éªŒæˆæœ"><a href="#5-æ£€éªŒæˆæœ" class="headerlink" title="5. æ£€éªŒæˆæœ"></a>5. æ£€éªŒæˆæœ</h2><p>å…ˆè¿›å…¥ Docker å®¹å™¨</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> .gpu-envrc</span><br><span class="line">docker compose <span class="built_in">exec</span> os zsh</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/1693484539128fb39edd4cc37214c59b3cfd33a419119.png" alt="1693484539128fb39edd4cc37214c59b3cfd33a419119.png"></p><blockquote><p>å¦‚æœå­—ä½“ä¹±ç ï¼Œåº”è¯¥æ˜¯æ²¡æœ‰é…ç½® powerlevel10k çš„ <code>MesloLGS NF</code> å­—ä½“æ”¯æŒã€‚</p><p>æˆ‘ä½¿ç”¨çš„ç»ˆç«¯æ˜¯ <code>tabby</code> å…¨å¹³å°æ”¯æŒ    </p><p> <img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/169348454912865a864d5c148fa2d05c1ef3a0f4cd041.png" alt="169348454912865a864d5c148fa2d05c1ef3a0f4cd041.png"></p><p>åœ¨é¡¹ç›®ä¸­æœ‰è¿™å‡ ä¸ªå­—ä½“ï¼Œå¤åˆ¶åˆ° <code>c:\windows\fonts</code> ä¸­å³å¯</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/1693484558129f5fa68a6adf756a7251eddb9cf098e08.png" alt="1693484558129f5fa68a6adf756a7251eddb9cf098e08.png"></p></blockquote><h3 id="5-1-æ£€æµ‹-wslg-æ”¯æŒ"><a href="#5-1-æ£€æµ‹-wslg-æ”¯æŒ" class="headerlink" title="5.1. æ£€æµ‹ wslg æ”¯æŒ"></a>5.1. æ£€æµ‹ wslg æ”¯æŒ</h3><p><code>xeyes</code> ä¼šæ˜¾ç¤ºä¸€ä¸ªè·Ÿéšé¼ æ ‡çš„å°çœ¼ç›</p><p><code>xclock</code> æ˜¯æ˜¾ç¤ºä¸€ä¸ªæ—¶é’Ÿ</p><br/><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16934845681289dc2fb94f291f99e9c92fb8286d1299e.png" alt="16934845681289dc2fb94f291f99e9c92fb8286d1299e.png"></p><h3 id="5-2-æ£€æµ‹-NVIDIA-æ”¯æŒ"><a href="#5-2-æ£€æµ‹-NVIDIA-æ”¯æŒ" class="headerlink" title="5.2. æ£€æµ‹ NVIDIA æ”¯æŒ"></a>5.2. æ£€æµ‹ NVIDIA æ”¯æŒ</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvidia-smi</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16934845861283b76e4afea48293b2be2659a6259389e.png" alt="16934845861283b76e4afea48293b2be2659a6259389e.png"><br>æˆ‘è¿™é‡Œæ˜¾ç¤ºå‡ºäº†æ¯æœºçš„ 3060ï¼Œè¯´æ˜ Docker å·²ç»æ£€æµ‹åˆ°è¿™å¼ æ˜¾å¡</p><h3 id="5-3-æ£€æµ‹-TensorFlowæ”¯æŒ"><a href="#5-3-æ£€æµ‹-TensorFlowæ”¯æŒ" class="headerlink" title="5.3. æ£€æµ‹ TensorFlowæ”¯æŒ"></a>5.3. æ£€æµ‹ TensorFlowæ”¯æŒ</h3><h4 id="5-3-1-TensorFlow-CPU"><a href="#5-3-1-TensorFlow-CPU" class="headerlink" title="5.3.1 TensorFlow CPU"></a>5.3.1 TensorFlow CPU</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 -c <span class="string">&quot;import tensorflow as tf; print(tf.reduce_sum(tf.random.normal([1000, 1000])))&quot;</span></span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/1693484594155ce96a3ea90d8dd75ead62cb469ca6561.png" alt="1693484594155ce96a3ea90d8dd75ead62cb469ca6561.png"></p><p>æ‰“å°å‡ºäº†å¼ é‡</p><h4 id="5-3-2-TensorFlow-GPU"><a href="#5-3-2-TensorFlow-GPU" class="headerlink" title="5.3.2 TensorFlow GPU"></a>5.3.2 TensorFlow GPU</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 -c <span class="string">&quot;import tensorflow as tf; print(tf.config.list_physical_devices(&#x27;GPU&#x27;))&quot;</span></span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/1693484602126dce0e8a22b6a116b0332392835e9010e.png" alt="1693484602126dce0e8a22b6a116b0332392835e9010e.png"></p><p>å¯ä»¥çœ‹åˆ° TensorFlow ä¹Ÿæ£€æµ‹åˆ°äº†æ˜¾å¡</p><h4 id="5-3-3-å®‰è£…-kaggle-cli"><a href="#5-3-3-å®‰è£…-kaggle-cli" class="headerlink" title="5.3.3 å®‰è£… kaggle cli"></a>5.3.3 å®‰è£… kaggle cli</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install kaggle</span><br></pre></td></tr></table></figure><p>ç™»å½• kaggle ä¸‹è½½ç™»å½•å‡­æ®ï¼Œä¸‹è½½åˆ° <code>~/.kaggle/kaggle.json</code></p><blockquote><p>å®˜æ–¹æ•™ç¨‹ <a href="https://github.com/Kaggle/kaggle-api#api-credentials">https://github.com/Kaggle/kaggle-api#api-credentials</a></p></blockquote><p>è®¾ç½®æƒé™</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> 600 ~/.kaggle/kaggle.json</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/1693484611126002ed3169310ad3a2442ea36491ac828.png" alt="1693484611126002ed3169310ad3a2442ea36491ac828.png"></p><h4 id="5-3-4-æ£€æµ‹-TensorFlow-GPU-è´Ÿè½½æ”¯æŒ"><a href="#5-3-4-æ£€æµ‹-TensorFlow-GPU-è´Ÿè½½æ”¯æŒ" class="headerlink" title="5.3.4 æ£€æµ‹ TensorFlow GPU è´Ÿè½½æ”¯æŒ"></a>5.3.4 æ£€æµ‹ TensorFlow GPU è´Ÿè½½æ”¯æŒ</h4><p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ kaggle cli ä¸‹è½½æ¯”èµ›ä¸­åˆ«äººæäº¤çš„ä»£ç è¿›è¡Œæµ‹è¯•ï¼Œ<a href="https://www.kaggle.com/code/hassanamin/tensorflow-mnist-gpu-tutorial">https://www.kaggle.com/code/hassanamin/tensorflow-mnist-gpu-tutorial</a></p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16934846191270cd4adf205ebd8790e2b4bde76166a2b.png" alt="16934846191270cd4adf205ebd8790e2b4bde76166a2b.png"><br>å¤åˆ¶ä¸‹è½½å‘½ä»¤</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/1693484626126a7990a1e7044a3bb5a2054ec07eb7c8a.png" alt="1693484626126a7990a1e7044a3bb5a2054ec07eb7c8a.png"></p><p><strong>å¯åŠ¨ openssh-server</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service ssh start</span><br></pre></td></tr></table></figure><p>è¾“å…¥å¯†ç  <code>linux</code> </p><blockquote><p>é»˜è®¤ç”¨æˆ·å’Œå¯†ç éƒ½æ˜¯ <code>linux</code></p><p><code>root</code> ç”¨æˆ·åä¹Ÿæ˜¯ <code>linux</code></p></blockquote><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16934846331264737dece647d08f3fd827674cb12bd7b.png" alt="16934846331264737dece647d08f3fd827674cb12bd7b.png"></p><p><strong>æ‰“å¼€ vscode è¿›è¡Œè¿œç¨‹è¿æ¥</strong><br>éœ€è¦å…ˆä¸‹è½½è¿œç¨‹å¼€å‘æ’ä»¶ <code>ms-vscode-remote.vscode-remote-extensionpack</code></p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16934846411276154d21eb0a904f597d3fcb891ce5345.png" alt="16934846411276154d21eb0a904f597d3fcb891ce5345.png"></p><p>ç‚¹å‡»å·¦ä¸‹è§’çš„è“æ ‡ï¼Œä¼šå¼¹å‡ºå‘½ä»¤åˆ—è¡¨ï¼Œé€‰æ‹© <code>Connect to host</code></p><br/><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/1693484662126f34f5829cb9c8ae47ed3eba65b933212.png" alt="1693484662126f34f5829cb9c8ae47ed3eba65b933212.png"></p><br/><p>ç›´æ¥è¿æ¥ <code>localhost</code> å³å¯</p><br/><blockquote><p>ä¸ºä»€ä¹ˆå¯ä»¥ç›´æ¥é€šè¿‡ <code>localhost</code> è¿æ¥æœ‰ä¸¤ä¸ªåŸå› </p><ol><li>å¾®è½¯æ”¯æŒå®¿ä¸»æœºç›´æ¥è®¿é—® WSL çš„ç›‘å¬ç«¯å£</li><li>docker compose ä¸­è®¾ç½®çš„ <code>network</code> ç±»å‹æ˜¯ <code>host</code>ï¼Œä¹Ÿå°±æ˜¯å’Œ WSL å…¬ç”¨ä¸€ä¸ªç½‘ç»œ</li></ol></blockquote><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/1693484685126844afa00df2604630c9f9dc7df47533a.png" alt="1693484685126844afa00df2604630c9f9dc7df47533a.png"></p><p>ç‚¹å‡»å³ä¾§çš„ <code>Connect</code> </p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16934846901241578876302c28e81b0e1922330432b6f.png" alt="16934846901241578876302c28e81b0e1922330432b6f.png"><br>ä¼šæç¤ºé€‰æ‹©å¹³å°å’Œè¾“å…¥å¯†ç </p><p>å®Œæˆä¹‹åå³å¯è¿›è¡Œè¿œç¨‹å¼€å‘</p><p><strong>è¿›å…¥åˆšåˆš kaggle çš„é¡¹ç›®</strong></p><p>è¿™é‡Œç”±äºçš„åˆšåˆšæˆ‘ä¸‹è½½çš„ç›®å½•æ˜¯ <code>/tmp/kaggle/tf</code> æ‰€ä»¥è¿™é‡Œæˆ‘éœ€è¦æ‰“å¼€è¿™ä¸ªç›®å½•</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/1693484697124b68c65ea075ddb3ca0f4bae8f94dfaa2.png" alt="1693484697124b68c65ea075ddb3ca0f4bae8f94dfaa2.png"><br><strong>å®‰è£…æ’ä»¶</strong><br>éœ€è¦å®‰è£…çš„æ’ä»¶æœ‰</p><ul><li>donjayamanne.python-extension-pack</li><li>donjayamanne.python-extension-pack</li></ul><p>å®‰è£…å®Œæˆä¹‹åéœ€è¦åŠ è½½çª—å£</p><p><strong>é€‰æ‹©è¿è¡Œç¯å¢ƒ</strong><br>é€‰æ‹© conda Python3.9 ä½œä¸ºè¿è¡Œç¯å¢ƒ<br><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16934847051258ce5bc169a1945be5f4a05805a73f026.png" alt="16934847051258ce5bc169a1945be5f4a05805a73f026.png"><br>é€ä¸ªå•å…ƒæ ¼è¿è¡Œè¯•è¯•æ•ˆæœ</p><p>å¯ä»¥çœ‹åˆ°æ£€æµ‹åˆ° GPU äº†<br><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/1693484713124268cedbf858fe22cf23a9d8a0a0b15c6.png" alt="1693484713124268cedbf858fe22cf23a9d8a0a0b15c6.png"><br>å¯ä»¥çœ‹åˆ°æˆåŠŸè°ƒç”¨å®¿ä¸»æœºæ˜¾å¡<br><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16934847201250b779cecd0e73850fd2689ddf9d169cc.png" alt="16934847201250b779cecd0e73850fd2689ddf9d169cc.png"><br>ä¸è¿‡ä¼¼ä¹æ²¡æœ‰ä½¿å¾—æ˜¾å¡æ»¡è½½</p><h3 id="5-4-æ£€æµ‹-pytorch-cuda-æ”¯æŒ"><a href="#5-4-æ£€æµ‹-pytorch-cuda-æ”¯æŒ" class="headerlink" title="5.4. æ£€æµ‹ pytorch cuda æ”¯æŒ"></a>5.4. æ£€æµ‹ pytorch cuda æ”¯æŒ</h3><p>åœ¨ WSL ä¸­æ‰§è¡Œ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 -c <span class="string">&quot;import torch;print(torch.cuda.is_available());&quot;</span></span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/169348472712535ea23e934d88048e2c6c8dab35c3aea.png" alt="169348472712535ea23e934d88048e2c6c8dab35c3aea.png"></p><blockquote><p>è¿™é‡Œæˆ‘è¿˜æ²¡æœ‰æ¢ vscode çš„ç»ˆç«¯å­—ä½“ï¼Œæ‰€ä»¥ä¹±ç äº†ï¼Œå¿½ç•¥å³å¯</p></blockquote><h4 id="5-4-1-æ£€æµ‹-pytorch-GPU-è´Ÿè½½æ”¯æŒ"><a href="#5-4-1-æ£€æµ‹-pytorch-GPU-è´Ÿè½½æ”¯æŒ" class="headerlink" title="5.4.1 æ£€æµ‹ pytorch GPU è´Ÿè½½æ”¯æŒ"></a>5.4.1 æ£€æµ‹ pytorch GPU è´Ÿè½½æ”¯æŒ</h4><p>å¯¹äº pytorchï¼Œè¿™é‡Œä½¿ç”¨ <a href="https://www.kaggle.com/code/lyhue1991/pytorch-gpu-examples%EF%BC%8C%E4%BD%9C%E4%B8%BA%E6%B5%8B%E8%AF%95">https://www.kaggle.com/code/lyhue1991/pytorch-gpu-examplesï¼Œä½œä¸ºæµ‹è¯•</a> demo</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/1693484734124b153e92b893a5c208c7eb054b3154899.png" alt="1693484734124b153e92b893a5c208c7eb054b3154899.png"></p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/1693484743125e0d3a43375a635fe2a488d29b8a0c0ea.png" alt="1693484743125e0d3a43375a635fe2a488d29b8a0c0ea.png"></p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/169348475112489327abd58292ac9fc75036ecd4b132e.png" alt="169348475112489327abd58292ac9fc75036ecd4b132e.png"></p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/169348476212373dcb403f84c118c1e16e48e6bf352ad.png" alt="169348476212373dcb403f84c118c1e16e48e6bf352ad.png"><br>å¯ä»¥çœ‹åˆ°æˆåŠŸè°ƒåº¦ GPU</p><h3 id="6-æ£€æŸ¥-nodejs"><a href="#6-æ£€æŸ¥-nodejs" class="headerlink" title="6. æ£€æŸ¥ nodejs"></a>6. æ£€æŸ¥ nodejs</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line">nvm list</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16934847731247a5f0ca36fe146f3fa6985adb40d9a4c.png" alt="16934847731247a5f0ca36fe146f3fa6985adb40d9a4c.png"></p><h3 id="7-æ£€æŸ¥-java"><a href="#7-æ£€æŸ¥-java" class="headerlink" title="7. æ£€æŸ¥ java"></a>7. æ£€æŸ¥ java</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">java -version</span><br><span class="line">javac -version</span><br><span class="line">jenv versions</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/1693484779123aaba208a8173522f6b82e93ac2a64cb9.png" alt="1693484779123aaba208a8173522f6b82e93ac2a64cb9.png"></p><h3 id="8-æ£€æŸ¥-c"><a href="#8-æ£€æŸ¥-c" class="headerlink" title="8. æ£€æŸ¥ c++"></a>8. æ£€æŸ¥ c++</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">g++ -v</span><br><span class="line">gcc -v</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/169348478612341eb734dbd75537dc43fba98abb4c225.png" alt="169348478612341eb734dbd75537dc43fba98abb4c225.png"></p><h3 id="9-å®¹å™¨å·"><a href="#9-å®¹å™¨å·" class="headerlink" title="9. å®¹å™¨å·"></a>9. å®¹å™¨å·</h3><p>åœ¨ Dockerfile ä¸­æœ‰å†™åˆ°</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># =========== é…ç½® å®¹å™¨å· =============</span></span><br><span class="line"><span class="keyword">VOLUME</span><span class="language-bash"> [ <span class="string">&quot;/mnt/workspace&quot;</span>, <span class="string">&quot;/mnt/data&quot;</span> ]</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸¤ä¸ªç›®å½•éƒ½æ˜¯æŒä¹…åŒ–çš„ï¼Œä¹Ÿå°±æ˜¯ docker å®¹å™¨é”€æ¯ä¹‹åï¼Œåªæœ‰è¿™ä¸¤ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶ä¸ä¼šæ¸…ç†ï¼ˆé‡å¯ä¸å½±å“ï¼‰</p><p>å…¶ä¸­ <code>/mnt/workspace</code> æ˜¯æ˜ å°„åˆ° WSL ä¸­çš„ï¼ŒIO æ€§èƒ½æ¯”è¾ƒå·®</p><p><code>/mnt/data</code> æ˜¯æ²¡æœ‰æ˜ å°„çš„å®¹å™¨å·ï¼ŒIO æ€§èƒ½è¾ƒå¥½ï¼Œå»ºè®®é¡¹ç›®éƒ½æ”¾åˆ°è¯¥ç›®å½•ä¸‹</p><p>è‡³äº <code>/home/linux</code> ç”¨æˆ·ç›®å½•ä¸‹çš„æ–‡ä»¶å¯ä»¥è‡ªå·±åˆ›å»ºå¹¶æ˜ å°„å®¹å™¨å·</p><h2 id="6-å‚è€ƒæ–‡æ¡£"><a href="#6-å‚è€ƒæ–‡æ¡£" class="headerlink" title="6. å‚è€ƒæ–‡æ¡£"></a>6. å‚è€ƒæ–‡æ¡£</h2><ul><li><a href="https://learn.microsoft.com/zh-cn/windows/wsl/install">https://learn.microsoft.com/zh-cn/windows/wsl/install</a></li><li><a href="https://docs.docker.com/engine/install/ubuntu/">https://docs.docker.com/engine/install/ubuntu/</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2023/hello-world/"/>
      <url>/2023/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>debian æ€ä¹ˆä¿®æ”¹ man help ä¸ºä¸­æ–‡ï¼Œwsl æ€ä¹ˆä¿®æ”¹æ˜¾ç¤ºè¯­è¨€ä¸ºä¸­æ–‡</title>
      <link href="/2023/how-to-change-man-help-to-chinese-in-debian-how-to-change-the-display-language-of-wsl-to-chinese/"/>
      <url>/2023/how-to-change-man-help-to-chinese-in-debian-how-to-change-the-display-language-of-wsl-to-chinese/</url>
      
        <content type="html"><![CDATA[<p>åœ¨Debian 12ç³»ç»Ÿä¸­ï¼Œè¦å°†ç³»ç»Ÿè¯­è¨€å’ŒManå¸®åŠ©æ‰‹å†Œè®¾ç½®ä¸ºä¸­æ–‡ï¼Œéœ€è¦æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</p><ol><li><p>å®‰è£…ä¸­æ–‡è¯­è¨€åŒ…ï¼š<br>é¦–å…ˆï¼Œæ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨å¹¶å®‰è£…ä¸­æ–‡è¯­è¨€åŒ…ã€‚æ‰“å¼€ç»ˆç«¯å¹¶è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install locales</span><br></pre></td></tr></table></figure></li><li><p>é…ç½®æœ¬åœ°åŒ–è®¾ç½®ï¼š<br>å®‰è£…å®Œæˆåï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤é‡æ–°é…ç½®æœ¬åœ°åŒ–è®¾ç½®ï¼Œå¹¶é€‰æ‹©ä¸­æ–‡è¯­è¨€åŒ…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo dpkg-reconfigure locales</span><br></pre></td></tr></table></figure><p>åœ¨é€‰æ‹©ç•Œé¢ä¸­ï¼Œé€‰ä¸­<code>zh_CN.UTF-8</code>ï¼ˆä¸­æ–‡ç®€ä½“ï¼‰å’Œå…¶ä»–ä½ å¸Œæœ›æ”¯æŒçš„è¯­è¨€è®¾ç½®ã€‚ç„¶åæŒ‰ç©ºæ ¼é”®é€‰ä¸­ï¼Œä½¿ç”¨æ–¹å‘é”®ç§»åŠ¨åˆ°â€OKâ€å¹¶æŒ‰ä¸‹å›è½¦é”®ã€‚</p></li><li><p>è®¾ç½®ç³»ç»Ÿé»˜è®¤è¯­è¨€ï¼š<br>åœ¨ç»ˆç«¯ä¸­ç¼–è¾‘ä½ çš„bashé…ç½®æ–‡ä»¶ï¼ˆå¦‚<code>.bashrc</code>æˆ–<code>.bash_profile</code>ï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano ~/.bashrc</span><br></pre></td></tr></table></figure><p>åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ä»¥ä¸‹è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> LC_ALL=zh_CN.UTF-8</span><br><span class="line"><span class="built_in">export</span> LANG=zh_CN.UTF-8</span><br></pre></td></tr></table></figure><p>æŒ‰ä¸‹ <code>Ctrl+X</code>ï¼Œç„¶åè¾“å…¥ <code>Y</code> ä¿å­˜æ›´æ”¹å¹¶é€€å‡ºç¼–è¾‘å™¨ã€‚</p></li><li><p>ä½¿è®¾ç½®ç”Ÿæ•ˆï¼š<br>è¾“å…¥ä»¥ä¸‹å‘½ä»¤ä½¿é…ç½®æ–‡ä»¶çš„æ›´æ”¹ç”Ÿæ•ˆï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure></li><li><p>å®‰è£…ä¸­æ–‡Manå¸®åŠ©æ‰‹å†Œï¼š<br>å®‰è£…ä¸­æ–‡Manå¸®åŠ©æ‰‹å†Œçš„è½¯ä»¶åŒ…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install manpages-zh</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹ä¸­æ–‡Manå¸®åŠ©æ‰‹å†Œï¼š<br>ç°åœ¨ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>man</code>å‘½ä»¤æŸ¥çœ‹ä¸­æ–‡çš„Manå¸®åŠ©æ‰‹å†Œäº†ã€‚ä¾‹å¦‚ï¼Œè¦æŸ¥çœ‹<code>ls</code>å‘½ä»¤çš„ä¸­æ–‡Manå¸®åŠ©æ‰‹å†Œï¼Œå¯ä»¥è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">man <span class="built_in">ls</span></span><br></pre></td></tr></table></figure><p>ç¡®ä¿ç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºç°åœ¨ä»¥ä¸­æ–‡æ˜¾ç¤ºï¼Œå¹¶æ­£ç¡®è§£æå’Œå¤„ç†ä¸­æ–‡å­—ç¬¦ã€‚</p></li></ol><hr><p>å¦‚æœæƒ³é»˜è®¤æ˜¯è‹±æ–‡ï¼Œåœ¨éœ€è¦æ—¶å€™åˆ‡æ¢åˆ°ä¸­æ–‡çš„è¯ï¼Œå¯ä»¥æŠŠè®¾ç½®ç¯å¢ƒå˜é‡çš„ä¸¤æ¡è¯­å¥å†™åˆ°å…¶ä»–æ–‡ä»¶æ¯”å¦‚ <code>.zhcnrc</code> åœ¨éœ€è¦ä½¿ç”¨ä¸­æ–‡çš„æ—¶å€™ï¼Œä½¿ç”¨ <code>source ~/.zhcnrc</code> å‘½ä»¤å³å¯åˆ‡æ¢</p><p>è¦åˆ¤æ–­æ˜¯å¦åˆ‡æ¢æˆåŠŸï¼Œå¯ä»¥ä½¿ç”¨ <code>locales</code> å‘½ä»¤æŸ¥çœ‹</p>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>vimæ€ä¹ˆä½¿ç”¨ï¼Œvimä½¿ç”¨æ•™ç¨‹ï¼Œvimtutoræ€ä¹ˆåˆ‡æ¢ä¸­æ–‡ æ±‰åŒ–</title>
      <link href="/2023/how-to-use-vim-vim-usage-tutorial-how-to-switch-vimtutor-to-chinese-and-chinese/"/>
      <url>/2023/how-to-use-vim-vim-usage-tutorial-how-to-switch-vimtutor-to-chinese-and-chinese/</url>
      
        <content type="html"><![CDATA[<h1 id="vimæ€ä¹ˆä½¿ç”¨ï¼Œvimä½¿ç”¨æ•™ç¨‹ï¼Œvimtutoræ€ä¹ˆåˆ‡æ¢ä¸­æ–‡-æ±‰åŒ–"><a href="#vimæ€ä¹ˆä½¿ç”¨ï¼Œvimä½¿ç”¨æ•™ç¨‹ï¼Œvimtutoræ€ä¹ˆåˆ‡æ¢ä¸­æ–‡-æ±‰åŒ–" class="headerlink" title="vimæ€ä¹ˆä½¿ç”¨ï¼Œvimä½¿ç”¨æ•™ç¨‹ï¼Œvimtutoræ€ä¹ˆåˆ‡æ¢ä¸­æ–‡ æ±‰åŒ–"></a>vimæ€ä¹ˆä½¿ç”¨ï¼Œvimä½¿ç”¨æ•™ç¨‹ï¼Œvimtutoræ€ä¹ˆåˆ‡æ¢ä¸­æ–‡ æ±‰åŒ–</h1><h1 id="vim-ä½¿ç”¨"><a href="#vim-ä½¿ç”¨" class="headerlink" title="vim ä½¿ç”¨"></a>vim ä½¿ç”¨</h1><blockquote><p>åœ¨å®‰è£…äº† vim çš„ unix ç³»ç»Ÿä¸‹å¯ä»¥ä½¿ç”¨ <code>vimtutor zh_cn</code> å¼€å¯ä¸‹é¢çš„æ•™ç¨‹</p></blockquote><h2 id="åºè¨€"><a href="#åºè¨€" class="headerlink" title="åºè¨€"></a>åºè¨€</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">===============================================================================</span><br><span class="line">=      æ¬¢     è¿     é˜…     è¯»   ã€Š V I M  æ•™  ç¨‹ ã€‹   â€”â€”      ç‰ˆæœ¬ 1.7       =</span><br><span class="line">===============================================================================</span><br><span class="line"></span><br><span class="line">     Vim æ˜¯ä¸€ä¸ªå…·æœ‰å¾ˆå¤šå‘½ä»¤çš„åŠŸèƒ½éå¸¸å¼ºå¤§çš„ç¼–è¾‘å™¨ã€‚é™äºç¯‡å¹…ï¼Œåœ¨æœ¬æ•™ç¨‹å½“ä¸­</span><br><span class="line">     å°±ä¸è¯¦ç»†ä»‹ç»äº†ã€‚æœ¬æ•™ç¨‹çš„è®¾è®¡ç›®æ ‡æ˜¯è®²è¿°ä¸€äº›å¿…è¦çš„åŸºæœ¬å‘½ä»¤ï¼Œè€ŒæŒæ¡å¥½è¿™</span><br><span class="line">     äº›å‘½ä»¤ï¼Œæ‚¨å°±èƒ½å¤Ÿå¾ˆå®¹æ˜“åœ°å°† Vim å½“ä½œä¸€ä¸ªé€šç”¨ç¼–è¾‘å™¨æ¥ä½¿ç”¨äº†ã€‚</span><br><span class="line"></span><br><span class="line">     å®Œæˆæœ¬æ•™ç¨‹çš„å†…å®¹å¤§çº¦éœ€è¦25-30åˆ†é’Ÿï¼Œå–å†³äºæ‚¨è®­ç»ƒçš„æ—¶é—´ã€‚</span><br><span class="line"></span><br><span class="line">     æ³¨æ„ï¼š</span><br><span class="line">     æ¯ä¸€èŠ‚çš„å‘½ä»¤æ“ä½œå°†ä¼šæ›´æ”¹æœ¬æ–‡ã€‚æ¨èæ‚¨å¤åˆ¶æœ¬æ–‡çš„ä¸€ä¸ªå‰¯æœ¬ï¼Œç„¶ååœ¨å‰¯æœ¬ä¸Š</span><br><span class="line">     è¿›è¡Œè®­ç»ƒ(å¦‚æœæ‚¨æ˜¯é€šè¿‡&quot;vimtutor&quot;æ¥å¯åŠ¨æ•™ç¨‹çš„ï¼Œé‚£ä¹ˆæœ¬æ–‡å°±å·²ç»æ˜¯å‰¯æœ¬äº†)ã€‚</span><br><span class="line"></span><br><span class="line">     åˆ‡è®°ä¸€ç‚¹ï¼šæœ¬æ•™ç¨‹çš„è®¾è®¡æ€è·¯æ˜¯åœ¨ä½¿ç”¨ä¸­è¿›è¡Œå­¦ä¹ çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ‚¨éœ€è¦é€šè¿‡</span><br><span class="line">     æ‰§è¡Œå‘½ä»¤æ¥å­¦ä¹ å®ƒä»¬æœ¬èº«çš„æ­£ç¡®ç”¨æ³•ã€‚å¦‚æœæ‚¨åªæ˜¯é˜…è¯»è€Œä¸æ“ä½œï¼Œé‚£ä¹ˆæ‚¨å¯èƒ½</span><br><span class="line">     ä¼šå¾ˆå¿«é—å¿˜è¿™äº›å‘½ä»¤çš„ï¼</span><br><span class="line"></span><br><span class="line">     å¥½äº†ï¼Œç°åœ¨è¯·ç¡®å®šæ‚¨çš„Shift-Lock(å¤§å°å†™é”å®šé”®)è¿˜æ²¡æœ‰æŒ‰ä¸‹ï¼Œç„¶åæŒ‰é”®ç›˜ä¸Š</span><br><span class="line">     çš„å­—æ¯é”® j è¶³å¤Ÿå¤šæ¬¡æ¥ç§»åŠ¨å…‰æ ‡ï¼Œç›´åˆ°ç¬¬ä¸€èŠ‚çš„å†…å®¹èƒ½å¤Ÿå®Œå…¨å……æ»¡å±å¹•ã€‚</span><br></pre></td></tr></table></figure><h2 id="ç¬¬ä¸€è®²ç¬¬ä¸€èŠ‚ï¼šç§»åŠ¨å…‰æ ‡"><a href="#ç¬¬ä¸€è®²ç¬¬ä¸€èŠ‚ï¼šç§»åŠ¨å…‰æ ‡" class="headerlink" title="ç¬¬ä¸€è®²ç¬¬ä¸€èŠ‚ï¼šç§»åŠ¨å…‰æ ‡"></a>ç¬¬ä¸€è®²ç¬¬ä¸€èŠ‚ï¼šç§»åŠ¨å…‰æ ‡</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">             ** è¦ç§»åŠ¨å…‰æ ‡ï¼Œè¯·ä¾ç…§è¯´æ˜åˆ†åˆ«æŒ‰ä¸‹ hã€jã€kã€l é”®ã€‚ **</span><br><span class="line"></span><br><span class="line">             ^</span><br><span class="line">             k              æç¤ºï¼š h çš„é”®ä½äºå·¦è¾¹ï¼Œæ¯æ¬¡æŒ‰ä¸‹å°±ä¼šå‘å·¦ç§»åŠ¨ã€‚</span><br><span class="line">       &lt; h       l &gt;               l çš„é”®ä½äºå³è¾¹ï¼Œæ¯æ¬¡æŒ‰ä¸‹å°±ä¼šå‘å³ç§»åŠ¨ã€‚</span><br><span class="line">             j                     j é”®çœ‹èµ·æ¥å¾ˆè±¡ä¸€æ”¯å°–ç«¯æ–¹å‘æœä¸‹çš„ç®­å¤´ã€‚</span><br><span class="line">             v</span><br><span class="line"></span><br><span class="line">  1. è¯·éšæ„åœ¨å±å¹•å†…ç§»åŠ¨å…‰æ ‡ï¼Œç›´è‡³æ‚¨è§‰å¾—èˆ’æœä¸ºæ­¢ã€‚</span><br><span class="line"></span><br><span class="line">  2. æŒ‰ä¸‹ä¸‹è¡Œé”®(j)ï¼Œç›´åˆ°å‡ºç°å…‰æ ‡é‡å¤ä¸‹è¡Œã€‚</span><br><span class="line"></span><br><span class="line">---&gt; ç°åœ¨æ‚¨åº”è¯¥å·²ç»å­¦ä¼šå¦‚ä½•ç§»åŠ¨åˆ°ä¸‹ä¸€è®²å§ã€‚</span><br><span class="line"></span><br><span class="line">  3. ç°åœ¨è¯·ä½¿ç”¨ä¸‹è¡Œé”®ï¼Œå°†å…‰æ ‡ç§»åŠ¨åˆ°ç¬¬ä¸€è®²ç¬¬äºŒèŠ‚ã€‚</span><br><span class="line"></span><br><span class="line">æç¤ºï¼šå¦‚æœæ‚¨ä¸æ•¢ç¡®å®šæ‚¨æ‰€æŒ‰ä¸‹çš„å­—æ¯ï¼Œè¯·æŒ‰ä¸‹&lt;ESC&gt;é”®å›åˆ°æ­£å¸¸(Normal)æ¨¡å¼ã€‚</span><br><span class="line">      ç„¶åå†æ¬¡ä»é”®ç›˜è¾“å…¥æ‚¨æƒ³è¦çš„å‘½ä»¤ã€‚</span><br><span class="line"></span><br><span class="line">æç¤ºï¼šå…‰æ ‡é”®åº”å½“ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œçš„ã€‚ä½†æ˜¯ä½¿ç”¨hjklé”®ï¼Œåœ¨ä¹ æƒ¯ä¹‹åæ‚¨å°±èƒ½å¤Ÿæ›´å¿«</span><br><span class="line">      åœ°åœ¨å±å¹•å†…å››å¤„ç§»åŠ¨å…‰æ ‡ã€‚çœŸçš„æ˜¯è¿™æ ·ï¼</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong></p><p><code>hjkl</code>å¹¶ä¸æ˜¯ç‰¹å®šå•è¯çš„ç¼©å†™ã€‚è¿™äº›å­—ç¬¦<code>h</code>ã€<code>j</code>ã€<code>k</code>ã€<code>l</code>ä»…ä»…æ˜¯ä¸ºäº†æ–¹ä¾¿åœ¨Vimç¼–è¾‘å™¨ä¸­è¡¨ç¤ºä¸Šä¸‹å·¦å³æ–¹å‘è€Œé€‰å®šçš„æŒ‰é”®ã€‚å®ƒä»¬æ²¡æœ‰ç‰¹å®šçš„å«ä¹‰æˆ–å•è¯èƒŒåçš„ç¼©å†™ã€‚</p><h2 id="ç¬¬ä¸€è®²ç¬¬äºŒèŠ‚ï¼šVIMçš„è¿›å…¥å’Œé€€å‡º"><a href="#ç¬¬ä¸€è®²ç¬¬äºŒèŠ‚ï¼šVIMçš„è¿›å…¥å’Œé€€å‡º" class="headerlink" title="ç¬¬ä¸€è®²ç¬¬äºŒèŠ‚ï¼šVIMçš„è¿›å…¥å’Œé€€å‡º"></a>ç¬¬ä¸€è®²ç¬¬äºŒèŠ‚ï¼šVIMçš„è¿›å…¥å’Œé€€å‡º</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">  !! ç‰¹åˆ«æç¤ºï¼šæ•¬è¯·é˜…è¯»æœ¬ä¸€èŠ‚çš„å®Œæ•´å†…å®¹ï¼Œç„¶åå†æ‰§è¡Œä»¥ä¸‹æ‰€è®²è§£çš„å‘½ä»¤ã€‚</span><br><span class="line"></span><br><span class="line">  1. æŒ‰&lt;ESC&gt;é”®(è¿™æ˜¯ä¸ºäº†ç¡®ä¿æ‚¨å¤„åœ¨æ­£å¸¸æ¨¡å¼)ã€‚</span><br><span class="line"></span><br><span class="line">  2. ç„¶åè¾“å…¥ï¼š                 :q! &lt;å›è½¦&gt;</span><br><span class="line">     è¿™ç§æ–¹å¼çš„é€€å‡ºç¼–è¾‘å™¨ä¼šä¸¢å¼ƒæ‚¨è¿›å…¥ç¼–è¾‘å™¨ä»¥æ¥æ‰€åšçš„æ”¹åŠ¨ã€‚</span><br><span class="line"></span><br><span class="line">  3. å¦‚æœæ‚¨çœ‹åˆ°äº†å‘½ä»¤è¡Œæç¤ºç¬¦ï¼Œè¯·è¾“å…¥èƒ½å¤Ÿå¸¦æ‚¨å›åˆ°æœ¬æ•™ç¨‹çš„å‘½ä»¤ï¼Œé‚£å°±æ˜¯ï¼š</span><br><span class="line">     vimtutor &lt;å›è½¦&gt;</span><br><span class="line"></span><br><span class="line">  4. å¦‚æœæ‚¨è‡ªä¿¡å·²ç»ç‰¢ç‰¢è®°ä½äº†è¿™äº›æ­¥éª¤çš„è¯ï¼Œè¯·ä»æ­¥éª¤1æ‰§è¡Œåˆ°æ­¥éª¤3é€€å‡ºï¼Œç„¶</span><br><span class="line">     åå†æ¬¡è¿›å…¥ç¼–è¾‘å™¨ã€‚</span><br><span class="line"></span><br><span class="line">æç¤ºï¼š :q! &lt;å›è½¦&gt; ä¼šä¸¢å¼ƒæ‚¨æ‰€åšçš„ä»»ä½•æ”¹åŠ¨ã€‚å‡ è®²ä¹‹åæ‚¨å°†å­¦ä¼šå¦‚ä½•ä¿å­˜æ”¹åŠ¨åˆ°æ–‡ä»¶ã€‚</span><br><span class="line"></span><br><span class="line">  5. å°†å…‰æ ‡ä¸‹ç§»åˆ°ç¬¬ä¸€è®²ç¬¬ä¸‰èŠ‚ã€‚</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong></p><p><code>q</code> æ˜¯ <code>quit</code>ï¼ˆé€€å‡ºï¼‰å•è¯ç¼©å†™</p><h2 id="ç¬¬ä¸€è®²ç¬¬ä¸‰èŠ‚ï¼šæ–‡æœ¬ç¼–è¾‘ä¹‹åˆ é™¤"><a href="#ç¬¬ä¸€è®²ç¬¬ä¸‰èŠ‚ï¼šæ–‡æœ¬ç¼–è¾‘ä¹‹åˆ é™¤" class="headerlink" title="ç¬¬ä¸€è®²ç¬¬ä¸‰èŠ‚ï¼šæ–‡æœ¬ç¼–è¾‘ä¹‹åˆ é™¤"></a>ç¬¬ä¸€è®²ç¬¬ä¸‰èŠ‚ï¼šæ–‡æœ¬ç¼–è¾‘ä¹‹åˆ é™¤</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">   ** åœ¨æ­£å¸¸(Normal)æ¨¡å¼ä¸‹ï¼Œå¯ä»¥æŒ‰ä¸‹ x é”®æ¥åˆ é™¤å…‰æ ‡æ‰€åœ¨ä½ç½®çš„å­—ç¬¦ã€‚**</span><br><span class="line"></span><br><span class="line">  1. è¯·å°†å…‰æ ‡ç§»åŠ¨åˆ°æœ¬èŠ‚ä¸­ä¸‹é¢æ ‡è®°æœ‰ ---&gt; çš„é‚£ä¸€è¡Œã€‚</span><br><span class="line"></span><br><span class="line">  2. ä¸ºäº†ä¿®æ­£è¾“å…¥é”™è¯¯ï¼Œè¯·å°†å…‰æ ‡ç§»è‡³å‡†å¤‡åˆ é™¤çš„å­—ç¬¦çš„ä½ç½®å¤„ã€‚</span><br><span class="line"></span><br><span class="line">  3. ç„¶åæŒ‰ä¸‹ x é”®å°†é”™è¯¯å­—ç¬¦åˆ é™¤æ‰ã€‚</span><br><span class="line"></span><br><span class="line">  4. é‡å¤æ­¥éª¤2åˆ°æ­¥éª¤4ï¼Œç›´åˆ°å¥å­ä¿®æ­£ä¸ºæ­¢ã€‚</span><br><span class="line"></span><br><span class="line">---&gt; The ccow jumpedd ovverr thhe mooon.</span><br><span class="line"></span><br><span class="line">  5. å¥½äº†ï¼Œè¯¥è¡Œå·²ç»ä¿®æ­£äº†ï¼Œä¸‹é¢æ˜¯ç¬¬ä¸€è®²ç¬¬å››èŠ‚ã€‚</span><br><span class="line"></span><br><span class="line">ç‰¹åˆ«æç¤ºï¼šåœ¨æµè§ˆæœ¬æ•™ç¨‹æ—¶ï¼Œä¸è¦å¼ºè¡Œè®°å¿†ã€‚è®°ä½ä¸€ç‚¹ï¼šåœ¨ä½¿ç”¨ä¸­å­¦ä¹ ã€‚</span><br></pre></td></tr></table></figure><h2 id="ç¬¬ä¸€è®²ç¬¬å››èŠ‚ï¼šæ–‡æœ¬ç¼–è¾‘ä¹‹æ’å…¥"><a href="#ç¬¬ä¸€è®²ç¬¬å››èŠ‚ï¼šæ–‡æœ¬ç¼–è¾‘ä¹‹æ’å…¥" class="headerlink" title="ç¬¬ä¸€è®²ç¬¬å››èŠ‚ï¼šæ–‡æœ¬ç¼–è¾‘ä¹‹æ’å…¥"></a>ç¬¬ä¸€è®²ç¬¬å››èŠ‚ï¼šæ–‡æœ¬ç¼–è¾‘ä¹‹æ’å…¥</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">         ** åœ¨æ­£å¸¸æ¨¡å¼ä¸‹ï¼Œå¯ä»¥æŒ‰ä¸‹ i é”®æ¥æ’å…¥æ–‡æœ¬ã€‚**</span><br><span class="line"></span><br><span class="line">  1. è¯·å°†å…‰æ ‡ç§»åŠ¨åˆ°æœ¬èŠ‚ä¸­ä¸‹é¢æ ‡è®°æœ‰ ---&gt; çš„ç¬¬ä¸€è¡Œã€‚</span><br><span class="line"></span><br><span class="line">  2. ä¸ºäº†ä½¿å¾—ç¬¬ä¸€è¡Œå†…å®¹é›·åŒäºç¬¬äºŒè¡Œï¼Œè¯·å°†å…‰æ ‡ç§»è‡³æ–‡æœ¬ç¬¬ä¸€ä¸ªå‡†å¤‡æ’å…¥å­—ç¬¦</span><br><span class="line">     çš„ä½ç½®ã€‚</span><br><span class="line"></span><br><span class="line">  3. ç„¶åæŒ‰ä¸‹ i é”®ï¼Œæ¥ç€è¾“å…¥å¿…è¦çš„æ–‡æœ¬å­—ç¬¦ã€‚</span><br><span class="line"></span><br><span class="line">  4. æ¯ä¸ªé”™è¯¯ä¿®æ­£å®Œæ¯•åï¼Œè¯·æŒ‰ä¸‹ &lt;ESC&gt; é”®è¿”å›æ­£å¸¸æ¨¡å¼ã€‚</span><br><span class="line">     é‡å¤æ­¥éª¤2è‡³æ­¥éª¤4ä»¥ä¾¿ä¿®æ­£å¥å­ã€‚</span><br><span class="line"></span><br><span class="line">---&gt; There is text misng this .</span><br><span class="line">---&gt; There is some text missing from this line.</span><br><span class="line"></span><br><span class="line">  5. å¦‚æœæ‚¨å¯¹æ–‡æœ¬æ’å…¥æ“ä½œå·²ç»å¾ˆæ»¡æ„ï¼Œè¯·æ¥ç€é˜…è¯»ä¸‹é¢çš„ç¬¬ä¸€è®²ç¬¬äº”èŠ‚ã€‚</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong></p><p><code>i</code> æ˜¯ <code>insert</code>ï¼ˆæ’å…¥ï¼‰å•è¯çš„ç¼©å†™</p><p>Ié”®ï¼ˆå°å†™ï¼‰ï¼šåœ¨å½“å‰å…‰æ ‡æ‰€åœ¨å­—ç¬¦çš„å‰é¢è¿›å…¥æ’å…¥æ¨¡å¼ã€‚</p><p>æŒ‰ä¸‹Ié”®åï¼Œå…‰æ ‡ä¼šä¿æŒåœ¨å½“å‰å­—ç¬¦çš„ä½ç½®ï¼Œç„¶åä½ å¯ä»¥å¼€å§‹è¾“å…¥æ–°çš„æ–‡æœ¬ã€‚è¿™å¯¹äºåœ¨è¡Œçš„ä»»ä½•ä½ç½®å¼€å§‹æ·»åŠ å†…å®¹å¾ˆæœ‰ç”¨ã€‚</p><h2 id="ç¬¬ä¸€è®²ç¬¬äº”èŠ‚ï¼šæ–‡æœ¬ç¼–è¾‘ä¹‹æ·»åŠ "><a href="#ç¬¬ä¸€è®²ç¬¬äº”èŠ‚ï¼šæ–‡æœ¬ç¼–è¾‘ä¹‹æ·»åŠ " class="headerlink" title="ç¬¬ä¸€è®²ç¬¬äº”èŠ‚ï¼šæ–‡æœ¬ç¼–è¾‘ä¹‹æ·»åŠ "></a>ç¬¬ä¸€è®²ç¬¬äº”èŠ‚ï¼šæ–‡æœ¬ç¼–è¾‘ä¹‹æ·»åŠ </h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">                        ** æŒ‰ A é”®ä»¥æ·»åŠ æ–‡æœ¬ã€‚ **</span><br><span class="line"></span><br><span class="line">  1. ç§»åŠ¨å…‰æ ‡åˆ°ä¸‹é¢ç¬¬ä¸€ä¸ªæ ‡è®°æœ‰ ---&gt; çš„ä¸€è¡Œã€‚</span><br><span class="line">     å…‰æ ‡æ”¾åœ¨é‚£ä¸€è¡Œçš„å“ªä¸ªå­—ç¬¦ä¸Šå¹¶ä¸é‡è¦ã€‚</span><br><span class="line"></span><br><span class="line">  2. æŒ‰ A é”®è¾“å…¥å¿…è¦çš„æ·»åŠ å†…å®¹ã€‚</span><br><span class="line"></span><br><span class="line">  3. æ–‡æœ¬æ·»åŠ å®Œæ¯•åï¼ŒæŒ‰ &lt;ESC&gt; é”®å›åˆ°æ­£å¸¸æ¨¡å¼ã€‚</span><br><span class="line"></span><br><span class="line">  4. ç§»åŠ¨å…‰æ ‡åˆ°ä¸‹é¢ç¬¬äºŒä¸ªæ ‡è®°æœ‰ ---&gt; çš„ä¸€è¡Œã€‚é‡å¤æ­¥éª¤2å’Œæ­¥éª¤3ä»¥æ”¹æ­£è¿™ä¸ªå¥å­ã€‚</span><br><span class="line"></span><br><span class="line">---&gt; There is some text missing from th</span><br><span class="line">     There is some text missing from this line.</span><br><span class="line">---&gt; There is also some text miss</span><br><span class="line">     There is also some text missing here.</span><br><span class="line"></span><br><span class="line">  5. å½“æ‚¨å¯¹æ·»åŠ æ–‡æœ¬æ“ä½œæ„Ÿåˆ°æ»¡æ„æ—¶ï¼Œè¯·ç»§ç»­å­¦ä¹ ç¬¬ä¸€è®²ç¬¬å…­èŠ‚ã€‚</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong></p><p><code>a</code> æ˜¯ <code>append</code>ï¼ˆæ·»åŠ ï¼‰å•è¯çš„ç¼©å†™</p><p>Aé”®ï¼ˆå°å†™ï¼‰ï¼šåœ¨å½“å‰å…‰æ ‡æ‰€åœ¨å­—ç¬¦çš„åé¢è¿›å…¥æ’å…¥æ¨¡å¼ã€‚</p><p>æŒ‰ä¸‹Aé”®åï¼Œå…‰æ ‡ä¼šç§»åŠ¨åˆ°å½“å‰è¡Œçš„æœ«å°¾ï¼Œç„¶åä½ å¯ä»¥å¼€å§‹è¾“å…¥æ–°çš„æ–‡æœ¬ã€‚è¿™å¯¹äºåœ¨è¡Œçš„æœ«å°¾æ·»åŠ å†…å®¹å¾ˆæ–¹ä¾¿ã€‚</p><h2 id="ç¬¬ä¸€è®²ç¬¬å…­èŠ‚ï¼šç¼–è¾‘æ–‡ä»¶"><a href="#ç¬¬ä¸€è®²ç¬¬å…­èŠ‚ï¼šç¼–è¾‘æ–‡ä»¶" class="headerlink" title="ç¬¬ä¸€è®²ç¬¬å…­èŠ‚ï¼šç¼–è¾‘æ–‡ä»¶"></a>ç¬¬ä¸€è®²ç¬¬å…­èŠ‚ï¼šç¼–è¾‘æ–‡ä»¶</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">                  ** ä½¿ç”¨ :wq ä»¥ä¿å­˜æ–‡ä»¶å¹¶é€€å‡ºã€‚ **</span><br><span class="line"></span><br><span class="line">ç‰¹åˆ«æç¤ºï¼šåœ¨æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ä¹‹å‰ï¼Œè¯·å…ˆè¯»å®Œæ•´ä¸ªå°èŠ‚ï¼</span><br><span class="line"></span><br><span class="line">1. å¦‚æ‚¨åœ¨ç¬¬ä¸€è®²ç¬¬äºŒèŠ‚ä¸­æ‰€åšçš„é‚£æ ·é€€å‡ºæœ¬æ•™ç¨‹ï¼š :q!</span><br><span class="line">   æˆ–è€…ï¼Œå¦‚æœæ‚¨å¯ä»¥è®¿é—®å¦ä¸€ä¸ªç»ˆç«¯ï¼Œè¯·åœ¨é‚£é‡Œæ‰§è¡Œä»¥ä¸‹æ“ä½œã€‚</span><br><span class="line"></span><br><span class="line">2. åœ¨ shell çš„æç¤ºç¬¦ä¸‹è¾“å…¥å‘½ä»¤ï¼š vim tutor &lt;å›è½¦&gt;</span><br><span class="line">   &#x27;vim&#x27;æ˜¯å¯åŠ¨ Vim ç¼–è¾‘å™¨çš„å‘½ä»¤ï¼Œ&#x27;tutor&#x27;æ˜¯æ‚¨å¸Œæœ›ç¼–è¾‘çš„æ–‡ä»¶çš„åå­—ã€‚</span><br><span class="line">   è¯·ä½¿ç”¨ä¸€ä¸ªå¯ä»¥æ”¹åŠ¨çš„æ–‡ä»¶ã€‚</span><br><span class="line"></span><br><span class="line">3. ä½¿ç”¨æ‚¨åœ¨å‰é¢çš„æ•™ç¨‹ä¸­å­¦åˆ°çš„å‘½ä»¤æ’å…¥åˆ é™¤æ–‡æœ¬ã€‚</span><br><span class="line"></span><br><span class="line">4. ä¿å­˜æ”¹åŠ¨è¿‡çš„æ–‡ä»¶å¹¶é€€å‡º Vimï¼ŒæŒ‰è¿™äº›é”®ï¼š :wq  &lt;å›è½¦&gt;</span><br><span class="line"></span><br><span class="line">5. å¦‚æœæ‚¨åœ¨æ­¥éª¤1ä¸­å·²ç»é€€å‡º vimtutorï¼Œè¯·é‡å¯ vimtutor ç§»åŠ¨åˆ°ä¸‹é¢çš„å°ç»“ä¸€èŠ‚ã€‚</span><br><span class="line"></span><br><span class="line">6. é˜…è¯»å®Œä»¥ä¸Šæ­¥éª¤ï¼Œå¼„æ‡‚å®ƒä»¬çš„æ„ä¹‰ï¼Œç„¶ååœ¨å®è·µä¸­è¿›è¡Œç»ƒä¹ ã€‚</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong><br><code>:wq</code> ä¸­çš„ <code>w</code> æ˜¯ <code>write</code>ï¼ˆå†™å…¥ï¼‰çš„ç¼©å†™</p><h2 id="ç¬¬ä¸€è®²å°ç»“"><a href="#ç¬¬ä¸€è®²å°ç»“" class="headerlink" title="ç¬¬ä¸€è®²å°ç»“"></a>ç¬¬ä¸€è®²å°ç»“</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">  1. å…‰æ ‡åœ¨å±å¹•æ–‡æœ¬ä¸­çš„ç§»åŠ¨æ—¢å¯ä»¥ç”¨ç®­å¤´é”®ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ hjkl å­—æ¯é”®ã€‚</span><br><span class="line">         h (å·¦ç§»)       j (ä¸‹è¡Œ)       k (ä¸Šè¡Œ)     l (å³ç§»)</span><br><span class="line"></span><br><span class="line">  2. æ¬²è¿›å…¥ Vim ç¼–è¾‘å™¨(ä»å‘½ä»¤è¡Œæç¤ºç¬¦)ï¼Œè¯·è¾“å…¥ï¼švim æ–‡ä»¶å &lt;å›è½¦&gt;</span><br><span class="line"></span><br><span class="line">  3. æ¬²é€€å‡º Vim ç¼–è¾‘å™¨ï¼Œè¯·è¾“å…¥ &lt;ESC&gt;   :q!   &lt;å›è½¦&gt; æ”¾å¼ƒæ‰€æœ‰æ”¹åŠ¨ã€‚</span><br><span class="line">                      æˆ–è€…è¾“å…¥ &lt;ESC&gt;   :wq   &lt;å›è½¦&gt; ä¿å­˜æ”¹åŠ¨ã€‚</span><br><span class="line"></span><br><span class="line">  4. åœ¨æ­£å¸¸æ¨¡å¼ä¸‹åˆ é™¤å…‰æ ‡æ‰€åœ¨ä½ç½®çš„å­—ç¬¦ï¼Œè¯·æŒ‰ï¼š x</span><br><span class="line"></span><br><span class="line">  5. æ¬²æ’å…¥æˆ–æ·»åŠ æ–‡æœ¬ï¼Œè¯·è¾“å…¥ï¼š</span><br><span class="line"></span><br><span class="line">         i   è¾“å…¥æ¬²æ’å…¥æ–‡æœ¬   &lt;ESC&gt;             åœ¨å…‰æ ‡å‰æ’å…¥æ–‡æœ¬</span><br><span class="line">         A   è¾“å…¥æ¬²æ·»åŠ æ–‡æœ¬   &lt;ESC&gt;             åœ¨ä¸€è¡Œåæ·»åŠ æ–‡æœ¬</span><br><span class="line"></span><br><span class="line">ç‰¹åˆ«æç¤ºï¼šæŒ‰ä¸‹ &lt;ESC&gt; é”®ä¼šå¸¦æ‚¨å›åˆ°æ­£å¸¸æ¨¡å¼æˆ–è€…æ’¤æ¶ˆä¸€ä¸ªä¸æƒ³è¾“å…¥æˆ–éƒ¨åˆ†å®Œæ•´</span><br><span class="line">çš„å‘½ä»¤ã€‚</span><br><span class="line"></span><br><span class="line">å¥½äº†ï¼Œç¬¬ä¸€è®²åˆ°æ­¤ç»“æŸã€‚ä¸‹é¢æ¥ä¸‹æ¥ç»§ç»­ç¬¬äºŒè®²çš„å†…å®¹ã€‚</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>æ›¿æ¢linuxçš„æ–‡æ³‰é©¿æ­£é»‘fonts-wqy-zenheiå­—ä½“ æ›¿æ¢linuxé»˜è®¤ä¸­æ–‡å­—ä½“</title>
      <link href="/2023/replace-the-linux-wenquanyi-zhenghei-fonts-wqy-zenhei-font-and-replace-the-linux-default-chinese-font/"/>
      <url>/2023/replace-the-linux-wenquanyi-zhenghei-fonts-wqy-zenhei-font-and-replace-the-linux-default-chinese-font/</url>
      
        <content type="html"><![CDATA[<p>WSL æ€ä¹ˆæ›¿æ¢ linux çš„æ–‡æ³‰é©¿æ­£é»‘ fonts-wqy-zenhei å­—ä½“<br>WSL æ€ä¹ˆæ›¿æ¢ linux é»˜è®¤ä¸­æ–‡å­—ä½“</p><p>åœ¨ wsl ä¸­é»˜è®¤æ˜¯æ²¡æœ‰ gnome ç•Œé¢æˆ–è€… xface çš„ï¼Œä½†æ˜¯æˆ‘éœ€è¦ä½¿ç”¨ wsl å¼€å‘ electron æˆ–è€…ä½¿ç”¨ chrome æµè§ˆå™¨ã€‚è¿™ä¸ªæ—¶å€™ç³»ç»Ÿå°±ä¼šè°ƒç”¨é»˜è®¤çš„ç³»ç»Ÿå­—ä½“äº†ã€‚</p><p>æˆ‘ä½¿ç”¨çš„æ˜¯ debian12ï¼Œå¦‚æœé»˜è®¤æ²¡æœ‰å®‰è£…å…¶ä»–å­—ä½“çš„è¯ï¼Œæµè§ˆå™¨çœ‹ä¸­æ–‡é¡µé¢å°±æ˜¯æ–¹æ¡†ä¹±ç ã€‚è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥å®‰è£…æ–‡æ³‰é©¿æ­£é»‘ä¸­æ–‡å­—ä½“æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p>ä½†æ˜¯è¿™ä¸ªå­—ä½“ä¹Ÿå¤ª nm ä¸‘äº†å§ã€‚å°±æƒ³æŠŠå¾®è½¯é›…é»‘æˆ–è€…è‹¹æ–¹æ”¾è¿›æ¥ã€‚ç™¾åº¦è°·æ­Œæ•™ç¨‹éƒ½ç¿»çƒ‚äº†ï¼Œå‡ ä¹æ²¡æ‰¾åˆ°æ›¿æ¢æ–‡æ³‰é©¿æ­£é»‘å­—ä½“ æˆ–è€…åœ¨å‘½ä»¤è¡Œä¸‹æ›¿æ¢é»˜è®¤å­—ä½“ æˆ–è€…ä¿®æ”¹æ–‡å­—ä¼˜å…ˆçº§çš„æ•™ç¨‹ã€‚äºæ˜¯æŠŠ chat è€å¸ˆä¹Ÿé—®çƒ‚äº†ï¼Œç»ˆäºæ‰¾åˆ°äº†ç­”æ¡ˆï¼Œé‚£å°±æ˜¯ä½¿ç”¨è¿™ä¸ªæ–‡ä»¶ <code>/etc/fonts/local.conf</code>ï¼Œå±…ç„¶ debian å®˜ç½‘è¿è¿™ä¸ªæ–‡ä»¶çš„è¯´æ˜éƒ½æ²¡æœ‰ï¼Œåªæœ‰å¯¹ <code>fonts.conf</code> çš„è¯´æ˜ã€‚ä¸è¿‡ arch linux å®˜æ–¹å¯¹ <code>local.conf</code> è¿™ä¸ªæ–‡ä»¶æœ‰è¯´æ˜ï¼Œä½†æ˜¯æ²¡æœ‰è¿™ä¸ª xml å®šä¹‰çš„è¯´æ˜ã€‚</p><h1 id="æ‰‹åŠ¨å®‰è£…å­—ä½“"><a href="#æ‰‹åŠ¨å®‰è£…å­—ä½“" class="headerlink" title="æ‰‹åŠ¨å®‰è£…å­—ä½“"></a>æ‰‹åŠ¨å®‰è£…å­—ä½“</h1><p>æ‰‹åŠ¨å®‰è£…å­—ä½“ï¼Œæ‰€æœ‰ttfã€ttcæˆ–è€…otfç­‰æ ¼å¼çš„å­—ä½“éƒ½å¯ä»¥ç”¨è¿™ç§æ–¹å¼ã€‚</p><p>æ‰¾åˆ° <code>/usr/share/fonts</code> ç›®å½•ï¼Œæ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œæ¯”å¦‚è¯´ <code>/usr/share/fonts/custom</code> è¿™æ ·æˆ‘çŸ¥é“è¿™ä¸€å—çš„å­—ä½“æ˜¯æˆ‘è‡ªå·±æ·»åŠ çš„ã€‚</p><p>ç„¶åæŠŠå¾®è½¯é›…é»‘æˆ–è€…è‹¹æ–¹å­—ä½“æ‹·è´è¿›å»ã€‚è‹¹æ–¹å­—ä½“å»ºè®®ä½¿ç”¨ <code>19.0d4e2</code> è¿™ä¸ªç‰ˆæœ¬çš„å­—ä½“ã€‚</p><blockquote><p>19.0d4e2 ç‰ˆæœ¬çš„è‹¹æ–¹å¯ä»¥ç›´æ¥è¢« Windows è¯†åˆ«ï¼Œä¼°è®¡æ˜¯ååº·åœ¨å¯¼å‡ºæ–‡ä»¶çš„æ—¶å€™å¿˜äº†è®¾ç½®ä»€ä¹ˆä¸œè¥¿ã€‚</p></blockquote><h1 id="ä¿®æ”¹å­—ä½“ä¼˜å…ˆçº§"><a href="#ä¿®æ”¹å­—ä½“ä¼˜å…ˆçº§" class="headerlink" title="ä¿®æ”¹å­—ä½“ä¼˜å…ˆçº§"></a>ä¿®æ”¹å­—ä½“ä¼˜å…ˆçº§</h1><ol><li>æ‰“å¼€ç»ˆç«¯ï¼Œå¹¶ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆä¾‹å¦‚ nano æˆ– vimï¼‰åˆ›å»ºä¸€ä¸ªæ–°çš„ Fontconfig é…ç½®æ–‡ä»¶ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nano /etc/fonts/local.conf</span><br></pre></td></tr></table></figure><ol start="2"><li>åœ¨æ–°å»ºçš„é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼Œå°†å¾®è½¯é›…é»‘å­—ä½“çš„ä¼˜å…ˆçº§è®¾ç½®ä¸ºè¾ƒé«˜ï¼š<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span>?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">fontconfig</span> <span class="keyword">SYSTEM</span> <span class="string">&quot;urn:fontconfig:fonts.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">fontconfig</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">description</span>&gt;</span>Set preferable fonts for non-Latin<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">alias</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">family</span>&gt;</span>serif<span class="tag">&lt;/<span class="name">family</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">prefer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">family</span>&gt;</span>Microsoft YaHei UI<span class="tag">&lt;/<span class="name">family</span>&gt;</span><span class="comment">&lt;!-- han (zh-cn) --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">prefer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">alias</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">alias</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">family</span>&gt;</span>sans-serif<span class="tag">&lt;/<span class="name">family</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">prefer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">family</span>&gt;</span>Microsoft YaHei UI<span class="tag">&lt;/<span class="name">family</span>&gt;</span><span class="comment">&lt;!-- han (zh-cn) --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">prefer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">alias</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">alias</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">family</span>&gt;</span>monospace<span class="tag">&lt;/<span class="name">family</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">prefer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">family</span>&gt;</span>Microsoft YaHei UI<span class="tag">&lt;/<span class="name">family</span>&gt;</span><span class="comment">&lt;!-- han (zh-cn) --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">prefer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">alias</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">alias</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">family</span>&gt;</span>system-ui<span class="tag">&lt;/<span class="name">family</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">prefer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">family</span>&gt;</span>Microsoft YaHei UI<span class="tag">&lt;/<span class="name">family</span>&gt;</span><span class="comment">&lt;!-- han (zh-cn) --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">prefer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">alias</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">fontconfig</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><p>é—®é¢˜æ¥äº†ï¼Œæˆ‘æ€ä¹ˆçŸ¥é“è¿™ä¸ªé…ç½®æ–‡ä»¶æ˜¯è¿™æ ·å†™çš„ã€‚æˆ‘ä¹Ÿä¸çŸ¥é“ï¼Œæˆ‘åªæ˜¯å¤åˆ¶äº† <code>/etc/fonts/fonts.conf</code> ç„¶åæŠŠ <code>prefer</code> ä¸­çš„å­—æ®µéƒ½åˆ å®Œï¼Œåªç•™ä¸€ä¸ªï¼Œç„¶åå…¨éƒ¨éƒ½æ›¿æ¢æˆ <code>Microsoft YaHei UI</code></p><p>ä¿å­˜é€€å‡º</p><h1 id="åˆ·æ–°ç¼“å­˜"><a href="#åˆ·æ–°ç¼“å­˜" class="headerlink" title="åˆ·æ–°ç¼“å­˜"></a>åˆ·æ–°ç¼“å­˜</h1><p>åœ¨ç»ˆç«¯ä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä»¥æ›´æ–°å­—ä½“ç¼“å­˜ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo fc-cache -f -v</span><br></pre></td></tr></table></figure><h1 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h1><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936350960641693635095476.png" alt="16936350960641693635095476.png"></p>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>2023è½¯ä»¶å·¥ç¨‹ä¸­å„ç§å›¾åœ¨ç°ä»£ä¼ä¸šçº§å¼€å‘ä¸­çš„ä½¿ç”¨é¢‘ç‡</title>
      <link href="/2023/2023-frequency-of-use-of-various-diagrams-in-software-engineering-in-modern-enterprise-level-development/"/>
      <url>/2023/2023-frequency-of-use-of-various-diagrams-in-software-engineering-in-modern-enterprise-level-development/</url>
      
        <content type="html"><![CDATA[<h1 id="2023è½¯ä»¶å·¥ç¨‹ä¸­å„ç§å›¾åœ¨ç°ä»£ä¼ä¸šçº§å¼€å‘ä¸­çš„ä½¿ç”¨é¢‘ç‡"><a href="#2023è½¯ä»¶å·¥ç¨‹ä¸­å„ç§å›¾åœ¨ç°ä»£ä¼ä¸šçº§å¼€å‘ä¸­çš„ä½¿ç”¨é¢‘ç‡" class="headerlink" title="2023è½¯ä»¶å·¥ç¨‹ä¸­å„ç§å›¾åœ¨ç°ä»£ä¼ä¸šçº§å¼€å‘ä¸­çš„ä½¿ç”¨é¢‘ç‡"></a>2023è½¯ä»¶å·¥ç¨‹ä¸­å„ç§å›¾åœ¨ç°ä»£ä¼ä¸šçº§å¼€å‘ä¸­çš„ä½¿ç”¨é¢‘ç‡</h1><h2 id="æ¦‚è§ˆ"><a href="#æ¦‚è§ˆ" class="headerlink" title="æ¦‚è§ˆ"></a>æ¦‚è§ˆ</h2><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936351800641693635179264.png" alt="16936351800641693635179264.png"></p><h2 id="ç³»ç»Ÿæµç¨‹å›¾-âœ”"><a href="#ç³»ç»Ÿæµç¨‹å›¾-âœ”" class="headerlink" title="ç³»ç»Ÿæµç¨‹å›¾ âœ”"></a>ç³»ç»Ÿæµç¨‹å›¾ âœ”</h2><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936351990621693635198471.png" alt="16936351990621693635198471.png"></p><h2 id="æ•°æ®æµå›¾-Ã—ä¸å¸¸ç”¨"><a href="#æ•°æ®æµå›¾-Ã—ä¸å¸¸ç”¨" class="headerlink" title="æ•°æ®æµå›¾  Ã—ä¸å¸¸ç”¨"></a>æ•°æ®æµå›¾  Ã—ä¸å¸¸ç”¨</h2><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936352180661693635217853.png" alt="16936352180661693635217853.png"></p><h2 id="ERå›¾-âœ”"><a href="#ERå›¾-âœ”" class="headerlink" title="ERå›¾ âœ”"></a>ERå›¾ âœ”</h2><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936352380641693635237871.png" alt="16936352380641693635237871.png"></p><h2 id="çŠ¶æ€è½¬æ¢å›¾-âœ”"><a href="#çŠ¶æ€è½¬æ¢å›¾-âœ”" class="headerlink" title="çŠ¶æ€è½¬æ¢å›¾ âœ”"></a>çŠ¶æ€è½¬æ¢å›¾ âœ”</h2><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936352480751693635247278.png" alt="16936352480751693635247278.png"></p><h2 id="Warnierå›¾-Ã—ä¸å¸¸ç”¨"><a href="#Warnierå›¾-Ã—ä¸å¸¸ç”¨" class="headerlink" title="Warnierå›¾ Ã—ä¸å¸¸ç”¨"></a>Warnierå›¾ Ã—ä¸å¸¸ç”¨</h2><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936352590741693635258629.png" alt="16936352590741693635258629.png"></p><h2 id="IPOå›¾-Ã—ä¸å¸¸ç”¨"><a href="#IPOå›¾-Ã—ä¸å¸¸ç”¨" class="headerlink" title="IPOå›¾ Ã—ä¸å¸¸ç”¨"></a>IPOå›¾ Ã—ä¸å¸¸ç”¨</h2><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936352820601693635281639.png" alt="16936352820601693635281639.png"></p><h2 id="Petriç½‘-Ã—ä¸å¸¸ç”¨"><a href="#Petriç½‘-Ã—ä¸å¸¸ç”¨" class="headerlink" title="Petriç½‘ Ã—ä¸å¸¸ç”¨"></a>Petriç½‘ Ã—ä¸å¸¸ç”¨</h2><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936352920661693635291966.png" alt="16936352920661693635291966.png"></p><h2 id="å±‚æ¬¡æ–¹æ¡†å›¾-Ã—ä¸å¸¸ç”¨"><a href="#å±‚æ¬¡æ–¹æ¡†å›¾-Ã—ä¸å¸¸ç”¨" class="headerlink" title="å±‚æ¬¡æ–¹æ¡†å›¾ Ã—ä¸å¸¸ç”¨"></a>å±‚æ¬¡æ–¹æ¡†å›¾ Ã—ä¸å¸¸ç”¨</h2><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936353020611693635301590.png" alt="16936353020611693635301590.png"></p><h2 id="å±‚æ¬¡å›¾-a-k-a-Hå›¾-âœ”"><a href="#å±‚æ¬¡å›¾-a-k-a-Hå›¾-âœ”" class="headerlink" title="å±‚æ¬¡å›¾ a.k.a. Hå›¾ âœ”"></a>å±‚æ¬¡å›¾ a.k.a. Hå›¾ âœ”</h2><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936353250741693635324362.png" alt="16936353250741693635324362.png"></p><blockquote><p>1,å±‚æ¬¡å›¾æç»˜è½¯ä»¶çš„å±‚æ¬¡ç»“æ„.å±‚å±‚æ¬¡æ–¹æ¡†å›¾æç»˜çš„æ˜¯æ•°æ®ç»“æ„ã€‚</p><p>2,å±‚æ¬¡å›¾çš„æ–¹æ¡†è¡¨ç¤ºæ¨¡å—æˆ–å­æ¨¡å—ã€‚å±‚æ¬¡æ–¹æ¡†å›¾çš„æ–¹æ¡†è¡¨ç¤ºæ•°æ®ç»“æ„æ•´ä½“æˆ–å…¶å­é›†ã€‚</p><p>3,å±‚æ¬¡å›¾çš„è¿çº¿è¡¨ç¤ºè°ƒç”¨å…³ç³»ï¼Œå±‚æ¬¡æ–¹æ¡†å›¾è¡¨ç¤ºç»„æˆå…³ç³»ã€‚</p></blockquote><h2 id="ç»“æ„å›¾-Ã—ä¸å¸¸ç”¨"><a href="#ç»“æ„å›¾-Ã—ä¸å¸¸ç”¨" class="headerlink" title="ç»“æ„å›¾ Ã—ä¸å¸¸ç”¨"></a>ç»“æ„å›¾ Ã—ä¸å¸¸ç”¨</h2><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936353450681693635344883.png" alt="16936353450681693635344883.png"></p><h2 id="HIPOå›¾-Ã—ä¸å¸¸ç”¨"><a href="#HIPOå›¾-Ã—ä¸å¸¸ç”¨" class="headerlink" title="HIPOå›¾ Ã—ä¸å¸¸ç”¨"></a>HIPOå›¾ Ã—ä¸å¸¸ç”¨</h2><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936353875351693635386586.png" alt="16936353875351693635386586.png"></p><blockquote><p>HIPOå›¾æ˜¯ç¾å›½IBMå…¬å¸å‘æ˜çš„â€œå±‚æ¬¡å›¾åŠ è¾“å…¥&#x2F;å¤„ç†&#x2F;è¾“å‡ºå›¾â€çš„è‹±æ–‡ç¼©å†™ã€‚ä¸ºäº†èƒ½ä½¿HIPOå›¾å…·æœ‰å¯è¿½è¸ªæ€§ï¼Œåœ¨Hå›¾ï¼ˆå±‚æ¬¡å›¾ï¼‰é‡Œé™¤äº†æœ€é¡¶å±‚çš„æ–¹æ¡†ä¹‹å¤–ï¼Œæ¯ä¸ªæ–¹æ¡†éƒ½åŠ äº†ç¼–å·ã€‚ç¼–å·è§„åˆ™å’Œç¬¬2.4èŠ‚ä¸­ä»‹ç»çš„æ•°æ®æµå›¾çš„ç¼–å·è§„åˆ™ç›¸åŒï¼Œä¾‹å¦‚ï¼Œå›¾5.3åŠ äº†ç¼–å·åå¾—åˆ°å›¾5,4ã€‚</p><p>å’ŒHå›¾ä¸­æ¯ä¸ªæ–¹æ¡†ç›¸å¯¹åº”ï¼Œåº”è¯¥æœ‰ä¸€å¼ IPOå›¾æç»˜è¿™ä¸ªæ–¹æ¡†ä»£è¡¨çš„æ¨¡å—çš„å¤„ç†è¿‡ç¨‹ã€‚ç¬¬3.7èŠ‚å·²ç»è¯¦ç»†ä»‹ç»è¿‡IPOå›¾ï¼Œæ­¤å¤„ä¸å†é‡å¤ã€‚ä½†æ˜¯ï¼Œæœ‰ä¸€ç‚¹åº”è¯¥ç€é‡æŒ‡å‡ºï¼Œé‚£å°±æ˜¯HIPOå›¾ä¸­çš„æ¯å¼ IPOå›¾å†…éƒ½åº”è¯¥æ˜æ˜¾åœ°æ ‡å‡ºå®ƒæ‰€æç»˜çš„æ¨¡å—åœ¨Hå›¾ä¸­çš„ç¼–å·ï¼Œä»¥ä¾¿è¿½è¸ªäº†è§£è¿™ä¸ªæ¨¡å—åœ¨è½¯ä»¶ç»“æ„ä¸­çš„ä½ç½®ã€‚</p></blockquote><h2 id="ç›’å›¾-a-k-a-N-Så›¾-Ã—ä¸å¸¸ç”¨"><a href="#ç›’å›¾-a-k-a-N-Så›¾-Ã—ä¸å¸¸ç”¨" class="headerlink" title="ç›’å›¾ a.k.a. N-Så›¾ Ã—ä¸å¸¸ç”¨"></a>ç›’å›¾ a.k.a. N-Så›¾ Ã—ä¸å¸¸ç”¨</h2><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936354075351693635406755.png" alt="16936354075351693635406755.png"></p><h2 id="PADå›¾-Ã—ä¸å¸¸ç”¨"><a href="#PADå›¾-Ã—ä¸å¸¸ç”¨" class="headerlink" title="PADå›¾ Ã—ä¸å¸¸ç”¨"></a>PADå›¾ Ã—ä¸å¸¸ç”¨</h2><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936354215431693635421533.png" alt="16936354215431693635421533.png"></p><h2 id="Jacksonå›¾-Ã—ä¸å¸¸ç”¨"><a href="#Jacksonå›¾-Ã—ä¸å¸¸ç”¨" class="headerlink" title="Jacksonå›¾ Ã—ä¸å¸¸ç”¨"></a>Jacksonå›¾ Ã—ä¸å¸¸ç”¨</h2><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936354365351693635436128.png" alt="16936354365351693635436128.png"></p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ol><li><a href="https://juejin.cn/post/7129822677748940813#heading-8">https://juejin.cn/post/7129822677748940813#heading-8</a></li><li><a href="https://www.liuchuo.net/archives/1848">https://www.liuchuo.net/archives/1848</a></li><li><a href="https://www.kancloud.cn/netcon/t4/241479">https://www.kancloud.cn/netcon/t4/241479</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>educoderå¤´æ­Œå¼ºåˆ¶æ˜¾ç¤ºå³ä¾§ç›®å½•æŒ‰é’®ï¼Œæ–¹ä¾¿æŸ¥çœ‹æµ‹è¯•ä»£ç ï¼Œä¾¿äºæ€ä¹ˆåœ¨æœ¬åœ°è‡ªæµ‹å¤´æ­Œä»£ç ï¼Ÿ</title>
      <link href="/2023/the-educoder-touge-is-forced-to-display-the-directory-button-on-the-right-which-is-convenient-for-viewing-the-test-code-and-how-to-test-the-touge-code-locally/"/>
      <url>/2023/the-educoder-touge-is-forced-to-display-the-directory-button-on-the-right-which-is-convenient-for-viewing-the-test-code-and-how-to-test-the-touge-code-locally/</url>
      
        <content type="html"><![CDATA[<h1 id="æ•ˆæœå¦‚ä¸‹"><a href="#æ•ˆæœå¦‚ä¸‹" class="headerlink" title="æ•ˆæœå¦‚ä¸‹"></a>æ•ˆæœå¦‚ä¸‹</h1><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936355635371693635562880.png" alt="16936355635371693635562880.png"></p><h1 id="æ“ä½œæ­¥éª¤"><a href="#æ“ä½œæ­¥éª¤" class="headerlink" title="æ“ä½œæ­¥éª¤"></a>æ“ä½œæ­¥éª¤</h1><ol><li><p>F12æ‰“å¼€æ§åˆ¶å°<br><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936355855361693635584793.png" alt="16936355855361693635584793.png"></p></li><li><p>ctrl+shift+få…¨å±€æœç´¢ <code>_ref2.code_hidden</code><br><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936355945351693635594504.png" alt="16936355945351693635594504.png"></p></li><li><p>åœ¨å·¦ä¾§æ‰¾åˆ° <code>è¦†ç›–</code> æŒ‰é’®ï¼Œ<code>é€‰æ‹©æ›¿ä»£æ–‡ä»¶å¤¹</code>ï¼Œå¹¶å…è®¸æƒé™<br><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936356145391693635614527.png" alt="16936356145391693635614527.png"></p></li><li><p>åœ¨ç¼–è¾‘æ¡†å†…å³é”®ï¼Œé€‰æ‹©<code>ä¿å­˜ä»¥å¤‡æ›¿ä»£</code><br><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936356255361693635625063.png" alt="16936356255361693635625063.png"></p></li><li><p>æŠŠ <code>code_hidden</code> çš„å€¼ä¿®æ”¹ä¸º <code>false</code>ï¼Œç„¶åæŒ‰ä¸‹ <code>ctrl+s</code> ä¿å­˜<br><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936356355351693635634766.png" alt="16936356355351693635634766.png"></p></li><li><p>ä¿æŒæ§åˆ¶å°ä¸å…³é—­ï¼Œåˆ·æ–°é¡µé¢ï¼Œenjoyingã€‚æ¥ä¸‹æ¥å°±å¯ä»¥ç›´æ¥æ ¹æ®æµ‹è¯•ä»£ç åœ¨æœ¬åœ°è‡ªæµ‹äº†</p></li></ol><h1 id="æ–¹æ³•æ€è·¯"><a href="#æ–¹æ³•æ€è·¯" class="headerlink" title="æ–¹æ³•æ€è·¯"></a>æ–¹æ³•æ€è·¯</h1><p>æˆ‘æ˜¯æ€ä¹ˆæ‰¾åˆ°è¿™ä¸ªæ–¹æ³•çš„å‘¢ï¼Œä¸”å¬æˆ‘æ…¢æ…¢é“æ¥ã€‚</p><ol><li><p>é¦–å…ˆçš„æ‰¾åˆ°ä¸€ä¸ªä¸æ˜¾ç¤ºæ–‡ä»¶å¤¹æŒ‰é’®çš„é¡µé¢å’Œä¸€ä¸ªå¯ä»¥æ­£å¸¸æ˜¾ç¤ºæ–‡ä»¶å¤¹æŒ‰é’®çš„é¡µé¢</p></li><li><p>æ‰“å¼€æ§åˆ¶å°ï¼Œå®šä½åˆ°æ–‡ä»¶å¤¹æŒ‰é’®è¿™ä¸ªå…ƒç´ <br><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936356495351693635649038.png" alt="16936356495351693635649038.png"></p></li><li><p>å‘ç°æœ‰ä¸ªæ˜æ˜¾çš„å›¾æ ‡åå­—ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆæ˜æ˜¾çš„ç‰¹å¾ï¼Œä»£ç é‡Œé¢è‚¯å®šä¼šæœ‰å†™ã€‚äºæ˜¯å…¨å±€æœç´¢ä¸€ä¸‹ï¼Œçœ‹çœ‹è¿™å—ä»£ç é™„ä»¶çš„ä¸Šä¸‹æ–‡æ€ä¹ˆå†™çš„ï¼ˆåªè¦çœ‹jså°±å¥½ï¼‰<br><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936356645411693635664482.png" alt="16936356645411693635664482.png"></p></li><li><p>è§£ç ä¸€ä¸‹9528è¡Œçš„Unicodeï¼Œç»“æœæ˜¯<code>æ˜¾ç¤ºç›®å½•</code>ï¼Œè¯´æ˜è¿™ä¸€å—å°±æ˜¯æ¸²æŸ“ä»£ç <br><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936356765401693635676223.png" alt="16936356765401693635676223.png"></p></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">code_hidden ? <span class="literal">null</span> : <span class="comment">/*#__PURE__*/</span>(<span class="number">0</span>,jsx_runtime.<span class="property">jsx</span>)(<span class="string">&quot;a&quot;</span>, &#123;</span><br><span class="line">          <span class="attr">title</span>: <span class="string">&quot;\u663E\u793A\u76EE\u5F55&quot;</span>,</span><br><span class="line">          <span class="attr">onClick</span>: onShowDir,</span><br><span class="line">          <span class="attr">children</span>: <span class="comment">/*#__PURE__*/</span>(<span class="number">0</span>,jsx_runtime.<span class="property">jsx</span>)(<span class="string">&quot;i&quot;</span>, &#123;</span><br><span class="line">            <span class="attr">className</span>: <span class="string">&quot;iconfont icon-wenjian &quot;</span></span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure><p>ä»ä»£ç ä¸­å¯ä»¥çœ‹å¾—å‡ºï¼Œè¿™ä¸ªæŒ‰é’®æ˜¯å¦æ˜¾ç¤ºå–å†³äº <code>code_hidden</code> å˜é‡çš„å€¼</p><ol start="5"><li>å‘ä¸Šæœç´¢ <code>code_hidden </code><br>å‘ç°å˜é‡æ˜¯åœ¨è¿™é‡Œå®šä¹‰çš„ï¼Œåªè¦æŠŠè¿™é‡Œå†™æ­»ä¸º<code>true</code>å°±å¥½äº†<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* harmony default export */</span> <span class="keyword">function</span> <span class="title function_">action_bar</span>(<span class="params">_ref2</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> loading = _ref2.<span class="property">loading</span>,</span><br><span class="line">    lastedUpdateTime = _ref2.<span class="property">lastedUpdateTime</span>,</span><br><span class="line">    moveY = _ref2.<span class="property">moveY</span>,</span><br><span class="line">    code_hidden = _ref2.<span class="property">code_hidden</span>,</span><br><span class="line">    hide_code = _ref2.<span class="property">hide_code</span>,</span><br><span class="line">    gameStatus = _ref2.<span class="property">gameStatus</span>,</span><br><span class="line">    isEditPath = _ref2.<span class="property">isEditPath</span>,</span><br><span class="line">    isNotice = _ref2.<span class="property">isNotice</span>,</span><br></pre></td></tr></table></figure><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936356935391693635693364.png" alt="16936356935391693635693364.png"></li></ol>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>rke2é›†ç¾¤å®‰è£…å®Œæˆä¹‹åä½¿ç”¨kubectlååº”å¾ˆæ…¢</title>
      <link href="/2023/after-the-rke2-cluster-is-installed-kubectl-responds-very-slowly/"/>
      <url>/2023/after-the-rke2-cluster-is-installed-kubectl-responds-very-slowly/</url>
      
        <content type="html"><![CDATA[<p>ä»å¤´å¼€å§‹æ£€æŸ¥</p><h1 id="æ£€æŸ¥kubectlè¯·æ±‚"><a href="#æ£€æŸ¥kubectlè¯·æ±‚" class="headerlink" title="æ£€æŸ¥kubectlè¯·æ±‚"></a>æ£€æŸ¥kubectlè¯·æ±‚</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">root@rke2-3:~# kubectl get nodes -v 9</span><br><span class="line">I0317 12:03:12.948874   50681 loader.go:372] Config loaded from file:  /root/.kube/config</span><br><span class="line">I0317 12:03:12.966771   50681 round_trippers.go:435] curl -v -XGET  -H &quot;User-Agent: kubectl/v1.22.17+rke2r1 (linux/amd64) kubernetes/a7736ea&quot; -H &quot;Accept: application/json, */*&quot; &#x27;https://127.0.0.1:6443/apis/metrics.k8s.io/v1beta1?timeout=32s&#x27;</span><br><span class="line">I0317 12:03:17.976244   50681 round_trippers.go:454] GET https://127.0.0.1:6443/apis/metrics.k8s.io/v1beta1?timeout=32s 503 Service Unavailable in 5009 milliseconds</span><br><span class="line">I0317 12:03:17.976302   50681 round_trippers.go:460] Response Headers:</span><br><span class="line">I0317 12:03:17.976310   50681 round_trippers.go:463]     Date: Fri, 17 Mar 2023 04:03:17 GMT</span><br><span class="line">I0317 12:03:17.976314   50681 round_trippers.go:463]     Audit-Id: 6161f664-ef9b-4c43-bc8a-7a9bc4aadc4d</span><br><span class="line">I0317 12:03:17.976318   50681 round_trippers.go:463]     Cache-Control: no-cache, private</span><br><span class="line">I0317 12:03:17.976322   50681 round_trippers.go:463]     Content-Type: text/plain; charset=utf-8</span><br><span class="line">I0317 12:03:17.976326   50681 round_trippers.go:463]     X-Content-Type-Options: nosniff</span><br><span class="line">I0317 12:03:17.976330   50681 round_trippers.go:463]     X-Kubernetes-Pf-Flowschema-Uid: 18ac6688-4bae-4287-bb86-d3e59b300a3b</span><br><span class="line">I0317 12:03:17.976334   50681 round_trippers.go:463]     X-Kubernetes-Pf-Prioritylevel-Uid: 8030cae1-7f3d-431a-90c4-09f0ba76b7aa</span><br><span class="line">I0317 12:03:17.976338   50681 round_trippers.go:463]     Content-Length: 68</span><br><span class="line">I0317 12:03:17.979957   50681 request.go:1197] Response Body: error trying to reach service: dial tcp 10.42.0.3:8443: i/o timeout</span><br><span class="line">I0317 12:03:17.983359   50681 request.go:1388] body was not decodable (unable to check for Status): yaml: mapping values are not allowed in this context</span><br><span class="line">I0317 12:03:17.983405   50681 cached_discovery.go:78] skipped caching discovery info due to the server is currently unable to handle the request</span><br><span class="line">I0317 12:03:17.984416   50681 round_trippers.go:435] curl -v -XGET  -H &quot;Accept: application/json, */*&quot; -H &quot;User-Agent: kubectl/v1.22.17+rke2r1 (linux/amd64) kubernetes/a7736ea&quot; &#x27;https://127.0.0.1:6443/apis/metrics.k8s.io/v1beta1?timeout=32s&#x27;</span><br></pre></td></tr></table></figure><p>å‘ç°è¶…æ—¶åœ¨è¿™ä¸€ä¸ªè¯·æ±‚ <code>https://127.0.0.1:6443/apis/metrics.k8s.io/v1beta1?timeout=32s 503 Service Unavailable in 5009 milliseconds</code></p><h1 id="æ£€æŸ¥-kube-config"><a href="#æ£€æŸ¥-kube-config" class="headerlink" title="æ£€æŸ¥.kube&#x2F;config"></a>æ£€æŸ¥.kube&#x2F;config</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">root@rke2-1:~/.kube# cat config </span><br><span class="line">apiVersion: v1</span><br><span class="line">clusters:</span><br><span class="line">- cluster:</span><br><span class="line">    certificate-authority-data: xxx</span><br><span class="line">    server: https://127.0.0.1:6443</span><br><span class="line">  name: default</span><br><span class="line">contexts:</span><br><span class="line">- context:</span><br><span class="line">    cluster: default</span><br><span class="line">    user: default</span><br><span class="line">  name: default</span><br><span class="line">current-context: default</span><br><span class="line">kind: Config</span><br><span class="line">preferences: &#123;&#125;</span><br><span class="line">users:</span><br><span class="line">- name: default</span><br><span class="line">  user:</span><br><span class="line">    client-certificate-data: xxx</span><br><span class="line">    client-key-data: xxx</span><br></pre></td></tr></table></figure><p>åœ¨é™¤äº†ç¬¬ä¸€ä¸ªserverèŠ‚ç‚¹ä¸Šè¿è¡Œkubectléƒ½å¾ˆå¡ï¼Œæ£€æŸ¥kubectlçš„é…ç½®æ–‡ä»¶ï¼Œå‘ç°è¯·æ±‚çš„serveræ˜¯127.0.0.1</p><p>äºæ˜¯ä¿®æ”¹ä¸ºè´Ÿè½½å‡è¡¡ipæˆ–è€…åŸŸåå³å¯è§£å†³é—®é¢˜</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">load_balancer_addr=rancher2.ent.top</span><br><span class="line">sed -i.bak &quot;s/127.0.0.1:6443/$&#123;load_balancer_addr&#125;:6443/&quot; /etc/rancher/rke2/rke2.yaml</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>windows serverç¦æ­¢è¿”å›ipv6çš„dnsè§£æ</title>
      <link href="/2023/windows-server-prohibits-returning-ipv6-dns-resolution/"/>
      <url>/2023/windows-server-prohibits-returning-ipv6-dns-resolution/</url>
      
        <content type="html"><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>æœ‰ä»€ä¹ˆæ–¹æ³•å¯ä»¥é˜²æ­¢äº‹ç‰©åœ¨ DNS æœåŠ¡å™¨ä¸Šæ³¨å†Œå®ƒä»¬çš„ AAAA è®°å½•å—ï¼Ÿæˆ‘å·²ç»å°è¯•é€šè¿‡åœ¨ç½‘ç»œå †æ ˆä¸­å–æ¶ˆé€‰ä¸­å®ƒæ¥å…³é—­ Windows è®¡ç®—æœºä¸Šçš„ IPv6ï¼Œä½†å®ƒä»¬ä»ç„¶æ³¨å†Œ AAAA è®°å½•ã€‚é—®é¢˜æ˜¯ï¼Œæˆ‘ä»¬çš„ Exchange 2007 æœåŠ¡å™¨ä¸€ç›´åœ¨æ³¨å†Œ AAAA è®°å½•ï¼Œè€Œæˆ‘ä»¬çš„éš§é“æ²¡æœ‰ä¸º IPv6 è®¾ç½®ã€‚å› æ­¤ï¼Œå½“éš§é“æœ«ç«¯çš„å®¢æˆ·ç«¯å°è¯•è¿æ¥æ—¶ï¼Œå®ƒæ— æ³•è¿æ¥ã€‚æˆ‘å¯ä»¥ ping é€š IPv6 åœ°å€ï¼Œä½†æˆ‘çŒœè¿™å¯èƒ½æ˜¯è·¯ç”±å™¨åœ¨å›å¤è€Œä¸æ˜¯æœåŠ¡å™¨æœ¬èº«ã€‚å¦‚æœæˆ‘ä» DNS æœåŠ¡å™¨ä¸­åˆ é™¤ IPv6 åœ°å€å¹¶å°è¯•å†æ¬¡è¿æ¥ï¼Œå®ƒä¼šèµ·ä½œç”¨ã€‚</p><p>ipv6ç¦ç”¨æ–¹æ³•å‡ºå¤„ <a href="https://community.spiceworks.com/topic/257230-disable-aaaa-records-from-registering-in-server-2008-r2-dns">https://community.spiceworks.com/topic/257230-disable-aaaa-records-from-registering-in-server-2008-r2-dns</a></p><h1 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h1><p>å¦‚æœæ‚¨æƒ³ç¦ç”¨ IPv6ï¼Œå…³é—­å®ƒçš„â€œæ­£ç¡®â€æ–¹æ³•æ˜¯é€šè¿‡æ³¨å†Œè¡¨ç¦ç”¨å®ƒã€‚å°±æ˜¯è¿™æ ·ï¼š</p><p>æ‰“å¼€æ³¨å†Œè¡¨ç¼–è¾‘å™¨ï¼ˆè¿è¡Œå‘½ä»¤ <code>regedit</code> ï¼‰<br>å¯¼èˆªåˆ°ä»¥ä¸‹é”®ï¼š  <code>HKEY_LOCAL_MACHINE &gt; System &gt; CurrentControlSet &gt; Services &gt; TCPIP6 &gt; Parameters</code><br>åˆ›å»ºä¸€ä¸ªåä¸º <code>DisabledComponents</code> çš„æ–° DWORDå€¼ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰<br>ä¿®æ”¹ <code>DisabledComponents</code> å€¼å¹¶å°†å…¶è®¾ç½®ä¸º <code>0xffffffff</code>ï¼ˆåå…­è¿›åˆ¶ - å³ 8ä¸ª Fï¼‰ã€‚<br>é‡æ–°å¯åŠ¨ PC ä»¥åº”ç”¨æ›´æ”¹ã€‚</p><p>å¦‚æœå®¶é‡Œæ²¡æœ‰ipv6æœ€å¥½ç¦ç”¨ï¼Œå¦‚æœåªæ˜¯ç¦ç”¨ADåŸŸé€‚é…å™¨çš„ipv6æ²¡æœ‰ç”¨çš„ï¼Œdnsè§£æä¹Ÿä¼šè¿”å›ipv6ï¼Œä¸è¿‡windowsä¸ä¼šå»å°è¯•è®¿é—®è§£æåˆ°çš„ipv6åœ°å€ï¼Œä½†å¹¶ä¸ä»£è¡¨å…¶ä»–ç³»ç»Ÿä¸ä¼šï¼Œä¾‹å¦‚Ubuntu22.04LTSå³æ—¶æ²¡æœ‰ipv6é»˜è®¤è·¯ç”±ï¼Œä¹Ÿæœ‰å¯èƒ½ä¼šå»è¯·æ±‚ipv6åœ°å€ï¼Œè¿™ä¸ªæ—¶å€™è¡¨ç°å‡ºæ¥çš„å°±æ˜¯ç½‘ç»œå¡é¡¿</p>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Python requests æŒ‡å®šç½‘å¡å‡ºå£ï¼ŒæŒ‡å®šç½‘å¡å‘é€è¯·æ±‚æµé‡</title>
      <link href="/2023/python-requests-specifies-the-network-card-export-and-specifies-the-network-card-to-send-request-traffic/"/>
      <url>/2023/python-requests-specifies-the-network-card-export-and-specifies-the-network-card-to-send-request-traffic/</url>
      
        <content type="html"><![CDATA[<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> requests_toolbelt.adapters.socket_options <span class="keyword">import</span> SocketOptionsAdapter</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">session = requests.Session()</span><br><span class="line"><span class="comment"># set interface here</span></span><br><span class="line">options = [(socket.SOL_SOCKET, socket.SO_BINDTODEVICE, <span class="string">b&quot;eth0&quot;</span>)]</span><br><span class="line"><span class="keyword">for</span> prefix <span class="keyword">in</span> (<span class="string">&#x27;http://&#x27;</span>, <span class="string">&#x27;https://&#x27;</span>):</span><br><span class="line">    session.mount(prefix, SocketOptionsAdapter(socket_options=options))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(session.get(<span class="string">&quot;https://test.ipw.cn/&quot;</span>).text)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936361955351693636194706.png" alt="16936361955351693636194706.png"></p>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>interface wan is error (16) and tracking is not enabledï¼Œopenwrt iStoreOSè½¯è·¯ç”±mwan3è´Ÿè½½å‡è¡¡æŠ¥é”™</title>
      <link href="/2023/interface-wan-is-error-16-and-tracking-is-not-enabled-openwrt-istoreos-soft-routing-mwan3-load-balancing-error/"/>
      <url>/2023/interface-wan-is-error-16-and-tracking-is-not-enabled-openwrt-istoreos-soft-routing-mwan3-load-balancing-error/</url>
      
        <content type="html"><![CDATA[<h1 id="é—®é¢˜ç°è±¡"><a href="#é—®é¢˜ç°è±¡" class="headerlink" title="é—®é¢˜ç°è±¡"></a>é—®é¢˜ç°è±¡</h1><p>è¿›å…¥ çŠ¶æ€-è´Ÿè½½å‡è¡¡-è¯¦ç»†ä¿¡æ¯</p><p>åœ¨Interface statusä¸‹é¢æ˜¾ç¤ºï¼Œåªæœ‰ä¸€ä¸ªæ¥å£æ˜¯åœ¨çº¿çŠ¶æ€</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Interface status:</span><br><span class="line"> interface wan is error (16) and tracking is not enabled</span><br><span class="line"> interface wan1 is error (16) and tracking is not enabled</span><br><span class="line"> interface wan2 is error (16) and tracking is not enabled</span><br><span class="line"> interface wan3 is error (16) and tracking is not enabled</span><br><span class="line"> interface wan4 is online 00h:00m:00s, uptime 01h:59m:08s and tracking is not enabled</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936366885391693636687849.png" alt="16936366885391693636687849.png"></p><h1 id="æ•…éšœåŸå› "><a href="#æ•…éšœåŸå› " class="headerlink" title="æ•…éšœåŸå› "></a>æ•…éšœåŸå› </h1><p>å„ä¸ªæ¥å£çš„è·ƒç‚¹æ•°ä¸èƒ½ä¸€è‡´ï¼Œé»˜è®¤åˆ›å»ºæ¥å£ä¹‹åè·ƒç‚¹æ•°æ˜¯0</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936367075351693636706779.png" alt="16936367075351693636706779.png"></p><h1 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h1><p>åœ¨ ç½‘ç»œ-æ¥å£-WAN-é«˜çº§è®¾ç½®-ä½¿ç”¨ç½‘å…³è·ƒç‚¹æ•°ï¼Œè¿™é‡Œæ‰‹åŠ¨æŠŠå„ä¸ªæ¥å£è®¾ç½®æˆä¸ä¸€æ ·çš„å³å¯ </p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936367195391693636718808.png" alt="16936367195391693636718808.png"></p><h1 id="æ•ˆæœæ£€éªŒ"><a href="#æ•ˆæœæ£€éªŒ" class="headerlink" title="æ•ˆæœæ£€éªŒ"></a>æ•ˆæœæ£€éªŒ</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Interface status:</span><br><span class="line"> interface wan is online 00h:00m:00s, uptime 02h:02m:20s and tracking is not enabled</span><br><span class="line"> interface wan1 is online 00h:00m:00s, uptime 02h:01m:54s and tracking is not enabled</span><br><span class="line"> interface wan2 is online 00h:00m:00s, uptime 02h:01m:54s and tracking is not enabled</span><br><span class="line"> interface wan3 is online 00h:00m:00s, uptime 02h:01m:54s and tracking is not enabled</span><br><span class="line"> interface wan4 is online 00h:00m:00s, uptime 02h:01m:54s and tracking is not enabled</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936367395351693636738707.png" alt="16936367395351693636738707.png"></p>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>æ•°å­¦å»ºæ¨¡ç§‘æ™®</title>
      <link href="/2023/mathematical-modeling-popular-science/"/>
      <url>/2023/mathematical-modeling-popular-science/</url>
      
        <content type="html"><![CDATA[<p><strong>è½¬è½½</strong></p><h1 id="è½¯ä»¶"><a href="#è½¯ä»¶" class="headerlink" title="è½¯ä»¶"></a>è½¯ä»¶</h1><p>-<br>  MATLAB(ç‰©ç†å»ºæ¨¡)</p><ul><li>python(æ•°æ®åˆ†æ)</li><li>R</li><li>SPSS</li><li>Stata</li><li>Origin</li></ul><blockquote><p>Lingoè½¯ä»¶æ›¿ä»£æ–¹æ¡ˆ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Yalmipå·¥å…·ç®±+OPTIå·¥å…·ç®±+gurobiæ±‚è§£å™¨</span><br><span class="line"></span><br><span class="line">Yalmipæ˜¯åŸºäºmatlabçš„æ±‚è§£è§„åˆ’é—®é¢˜çš„é«˜çº§å»ºæ¨¡è¯­è¨€</span><br><span class="line">OPTIæä¾›ä¼—å¤šå¼€æºçš„è§„åˆ’æ±‚è§£å™¨</span><br><span class="line">    åŒ…æ‹¬éçº¿æ€§æ±‚è§£å™¨ipoptç­‰</span><br><span class="line">gurobiæ˜¯å½“ä»Šä¸–ç•Œä¸Šæœ€ä¼˜ç§€æœ€å¿«é€Ÿçš„çº¿æ€§è§„åˆ’/äºŒæ¬¡è§„åˆ’æ±‚è§£å™¨</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šæ­é…æ‹¥æœ‰æ›´äººæ€§åŒ–çš„ç¼–ç¨‹è¯­è¨€+æ›´ä¾¿æ·çš„å»ºæ¨¡è¿‡ç¨‹+æ›´å¿«çš„æ±‚è§£é€Ÿåº¦</p><p>ä¸Šé¢çš„è¿™ä¸ªç»„åˆæ˜¯matlabå¹³å°çš„ï¼Œpythonå¹³å°æœ‰gurobipyæˆ–è€…cvxpyç­‰ç­‰</p></blockquote><h2 id="ç»˜å›¾è½¯ä»¶ï¼š"><a href="#ç»˜å›¾è½¯ä»¶ï¼š" class="headerlink" title="ç»˜å›¾è½¯ä»¶ï¼š"></a>ç»˜å›¾è½¯ä»¶ï¼š</h2><p>-<br>  excelï¼ˆç®€å•ç»˜å›¾ï¼‰</p><ul><li>PPTï¼ˆæµç¨‹å›¾ï¼‰</li><li>visioï¼ˆæµç¨‹å›¾ã€ç¤ºæ„å›¾ç­‰ï¼‰</li><li>AxGlyph(ç‰©ç†ç¤ºæ„å›¾ã€å—åŠ›åˆ†æå›¾ã€æµç¨‹å›¾ç­‰)</li><li>Xmindï¼ˆæ€ç»´å¯¼å›¾ï¼‰</li></ul><h2 id="æ’ç‰ˆè½¯ä»¶ï¼š"><a href="#æ’ç‰ˆè½¯ä»¶ï¼š" class="headerlink" title="æ’ç‰ˆè½¯ä»¶ï¼š"></a>æ’ç‰ˆè½¯ä»¶ï¼š</h2><p>-<br>  word</p><ul><li>latex</li><li>typora+picgoï¼ˆmarkdownè¯­è¨€ï¼Œè®°ç¬”è®°å¾ˆæ–¹ä¾¿ï¼Œå†™å¥½å¤§çº²å†ç”¨latexå†™,picgoæ­é…giteeç”¨æ¥ä½œå›¾åºŠï¼‰</li><li>typoraï¼šgithubä¸Šæœ‰LaTeXé£æ ¼çš„ä¸»é¢˜ï¼Œè‡ªåŠ¨ç¼–å·ç­‰ï¼Œæ”¯æŒå¯¼å‡ºwordã€pdfï¼Œååˆ†é«˜æ•ˆ</li></ul><h2 id="LaTeXç›¸å…³ï¼š"><a href="#LaTeXç›¸å…³ï¼š" class="headerlink" title="LaTeXç›¸å…³ï¼š"></a>LaTeXç›¸å…³ï¼š</h2><p>-<br>  TeXLiveï¼ˆè½¯ä»¶åŒ…ï¼‰</p><ul><li>Texstudioï¼ˆIDEï¼‰</li><li>excel2latexæ’ä»¶ï¼ˆå¯¼å‡ºlatexè¡¨æ ¼ï¼‰</li><li>XL toolboxï¼ˆå¯¼å‡ºé«˜æ¸…excelå›¾ç‰‡ï¼‰</li></ul><h2 id="å…¬å¼ç›¸å…³è½¯ä»¶ï¼š"><a href="#å…¬å¼ç›¸å…³è½¯ä»¶ï¼š" class="headerlink" title="å…¬å¼ç›¸å…³è½¯ä»¶ï¼š"></a>å…¬å¼ç›¸å…³è½¯ä»¶ï¼š</h2><p>-<br>  Axmathï¼ˆæ¨èï¼‰</p><ul><li>mathtypeï¼ˆä¸æ¨èï¼‰</li><li>mathpixï¼ˆå…¬å¼OCRè¯†åˆ«ï¼‰</li><li>Zetero+ä¼—å¤šçš„æ’ä»¶ï¼ˆæ–‡çŒ®ç®¡ç†å·¥å…·ï¼Œé…åˆæ’ä»¶ç­‰å¯ä»¥è‡ªåŠ¨ä¸‹è½½çŸ¥ç½‘ç­‰æ–‡çŒ®å¹¶ä¸€é”®å¯¼å‡ºbibå‚è€ƒæ–‡çŒ®ï¼Œä¹Ÿå¯ä»¥åœ¨Wordé‡Œé¢è¿›è¡Œå‚è€ƒæ–‡çŒ®çš„ç®¡ç†ï¼Œå¾®ä¿¡å…¬ä¼—å·ï¼ˆé’æŸ å­¦æœ¯ï¼‰æœ‰è¯¦ç»†æ•™ç¨‹ï¼‰</li></ul><h1 id="æ¯”èµ›åç§°"><a href="#æ¯”èµ›åç§°" class="headerlink" title="æ¯”èµ›åç§°"></a>æ¯”èµ›åç§°</h1><p>-<br>  ç¾å›½å¤§å­¦ç”Ÿæ•°å­¦å»ºæ¨¡ç«èµ›</p><ul><li>å…¨å›½å¤§å­¦ç”Ÿæ•°å­¦å»ºæ¨¡ç«èµ›</li><li>åä¸ºæ¯ç ”ç©¶ç”Ÿæ•°å­¦å»ºæ¨¡</li><li>ç”µå·¥æ¯</li><li>åä¸­èµ›</li><li>APMCMäºšå¤ªåœ°åŒºæ•°å­¦å»ºæ¨¡</li><li>æ·±åœ³æ¯</li><li>ä¸­é’æ¯</li><li>åä¸œæ¯</li><li>æ•°ç»´æ¯</li><li>ä¸œä¸‰çœæ•°å­¦å»ºæ¨¡</li><li>è®¤è¯æ¯</li></ul><h1 id="æ¯”èµ›è®ºæ–‡"><a href="#æ¯”èµ›è®ºæ–‡" class="headerlink" title="æ¯”èµ›è®ºæ–‡"></a>æ¯”èµ›è®ºæ–‡</h1><p>-<br>  æ•°å­¦å»ºæ¨¡ç¾èµ›è®ºæ–‡</p><ul><li>æ•°å­¦å»ºæ¨¡å›½èµ›è®ºæ–‡</li><li>mathorcupå†å¹´è®ºæ–‡</li><li>ç ”ç©¶ç”Ÿæ•°å­¦å»ºæ¨¡å†å¹´è®ºæ–‡</li><li>å›½èµ›è¯„é˜…è¦ç‚¹</li></ul><h2 id="åˆ†ç±»ä¾æ®ï¼š"><a href="#åˆ†ç±»ä¾æ®ï¼š" class="headerlink" title="åˆ†ç±»ä¾æ®ï¼š"></a>åˆ†ç±»ä¾æ®ï¼š</h2><p>1ã€æŒ‰ç…§æ¨¡å‹åˆ†ç±»</p><p>2ã€æŒ‰ç…§æ¯”èµ›åˆ†ç±»</p><p><strong>å…·ä½“å†…å®¹ï¼š</strong>æ¯”èµ›é¢˜ç›®+æ¯”èµ›è®ºæ–‡</p><p><strong>å†å¹´æ¯”èµ›é¢˜ç›®</strong>ä¹Ÿå¾ˆé‡è¦</p><p><strong>æ•°å­¦å»ºæ¨¡ç»éªŒåˆ†äº«ä¸æ€»ç»“</strong>ä¹Ÿå¾ˆé‡è¦</p><h1 id="ç®—æ³•åŠå¸¸ç”¨ä»£ç "><a href="#ç®—æ³•åŠå¸¸ç”¨ä»£ç " class="headerlink" title="ç®—æ³•åŠå¸¸ç”¨ä»£ç "></a>ç®—æ³•åŠå¸¸ç”¨ä»£ç </h1><p>-<br>  æ•°å­¦å»ºæ¨¡ç®—æ³•</p><ul><li>è½¯ä»¶æ¨¡å‹ç®—æ³•æ±‡æ€»</li><li>MATLABç®—æ³•</li><li>å¸¸ç”¨Matlabä»£ç </li><li>æ™ºèƒ½ç®—æ³•</li></ul><h1 id="å¸¸ç”¨æ¨¡å‹åŠç®—æ³•ï¼š"><a href="#å¸¸ç”¨æ¨¡å‹åŠç®—æ³•ï¼š" class="headerlink" title="å¸¸ç”¨æ¨¡å‹åŠç®—æ³•ï¼š"></a>å¸¸ç”¨æ¨¡å‹åŠç®—æ³•ï¼š</h1><p>1.<br>   å±‚æ¬¡åˆ†ææ³•       AHP</p><ol start="2"><li>æ’å€¼ç®—æ³•        interpolation</li><li>è¿ªæ°æ–¯ç‰¹æ‹‰æ¨¡å‹   Dijkstra</li><li>åŠ¨æ€è§„åˆ’        dynamic programming</li><li>æ–¹å·®åˆ†æ        variance analysis</li><li>å¼—æ´›ä¼Šå¾·ç®—æ³•     Floyd algorithm</li><li>ç°è‰²é¢„æµ‹        Grey Prediction</li><li>å›å½’åˆ†æ        regression analysis</li><li>èšç±»åˆ†æ        Cluster analysis</li><li>å†³ç­–æ ‘          decision tree</li><li>é€»è¾‘å›å½’        logistic regression</li><li>æ¨¡æ‹Ÿé€€ç«        simulated annealing</li><li>æ’é˜Ÿè®º          queuing theory</li><li>ç¥ç»ç½‘ç»œ        neural networks</li><li>æ—¶é—´åºåˆ—        ARMA</li><li>å› å­åˆ†æ        factor analysis</li><li>ä¼˜åŠ£è§£è·ç¦»æ³•     Topsis</li><li>å…ƒèƒè‡ªåŠ¨æœº       cellular automata</li><li>æ”¯æŒå‘é‡æœº       Support Vector Machines</li><li>ä¸»æˆåˆ†åˆ†æ       PCA</li></ol><h2 id="ä¼˜åŒ–é—®é¢˜åŠè§„åˆ’æ¨¡å‹ï¼š"><a href="#ä¼˜åŒ–é—®é¢˜åŠè§„åˆ’æ¨¡å‹ï¼š" class="headerlink" title="ä¼˜åŒ–é—®é¢˜åŠè§„åˆ’æ¨¡å‹ï¼š"></a>ä¼˜åŒ–é—®é¢˜åŠè§„åˆ’æ¨¡å‹ï¼š</h2><p>çº¿æ€§è§„åˆ’ï¼ŒåŠå®šè§„åˆ’ã€å‡ ä½•è§„åˆ’ã€éçº¿æ€§è§„åˆ’ï¼Œæ•´æ•°è§„åˆ’ï¼Œå¤šç›®æ ‡è§„åˆ’ï¼ˆåˆ†å±‚åºåˆ—æ³•ï¼‰ï¼ŒåŠ¨æ€è§„åˆ’ï¼Œå­˜è´®è®ºã€ä»£ç†æ¨¡å‹ã€ç›¸åº”é¢åˆ†ææ³•ã€åˆ—ç”Ÿæˆç®—æ³•</p><h2 id="é¢„æµ‹æ¨¡å‹ï¼š"><a href="#é¢„æµ‹æ¨¡å‹ï¼š" class="headerlink" title="é¢„æµ‹æ¨¡å‹ï¼š"></a>é¢„æµ‹æ¨¡å‹ï¼š</h2><p>å¾®åˆ†æ–¹ç¨‹ï¼Œå°æ³¢åˆ†æï¼Œå›å½’åˆ†æï¼Œç°è‰²é¢„æµ‹ï¼Œé©¬å°”å¯å¤«é¢„æµ‹ï¼Œæ—¶é—´åºåˆ—åˆ†æ(AR MA ARMA ARIMA,LSTMç¥ç»ç½‘ç»œ)ï¼Œæ··æ²Œæ¨¡å‹æ—¶é—´åºåˆ—é¢„æµ‹ï¼Œæ”¯æŒå‘é‡æœºï¼Œç¥ç»ç½‘ç»œé¢„æµ‹ï¼ˆä¸æœºå™¨å­¦ä¹ éƒ¨åˆ†å¾ˆå¤šé‡åˆï¼‰</p><h2 id="åŠ¨æ€æ¨¡å‹ï¼š"><a href="#åŠ¨æ€æ¨¡å‹ï¼š" class="headerlink" title="åŠ¨æ€æ¨¡å‹ï¼š"></a>åŠ¨æ€æ¨¡å‹ï¼š</h2><p>å¾®åˆ†æ–¹ç¨‹æ¨¡å‹ï¼ˆODEã€SDEã€DDEã€DAEã€PDEï¼‰ï¼Œå·®åˆ†æ–¹ç¨‹æ¨¡å‹ï¼Œå…ƒèƒè‡ªåŠ¨æœºï¼Œæ’é˜Ÿè®ºï¼Œè’™ç‰¹å¡ç½—éšæœºæ¨¡æ‹Ÿ</p><h2 id="å›¾è®ºæ¨¡å‹ï¼š"><a href="#å›¾è®ºæ¨¡å‹ï¼š" class="headerlink" title="å›¾è®ºæ¨¡å‹ï¼š"></a>å›¾è®ºæ¨¡å‹ï¼š</h2><p>æœ€çŸ­è·¯å¾„ï¼Œæœ€å°ç”Ÿæˆæ ‘ï¼Œæœ€å°è´¹ç”¨æœ€å¤§æµï¼ŒæŒ‡æ´¾é—®é¢˜ï¼Œæ—…è¡Œå•†é—®é¢˜ï¼ŒVRPTWè·¯å¾„è§„åˆ’ï¼Œç½‘ç»œæµï¼Œè·¯å¾„è§„åˆ’ç®—æ³•ï¼ˆDijkstraï¼ŒFloydï¼ŒA<em>ï¼ŒD</em>ï¼ŒRRT<em>ï¼ŒLPA</em>ï¼ŒD*liteï¼‰</p><h2 id="è¯„ä»·æ¨¡å‹ï¼š"><a href="#è¯„ä»·æ¨¡å‹ï¼š" class="headerlink" title="è¯„ä»·æ¨¡å‹ï¼š"></a>è¯„ä»·æ¨¡å‹ï¼š</h2><p>å±‚æ¬¡åˆ†ææ³•ï¼Œç†µæƒæ³•ï¼Œæœ€ä¼˜èµ‹æƒæ³•ï¼Œä¸»æˆåˆ†åˆ†ææ³•ï¼Œä¸»æˆåˆ†å›å½’è¯„ä»·ï¼Œå› å­åˆ†æï¼Œæ¨¡ç³Šç»¼åˆè¯„ä»·ï¼ŒTOPSISæ³•ï¼Œæ•°æ®åŒ…ç»œåˆ†æï¼Œç§©å’Œæ¯”æ³•ï¼Œç°è‰²ç»¼åˆè¯„ä»·æ³•ï¼Œ<br>æœ€å°äºŒä¹˜ä¸»å®¢è§‚ä¸€è‡´èµ‹æƒè¯„ä»·æ¨¡å‹ï¼ŒBPç¥ç»ç½‘ç»œç»¼åˆè¯„ä»·æ³•</p><h2 id="ç»Ÿè®¡åˆ†ææ¨¡å‹ï¼š"><a href="#ç»Ÿè®¡åˆ†ææ¨¡å‹ï¼š" class="headerlink" title="ç»Ÿè®¡åˆ†ææ¨¡å‹ï¼š"></a>ç»Ÿè®¡åˆ†ææ¨¡å‹ï¼š</h2><p>åˆ†å¸ƒæ£€éªŒï¼Œå‡å€¼Tæ£€éªŒï¼Œæ–¹å·®åˆ†æï¼Œåæ–¹å·®åˆ†æï¼Œç›¸å…³åˆ†æï¼Œå¡æ–¹æ£€éªŒï¼Œç§©å’Œæ£€éªŒï¼Œå›å½’åˆ†æï¼ŒLogisticå›å½’ï¼Œèšç±»åˆ†æï¼Œåˆ¤åˆ«åˆ†æï¼Œå…³è”åˆ†æï¼ˆAprioriç®—æ³•ï¼‰</p><h2 id="ç°ä»£æ™ºèƒ½ç®—æ³•ï¼š"><a href="#ç°ä»£æ™ºèƒ½ç®—æ³•ï¼š" class="headerlink" title="ç°ä»£æ™ºèƒ½ç®—æ³•ï¼š"></a>ç°ä»£æ™ºèƒ½ç®—æ³•ï¼š</h2><p>ï¼ˆæ±‚æå€¼ï¼Œå¤šç›®æ ‡è§„åˆ’ï¼ŒTSPï¼Œè½¦é—´è°ƒåº¦ç­‰ï¼‰æ¨¡æ‹Ÿé€€ç«ï¼Œé—ä¼ ç®—æ³•ï¼Œç²’å­ç¾¤ç®—æ³•ï¼Œç¦å¿Œæœç´¢ã€å…ç–«ç®—æ³•ï¼Œé±¼ç¾¤ç®—æ³•ï¼Œç¥ç»ç½‘ç»œï¼Œèšç¾¤ç®—æ³•</p><h2 id="æœºå™¨å­¦ä¹ ï¼š"><a href="#æœºå™¨å­¦ä¹ ï¼š" class="headerlink" title="æœºå™¨å­¦ä¹ ï¼š"></a>æœºå™¨å­¦ä¹ ï¼š</h2><h3 id="åˆ†ç±»é—®é¢˜ï¼š"><a href="#åˆ†ç±»é—®é¢˜ï¼š" class="headerlink" title="åˆ†ç±»é—®é¢˜ï¼š"></a>åˆ†ç±»é—®é¢˜ï¼š</h3><p>KNNï¼Œé€»è¾‘å›å½’ï¼Œå†³ç­–æ ‘ï¼Œéšæœºæ£®æ—ï¼Œ ADABOOSTã€GBDT\XGBoost\LightGBMï¼Œæ”¯æŒå‘é‡æœºï¼Œæœ´ç´ è´å¶æ–¯ï¼Œç¥ç»ç½‘ç»œ</p><h3 id="å›å½’é—®é¢˜ï¼š"><a href="#å›å½’é—®é¢˜ï¼š" class="headerlink" title="å›å½’é—®é¢˜ï¼š"></a>å›å½’é—®é¢˜ï¼š</h3><p>çº¿æ€§å›å½’ï¼Œ LASSOå›å½’ï¼Œå²­å›å½’ï¼Œå†³ç­–æ ‘å›å½’ï¼Œé›†æˆå­¦ä¹ ä¸­å›å½’æ–¹æ³•ï¼Œæ”¯æŒå‘é‡å›å½’ï¼Œé«˜æ–¯æ··åˆæ¨¡å‹ï¼Œç¥ç»ç½‘ç»œ</p><h3 id="èšç±»é—®é¢˜ï¼š"><a href="#èšç±»é—®é¢˜ï¼š" class="headerlink" title="èšç±»é—®é¢˜ï¼š"></a>èšç±»é—®é¢˜ï¼š</h3><p>Kå‡å€¼èšç±»ï¼Œ DBSCANèšç±»ï¼ŒEMç®—æ³•</p><h3 id="å…¶ä»–ç®—æ³•ï¼š"><a href="#å…¶ä»–ç®—æ³•ï¼š" class="headerlink" title="å…¶ä»–ç®—æ³•ï¼š"></a>å…¶ä»–ç®—æ³•ï¼š</h3><p>å›¾åƒå¤„ç†ï¼ˆè®¡ç®—æœºè§†è§‰ï¼‰ã€æ·±åº¦å­¦ä¹ ã€åˆ†æ²»æ³•ï¼Œè´ªå¿ƒæ³•ã€‚<br>äºŒåˆ†æ³•ï¼Œç›´æ¥æœç´¢æ³•ï¼Œå˜èŒƒå›´æœç´¢ï¼Œå•å› ç´ ä¼˜é€‰æ³•0.618æ³•(é»„é‡‘åˆ†éš”æ³•)ï¼Œæ‹‰æ ¼æœ—æ—¥ä¹˜å­æ³•ï¼Œä¿¡èµ–åŸŸç®—æ³•ï¼Œæ¬§æ‹‰æ³•\æ”¹è¿›æ¬§æ‹‰æ³•ï¼Œç‰›é¡¿-æ‹‰å¼—æ£®ç®—æ³•(ç‰›é¡¿è¿­ä»£æ³•)ã€æ‹Ÿç‰›é¡¿æ³•ã€æ¢¯åº¦ä¸‹é™æ³•</p><p><strong>å¤‡æ³¨ï¼šä¼˜å…ˆä½¿ç”¨ä¼ ç»Ÿç®—æ³•ã€é¿å…ç¾¤æ™ºèƒ½æœºå™¨å­¦ä¹ æ·±åº¦å­¦ä¹ </strong></p><h1 id="æ¨¡æ¿"><a href="#æ¨¡æ¿" class="headerlink" title="æ¨¡æ¿"></a>æ¨¡æ¿</h1><p>-<br>  LaTeXæ¨¡æ¿</p><ul><li>å›½èµ›LaTeXæ¨¡æ¿</li><li>ç¾èµ›LaTeXæ¨¡æ¿</li><li>æ•°å­¦å»ºæ¨¡ä¹¦ç±</li><li>æ•°å­¦å»ºæ¨¡wordæ¨¡æ¿</li></ul>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>RKE2éƒ¨ç½²é«˜å¯ç”¨Rancher v2.7.1</title>
      <link href="/2023/rke2-deploys-highly-available-rancher-v2-7-1/"/>
      <url>/2023/rke2-deploys-highly-available-rancher-v2-7-1/</url>
      
        <content type="html"><![CDATA[<h2 id="å…ˆå†³æ¡ä»¶"><a href="#å…ˆå†³æ¡ä»¶" class="headerlink" title="å…ˆå†³æ¡ä»¶"></a>å…ˆå†³æ¡ä»¶</h2><ul><li>æ³¨æ„ä¿®æ”¹ä¸»æœºåï¼Œä¸è¦æœ‰å†²çª</li></ul><h2 id="é…ç½®è´Ÿè½½å‡è¡¡å™¨å’Œå¥åº·æ£€æŸ¥"><a href="#é…ç½®è´Ÿè½½å‡è¡¡å™¨å’Œå¥åº·æ£€æŸ¥" class="headerlink" title="é…ç½®è´Ÿè½½å‡è¡¡å™¨å’Œå¥åº·æ£€æŸ¥"></a>é…ç½®è´Ÿè½½å‡è¡¡å™¨å’Œå¥åº·æ£€æŸ¥</h2><p>æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯VMware NSX-Tè´Ÿè½½å‡è¡¡</p><blockquote><p>è¿™é‡Œæœ‰ä¸ªå‘ï¼Œ80ç«¯å£çš„å“åº”ä»£ç ï¼Œéœ€è¦æŠŠ307,308,303æ ‡è®°ä¸ºå¥åº·çš„çŠ¶æ€ç </p></blockquote><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936369265351693636925856.png" alt="16936369265351693636925856.png"></p><h2 id="ç¬¬ä¸€ä¸ªserverèŠ‚ç‚¹å®‰è£…"><a href="#ç¬¬ä¸€ä¸ªserverèŠ‚ç‚¹å®‰è£…" class="headerlink" title="ç¬¬ä¸€ä¸ªserverèŠ‚ç‚¹å®‰è£…"></a>ç¬¬ä¸€ä¸ªserverèŠ‚ç‚¹å®‰è£…</h2><blockquote><p>å®˜æ–¹æ–‡æ¡£çš„æè¿°æ„Ÿè§‰å¯¹äºæ–°æ‰‹æ¥è¯´å¤ªä¸å‹å¥½äº†ï¼Œå»ºè®®ä»¥ä¸‹é“¾æ¥éƒ½çœ‹ä¸€ä¸‹ã€‚Rancheræ–°è€æ–‡æ¡£éƒ½å»ºè®®çœ‹ä¸€ä¸‹ï¼Œä¸ç„¶åˆšåˆšå…¥é—¨å¾ˆè’™ã€‚</p><p>RKE2å¿«é€Ÿå¼€å§‹ï¼š<a href="https://docs.rke2.io/zh/install/quickstart">https://docs.rke2.io/zh/install/quickstart</a></p><p>RKE2é«˜å¯ç”¨ï¼š<a href="https://docs.rke2.io/zh/install/ha">https://docs.rke2.io/zh/install/ha</a></p><p>RKE2ç¦»çº¿å®‰è£…ï¼š<a href="https://docs.rke2.io/zh/install/airgap">https://docs.rke2.io/zh/install/airgap</a></p><p>RKE2å¸è½½ï¼š<a href="https://docs.rke2.io/zh/install/linux_uninstall">https://docs.rke2.io/zh/install/linux_uninstall</a></p><p>Rancher Helm CLIå¿«é€Ÿå…¥é—¨ï¼š<a href="https://ranchermanager.docs.rancher.com/zh/getting-started/quick-start-guides/deploy-rancher-manager/helm-cli">https://ranchermanager.docs.rancher.com/zh/getting-started/quick-start-guides/deploy-rancher-manager/helm-cli</a></p><p>Rancher ç¦»çº¿Helmå®‰è£…ï¼š<a href="https://ranchermanager.docs.rancher.com/zh/getting-started/installation-and-upgrade/other-installation-methods/air-gapped-helm-cli-install/install-rancher-ha">https://ranchermanager.docs.rancher.com/zh/getting-started/installation-and-upgrade/other-installation-methods/air-gapped-helm-cli-install/install-rancher-ha</a></p><p>è€ç‰ˆRancheræ–‡æ¡£ ç¦»çº¿å®‰è£…ï¼š<a href="https://docs.rancher.cn/docs/rancher2/installation/other-installation-methods/air-gap/install-rancher/_index">https://docs.rancher.cn/docs/rancher2/installation/other-installation-methods/air-gap/install-rancher/_index</a></p><p>è€ç‰ˆRancheræ–‡æ¡£ å¦‚ä½•åœ¨å›½å†…ä½¿ç”¨ Rancherï¼š<a href="https://docs.rancher.cn/docs/rancher2/best-practices/use-in-china/_index/">https://docs.rancher.cn/docs/rancher2/best-practices/use-in-china/_index/</a></p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¸è½½</span></span><br><span class="line">/usr/local/bin/rke2-uninstall.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½®æ–‡ä»¶ï¼Œload_balancer_addr è´Ÿè½½å‡è¡¡ipæˆ–è€…ç¬¬ä¸€å°serverip</span></span><br><span class="line">load_balancer_addr=172.16.10.241</span><br><span class="line"></span><br><span class="line"><span class="built_in">mkdir</span> -p /etc/rancher/rke2 &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;</span></span><br><span class="line"><span class="string">tls-san:</span></span><br><span class="line"><span class="string">  - <span class="variable">$&#123;load_balancer_addr&#125;</span></span></span><br><span class="line"><span class="string">system-default-registry: \&quot;docker.nju.edu.cn\&quot;</span></span><br><span class="line"><span class="string">&quot;</span> &gt; /etc/rancher/rke2/config.yaml</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥é…ç½®</span></span><br><span class="line"><span class="built_in">cat</span> /etc/rancher/rke2/config.yaml</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šç‰ˆæœ¬å®‰è£…</span></span><br><span class="line">curl -sfL https://rancher-mirror.rancher.cn/rke2/install.sh | INSTALL_RKE2_MIRROR=cn INSTALL_RKE2_VERSION=v1.22.17+rke2r1 sh -</span><br><span class="line"><span class="comment"># å®‰è£…æœ€æ–°stableç‰ˆæœ¬</span></span><br><span class="line"><span class="comment"># curl -sfL https://rancher-mirror.rancher.cn/rke2/install.sh | INSTALL_RKE2_MIRROR=cn sh -</span></span><br><span class="line">systemctl <span class="built_in">enable</span> rke2-server.service &amp;&amp; systemctl start rke2-server.service</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ—¥å¿—</span></span><br><span class="line"><span class="comment"># journalctl -u rke2-server -f</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å®ç”¨ç¨‹åºæ³¨å†Œåˆ°PATH"><a href="#å®ç”¨ç¨‹åºæ³¨å†Œåˆ°PATH" class="headerlink" title="å®ç”¨ç¨‹åºæ³¨å†Œåˆ°PATH"></a>å®ç”¨ç¨‹åºæ³¨å†Œåˆ°PATH</h2><blockquote><p>kubeconfigé»˜è®¤çš„serveråœ°å€æ˜¯127.0.0.1</p><p>åœ¨æœ€å°é›†ç¾¤å®‰è£…å®Œæˆä¹‹åéœ€è¦ä¿®æ”¹ä¸ºè´Ÿè½½å‡è¡¡åœ°å€</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;export PATH=$PATH:/var/lib/rancher/rke2/bin;&#x27;</span> &gt;&gt; ~/.bashrc &amp;&amp; <span class="built_in">source</span> ~/.bashrc</span><br><span class="line"><span class="built_in">mkdir</span> -p ~/.kube &amp;&amp; <span class="built_in">rm</span> -f ~/.kube/config &amp;&amp; <span class="built_in">ln</span> -s /etc/rancher/rke2/rke2.yaml ~/.kube/config</span><br></pre></td></tr></table></figure><h3 id="ç­‰å¾…æ‰€æœ‰podè¿è¡Œ"><a href="#ç­‰å¾…æ‰€æœ‰podè¿è¡Œ" class="headerlink" title="ç­‰å¾…æ‰€æœ‰podè¿è¡Œ"></a>ç­‰å¾…æ‰€æœ‰podè¿è¡Œ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">root@rke1:~# watch -n 1 kubectl get pods -A</span><br><span class="line"></span><br><span class="line">Every 1.0s: kubectl get pods -A                                                                                                                                                                             rke1: Thu Mar 16 21:22:08 2023</span><br><span class="line"></span><br><span class="line">NAMESPACE     NAME                                                   READY   STATUS      RESTARTS   AGE</span><br><span class="line">kube-system   cloud-controller-manager-rke1                          1/1     Running     0          33m</span><br><span class="line">kube-system   etcd-rke1                                              1/1     Running     0          33m</span><br><span class="line">kube-system   helm-install-rke2-canal-mscjh                          0/1     Completed   0          34m</span><br><span class="line">kube-system   helm-install-rke2-coredns-qrmgn                        0/1     Completed   0          34m</span><br><span class="line">kube-system   helm-install-rke2-ingress-nginx-ddt95                  0/1     Completed   0          34m</span><br><span class="line">kube-system   helm-install-rke2-metrics-server-6cm27                 0/1     Completed   0          34m</span><br><span class="line">kube-system   kube-apiserver-rke1                                    1/1     Running     0          33m</span><br><span class="line">kube-system   kube-controller-manager-rke1                           1/1     Running     0          33m</span><br><span class="line">kube-system   kube-proxy-rke1                                        1/1     Running     0          33m</span><br><span class="line">kube-system   kube-scheduler-rke1                                    1/1     Running     0          33m</span><br><span class="line">kube-system   rke2-canal-f56nc                                       2/2     Running     0          32m</span><br><span class="line">kube-system   rke2-coredns-rke2-coredns-69844654d9-lsvw6             1/1     Running     0          32m</span><br><span class="line">kube-system   rke2-coredns-rke2-coredns-autoscaler-95d984597-p9r6k   1/1     Running     0          32m</span><br><span class="line">kube-system   rke2-ingress-nginx-controller-4ddx9                    1/1     Running     0          29m</span><br><span class="line">kube-system   rke2-metrics-server-765b64878b-jtq2v                   1/1     Running     0          30m</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æ³¨å†Œä»¤ç‰Œï¼Œæ¥ä¸‹æ¥è¦ç”¨"><a href="#æ³¨å†Œä»¤ç‰Œï¼Œæ¥ä¸‹æ¥è¦ç”¨" class="headerlink" title="æ³¨å†Œä»¤ç‰Œï¼Œæ¥ä¸‹æ¥è¦ç”¨"></a>æ³¨å†Œä»¤ç‰Œï¼Œæ¥ä¸‹æ¥è¦ç”¨</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /var/lib/rancher/rke2/server/node-token</span><br></pre></td></tr></table></figure><h2 id="å…¶ä»–serverèŠ‚ç‚¹å®‰è£…"><a href="#å…¶ä»–serverèŠ‚ç‚¹å®‰è£…" class="headerlink" title="å…¶ä»–serverèŠ‚ç‚¹å®‰è£…"></a>å…¶ä»–serverèŠ‚ç‚¹å®‰è£…</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é…ç½®æ–‡ä»¶ï¼Œload_balancer_addr è´Ÿè½½å‡è¡¡ipæˆ–è€…ç¬¬ä¸€å°serverip</span></span><br><span class="line">load_balancer_addr=172.16.10.241 node_token=xxxxxxxx</span><br><span class="line"></span><br><span class="line"><span class="built_in">mkdir</span> -p /etc/rancher/rke2 &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;</span></span><br><span class="line"><span class="string">server: https://<span class="variable">$&#123;load_balancer_addr&#125;</span>:9345</span></span><br><span class="line"><span class="string">token: <span class="variable">$&#123;node_token&#125;</span></span></span><br><span class="line"><span class="string">tls-san:</span></span><br><span class="line"><span class="string">  - <span class="variable">$&#123;load_balancer_addr&#125;</span></span></span><br><span class="line"><span class="string">system-default-registry: \&quot;docker.nju.edu.cn\&quot;</span></span><br><span class="line"><span class="string">&quot;</span> &gt; /etc/rancher/rke2/config.yaml</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥é…ç½®</span></span><br><span class="line"><span class="built_in">cat</span> /etc/rancher/rke2/config.yaml</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…</span></span><br><span class="line">curl -sfL https://rancher-mirror.rancher.cn/rke2/install.sh | INSTALL_RKE2_MIRROR=cn INSTALL_RKE2_VERSION=v1.22.17+rke2r1 sh -</span><br><span class="line">systemctl <span class="built_in">enable</span> rke2-server.service &amp;&amp; systemctl start rke2-server.service</span><br></pre></td></tr></table></figure><h2 id="å®ç”¨ç¨‹åºæ³¨å†Œåˆ°PATH-1"><a href="#å®ç”¨ç¨‹åºæ³¨å†Œåˆ°PATH-1" class="headerlink" title="å®ç”¨ç¨‹åºæ³¨å†Œåˆ°PATH"></a>å®ç”¨ç¨‹åºæ³¨å†Œåˆ°PATH</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;export PATH=$PATH:/var/lib/rancher/rke2/bin;&#x27;</span> &gt;&gt; ~/.bashrc &amp;&amp; <span class="built_in">source</span> ~/.bashrc</span><br><span class="line"><span class="built_in">mkdir</span> -p ~/.kube &amp;&amp; <span class="built_in">rm</span> -f ~/.kube/config &amp;&amp; <span class="built_in">ln</span> -s /etc/rancher/rke2/rke2.yaml ~/.kube/config</span><br></pre></td></tr></table></figure><p>è¿™é‡Œä½¿ç”¨kubectlå¯èƒ½ä¼šååº”å¾ˆæ…¢ï¼Œéœ€è¦ä¿®æ”¹kubeconfigä¸­serverçš„åœ°å€ä¸ºè´Ÿè½½å‡è¡¡åœ°å€</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">load_balancer_addr=rancher2.ent.top</span><br><span class="line">sed -i.bak &quot;s/127.0.0.1:6443/$&#123;load_balancer_addr&#125;:6443/&quot; /etc/rancher/rke2/rke2.yaml</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…helm"><a href="#å®‰è£…helm" class="headerlink" title="å®‰è£…helm"></a>å®‰è£…helm</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸‹è½½ helm å¹¶ä¸Šä¼  https://github.com/helm/helm/releases</span></span><br><span class="line"><span class="built_in">rm</span> -rf linux-amd64/helm &amp;&amp; tar -zxvf helm-v3.10.3-linux-amd64.tar.gz &amp;&amp; <span class="built_in">mv</span> linux-amd64/helm /usr/local/bin/helm &amp;&amp; helm version</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…Cert-Manager"><a href="#å®‰è£…Cert-Manager" class="headerlink" title="å®‰è£…Cert-Manager"></a>å®‰è£…Cert-Manager</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯ä»¥ä¸‹è½½è¿‡æ¥ç„¶ååœ¨ kubectl apply -f cert-manager.crds.yaml</span></span><br><span class="line">kubectl apply -f https://github.com/cert-manager/cert-manager/releases/download/v1.7.1/cert-manager.crds.yaml</span><br><span class="line"></span><br><span class="line">helm repo add jetstack https://charts.jetstack.io &amp;&amp; helm repo update</span><br><span class="line"></span><br><span class="line">helm install cert-manager jetstack/cert-manager \</span><br><span class="line">--<span class="built_in">set</span> image.repository=quay.nju.edu.cn/jetstack/cert-manager-controller \</span><br><span class="line">--<span class="built_in">set</span> webhook.image.repository=quay.nju.edu.cn/jetstack/cert-manager-webhook \</span><br><span class="line">--<span class="built_in">set</span> cainjector.image.repository=quay.nju.edu.cn/jetstack/cert-manager-cainjector \</span><br><span class="line">--<span class="built_in">set</span> startupapicheck.image.repository=quay.nju.edu.cn/jetstack/cert-manager-ctl \</span><br><span class="line">--namespace cert-manager \</span><br><span class="line">--create-namespace \</span><br><span class="line">--version v1.7.1</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å®‰è£…Rancher"><a href="#å®‰è£…Rancher" class="headerlink" title="å®‰è£…Rancher"></a>å®‰è£…Rancher</h2><blockquote><p>è¿™é‡Œä¹Ÿæœ‰ä¸ªå‘ï¼Œä¸èƒ½å®‰è£…ç¦»çº¿å®‰è£…æ–‡æ¡£ä¸­åŠ <br> <code>--set certmanager.version=&lt;CERTMANAGER_VERSION&gt;</code> å‚æ•°ï¼Œä¼šæŠ¥é”™å¦‚ä¸‹<br><code>unable to build kubernetes objects from release manifest: resource mapping not found for name: &quot;rancher&quot; namespace: &quot;&quot; </code></p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">helm repo add rancher-latest https://rancher-mirror.rancher.cn/server-charts/latest</span><br><span class="line"></span><br><span class="line">kubectl create namespace cattle-system</span><br><span class="line"></span><br><span class="line"><span class="comment"># rancheråŸŸåï¼Œè¦ä¹ˆè§£ædnsï¼Œè¦ä¹ˆåŠ å…¥è‡ªå·±ç”µè„‘hosts</span></span><br><span class="line">rancher_domain=rancher01.ent.top</span><br><span class="line">helm install rancher rancher-latest/rancher \</span><br><span class="line">--namespace cattle-system \</span><br><span class="line">--<span class="built_in">set</span> hostname=<span class="variable">$&#123;rancher_domain&#125;</span> \</span><br><span class="line">--<span class="built_in">set</span> rancherImage=docker.nju.edu.cn/rancher/rancher \</span><br><span class="line">--<span class="built_in">set</span> systemDefaultRegistry=docker.nju.edu.cn</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…å®Œæˆ"><a href="#å®‰è£…å®Œæˆ" class="headerlink" title="å®‰è£…å®Œæˆ"></a>å®‰è£…å®Œæˆ</h2><p>å¯†ç çœ‹æç¤º<br><code>$(kubectl get secret --namespace cattle-system bootstrap-secret -o go-template=&#39;&#123;&#123;.data.bootstrapPassword|base64decode&#125;&#125;&#39;)</code><br>æˆ–è€…ç›´æ¥ç”¨é“¾æ¥ï¼ˆå…¶å®å°±æ˜¯è·³è¿‡è¾“å…¥ä¸Šé¢éšæœºå¯†ç çš„é˜¶æ®µï¼Œç›´æ¥åˆ°ä¸‹ä¸€æ­¥è®¾ç½®adminå¯†ç ï¼‰<br><code>echo https://rancher01.ent.top/dashboard/?setup=$(kubectl get secret --namespace cattle-system bootstrap-secret -o go-template=&#39;&#123;&#123;.data.bootstrapPassword|base64decode&#125;&#125;&#39;)</code></p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936369605351693636960184.png" alt="16936369605351693636960184.png"></p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936369695351693636969075.png" alt="16936369695351693636969075.png"></p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936369815351693636980799.png" alt="16936369815351693636980799.png"></p>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>VMware NSX-Tç½‘ç»œä¸ç¨³å®šï¼Œsshè‡ªåŠ¨æ–­å¼€ï¼Œiperf3æµ‹é€Ÿæ²¡æœ‰é€Ÿåº¦</title>
      <link href="/2023/the-vmware-nsx-t-network-is-unstable-ssh-automatically-disconnects-and-the-iperf3-speed-test-has-no-speed/"/>
      <url>/2023/the-vmware-nsx-t-network-is-unstable-ssh-automatically-disconnects-and-the-iperf3-speed-test-has-no-speed/</url>
      
        <content type="html"><![CDATA[<h1 id="é—®é¢˜ç°è±¡ï¼š"><a href="#é—®é¢˜ç°è±¡ï¼š" class="headerlink" title="é—®é¢˜ç°è±¡ï¼š"></a>é—®é¢˜ç°è±¡ï¼š</h1><p>ç¬”è®°æœ¬ç›´è¿äº¤æ¢æœºï¼Œå¯¹æœåŠ¡å™¨è¿›è¡Œiperf3æµ‹è¯•ï¼Œç»“æœå‘ç°å¸¦å®½åªæœ‰50Kbits&#x2F;Sï¼Œåªæœ‰ç¬¬ä¸€æ¬¡èƒ½å‘å‡ºæµé‡ï¼Œåé¢ç›´æ¥å°±æ˜¯0bits&#x2F;S</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936371165341693637116260.png" alt="16936371165341693637116260.png"></p><h1 id="é—®é¢˜åˆ†æï¼š"><a href="#é—®é¢˜åˆ†æï¼š" class="headerlink" title="é—®é¢˜åˆ†æï¼š"></a>é—®é¢˜åˆ†æï¼š</h1><p>nsxçš„overlayå’Œvlanä¼ è¾“åŒºåŸŸæ¥å£éƒ½æ˜¯ä½¿ç”¨çš„1700MTU</p><p>å¦‚æœæµé‡è¦è·‘åœ¨å¤§äºŒå±‚ï¼Œéƒ½æ˜¯ä½¿ç”¨1700MTUè¿›è¡Œä¼ è¾“ï¼Œä½†æ˜¯æˆ‘çš„ä¸Šè¡Œé“¾è·¯VDSäº¤æ¢æœºåªæœ‰1500MTU</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936371285401693637127647.png" alt="16936371285401693637127647.png"></p><h1 id="è§£å†³æ–¹æ³•ï¼š"><a href="#è§£å†³æ–¹æ³•ï¼š" class="headerlink" title="è§£å†³æ–¹æ³•ï¼š"></a>è§£å†³æ–¹æ³•ï¼š</h1><h3 id="ç¬¬ä¸€æ­¥"><a href="#ç¬¬ä¸€æ­¥" class="headerlink" title="ç¬¬ä¸€æ­¥"></a>ç¬¬ä¸€æ­¥</h3><p>å°†ä¸»æœºçš„NSXäº¤æ¢æœºMTUä¿®æ”¹ä¸º1700</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936371395401693637139013.png" alt="16936371395401693637139013.png"></p><h3 id="ç¬¬äºŒæ­¥"><a href="#ç¬¬äºŒæ­¥" class="headerlink" title="ç¬¬äºŒæ­¥"></a>ç¬¬äºŒæ­¥</h3><p>ä¿®æ”¹ç‰©ç†äº¤æ¢æœºMTU</p><blockquote><p>æˆ‘è¿™é‡Œä½¿ç”¨çš„åµŒå¥—ç¯å¢ƒï¼Œæ‰€ä»¥ç›´æ¥æ”¹æ¯é¸¡çš„esxiæ ‡å‡†äº¤æ¢æœº</p><p>å› ä¸ºæˆ‘çš„ä¸»æ¿æ˜¯èƒèŸ¹ç½‘å¡ï¼Œæ‰€ä»¥åªèƒ½ç”¨6.7çš„vmkernelèƒèŸ¹ç½‘å¡é©±åŠ¨ï¼Œåœ¨esxi7åŠä»¥ä¸Šéƒ½ç æ‰äº†vmkernelé©±åŠ¨ï¼Œåªç”¨ç”¨nativeæ¨¡å¼é©±åŠ¨ç½‘å¡ï¼Œæ‰€ä»¥æ‰è¿Ÿè¿Ÿæ²¡æœ‰äººå†™å‡ºesxi7çš„èƒèŸ¹ç½‘å¡é©±åŠ¨ </p></blockquote><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936371515391693637151261.png" alt="16936371515391693637151261.png"></p><h1 id="ä¿®å¤éªŒè¯"><a href="#ä¿®å¤éªŒè¯" class="headerlink" title="ä¿®å¤éªŒè¯"></a>ä¿®å¤éªŒè¯</h1><p>å¯ä»¥çœ‹åˆ°å·²ç»æ¢å¤åˆ°äº†æ­£å¸¸å¸¦å®½ï¼Œè€Œä¸”sshä¹Ÿä¸æ‰äº†ï¼Œsftpä¼ è¾“ä¹Ÿä¸ä¼šå¡åœ¨é‚£å„¿åŠå¤©ä¸åŠ¨ </p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936371825391693637182343.png" alt="16936371825391693637182343.png"></p>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>OpenStack Yogaå®‰è£…éƒ¨ç½²ï¼Œæ‰‹æŠŠæ‰‹ä½¿ç”¨kolla-ansibleéƒ¨ç½²OpenStack</title>
      <link href="/2023/openstack-yoga-installation-and-deployment-step-by-step-deployment-of-openstack-using-kolla-ansible/"/>
      <url>/2023/openstack-yoga-installation-and-deployment-step-by-step-deployment-of-openstack-using-kolla-ansible/</url>
      
        <content type="html"><![CDATA[<blockquote><p>åŸºæœ¬ä¸Šæ˜¯æŒ‰ç…§å®˜ç½‘æ–‡æ¡£å¿«é€Ÿå…¥é—¨è¿›è¡Œå®‰è£…ï¼Œä¸è¿‡è¿˜æœ‰å¾ˆå¤šåœ°æ–¹éœ€è¦æ¢æºã€‚é‡ç‚¹åœ¨æ¢æºè¿™å—ã€‚å¦‚æœè¯´ä½ çš„ç½‘å…³æœ‰é­”æ³•ï¼Œé‚£å°±ä¸ç”¨çœ‹è¿™ç¯‡æ–‡ç« äº†ï¼Œç›´æ¥å¤åˆ¶å®˜ç½‘å‘½ä»¤å®‰è£…ã€‚</p></blockquote><h1 id="ç›®æ ‡"><a href="#ç›®æ ‡" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h1><p>éƒ¨ç½²OpenStackå®˜æ–¹æä¾›çš„Simple Configurationç¤ºä¾‹é…ç½®ä¸­çš„Web Applicationå’ŒContainer Optimizedä¸¤ä¸ªç»„ä»¶é…ç½®æ¸…å•ã€‚</p><p>å…¶ä¸­åŒ…æ‹¬</p><ul><li>Web Applicationï¼šCinderï¼ˆå—å­˜å‚¨ï¼‰ã€Glanceï¼ˆé•œåƒæœåŠ¡ï¼‰ã€Keystoneï¼ˆèº«ä»½è®¤è¯ï¼‰ã€Horizonï¼ˆä»ªè¡¨ç›˜ï¼‰ã€Neutronï¼ˆç½‘ç»œæœåŠ¡ï¼‰ã€Novaï¼ˆè®¡ç®—æœåŠ¡ï¼‰ã€Troveï¼ˆæ•°æ®åº“æœåŠ¡ï¼‰ã€Swiftï¼ˆå¯¹è±¡å­˜å‚¨ï¼‰ã€Ceilometerï¼ˆæ•°æ®æ”¶é›†ï¼‰ã€Heatï¼ˆç¼–æ’æœåŠ¡ï¼‰</li><li>Container Optimizedï¼ˆå¢é‡ï¼‰ï¼šKuryrï¼ˆå®¹å™¨ç½‘ç»œé›†æˆï¼‰ã€Barbicanï¼ˆå¯†é’¥æœåŠ¡ï¼‰ã€Designateï¼ˆDNSæœåŠ¡ï¼‰ã€Manilaï¼ˆæ–‡ä»¶å­˜å‚¨ï¼‰ã€Octaviaï¼ˆè´Ÿè½½å‡è¡¡å™¨ï¼‰ã€Placementï¼ˆèµ„æºç›‘æ§ï¼‰</li></ul><p>æ›´å¤šOpenStack landscapeæ™¯è§‚å›¾å¯ä»¥å‚è€ƒå®˜æ–¹æˆ–è€… <a href="https://blog.csdn.net/qq_35485875/article/details/128894934">OPENSTACK LANDSCAPEäº‘åŸç”Ÿæ™¯è§‚ | OpenStackåœ°å›¾_JamesCurtisçš„åšå®¢-CSDNåšå®¢</a></p><h1 id="æ”¯æŒçš„æ“ä½œç³»ç»Ÿ"><a href="#æ”¯æŒçš„æ“ä½œç³»ç»Ÿ" class="headerlink" title="æ”¯æŒçš„æ“ä½œç³»ç»Ÿ"></a>æ”¯æŒçš„æ“ä½œç³»ç»Ÿ</h1><p>æ³¨æ„ï¼šä¸å†æ”¯æŒ CentOS 7 ä½œä¸ºä¸»æœºæ“ä½œç³»ç»Ÿã€‚Train ç‰ˆæœ¬åŒæ—¶æ”¯æŒ CentOS 7 å’Œ 8ï¼Œå¹¶æä¾›äº†è¿ç§»è·¯å¾„ã€‚æœ‰å…³è¿ç§»åˆ° CentOS 8 çš„ä¿¡æ¯ï¼Œè¯·å‚é˜…Kolla Ansible Train æ–‡æ¡£ã€‚</p><p>yogaç‰ˆæœ¬æ”¯æŒä»¥ä¸‹æ“ä½œç³»ç»Ÿï¼š</p><ul><li>CentOS Stream 8</li><li>Debian Bullseye (11)</li><li>openEuler 20.03 LTS SP2</li><li>RHEL 8 (deprecated)</li><li>Rocky Linux 8</li><li>Ubuntu Focal (20.04)</li></ul><p>æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯Ubuntu 22.04 LTSï¼ˆminiå®‰è£…ï¼‰</p><p>ä¸‹é¢å¼€å§‹å®‰è£…</p><h1 id="1-å®‰è£…ç³»ç»Ÿä¾èµ–"><a href="#1-å®‰è£…ç³»ç»Ÿä¾èµ–" class="headerlink" title="1. å®‰è£…ç³»ç»Ÿä¾èµ–"></a>1. å®‰è£…ç³»ç»Ÿä¾èµ–</h1><h2 id="1-1-æ›´æ–°è½¯ä»¶åŒ…ç´¢å¼•"><a href="#1-1-æ›´æ–°è½¯ä»¶åŒ…ç´¢å¼•" class="headerlink" title="1.1. æ›´æ–°è½¯ä»¶åŒ…ç´¢å¼•"></a>1.1. æ›´æ–°è½¯ä»¶åŒ…ç´¢å¼•</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br></pre></td></tr></table></figure><h2 id="1-2-å®‰è£…pythonä¾èµ–"><a href="#1-2-å®‰è£…pythonä¾èµ–" class="headerlink" title="1.2. å®‰è£…pythonä¾èµ–"></a>1.2. å®‰è£…pythonä¾èµ–</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install git python3-dev libffi-dev gcc libssl-dev</span><br></pre></td></tr></table></figure><h1 id="2-å®‰è£…python-venvè™šæ‹Ÿç¯å¢ƒä¾èµ–"><a href="#2-å®‰è£…python-venvè™šæ‹Ÿç¯å¢ƒä¾èµ–" class="headerlink" title="2. å®‰è£…python-venvè™šæ‹Ÿç¯å¢ƒä¾èµ–"></a>2. å®‰è£…python-venvè™šæ‹Ÿç¯å¢ƒä¾èµ–</h1><h2 id="2-1-å®‰è£…python3-venv"><a href="#2-1-å®‰è£…python3-venv" class="headerlink" title="2.1 å®‰è£…python3-venv"></a>2.1 å®‰è£…python3-venv</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install python3-venv</span><br></pre></td></tr></table></figure><h2 id="2-2-åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶æ¿€æ´»å®ƒ"><a href="#2-2-åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶æ¿€æ´»å®ƒ" class="headerlink" title="2.2 åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶æ¿€æ´»å®ƒ"></a>2.2 åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶æ¿€æ´»å®ƒ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir /path &amp;&amp; mkdir /path/to # ä¹Ÿå¯ä»¥è‡ªå®šè·¯å¾„</span><br><span class="line">python3 -m venv /path/to/venv</span><br><span class="line">source /path/to/venv/bin/activate</span><br></pre></td></tr></table></figure><h2 id="2-3-ç¡®ä¿å®‰è£…äº†æœ€æ–°ç‰ˆæœ¬çš„pip"><a href="#2-3-ç¡®ä¿å®‰è£…äº†æœ€æ–°ç‰ˆæœ¬çš„pip" class="headerlink" title="2.3 ç¡®ä¿å®‰è£…äº†æœ€æ–°ç‰ˆæœ¬çš„pip"></a>2.3 ç¡®ä¿å®‰è£…äº†æœ€æ–°ç‰ˆæœ¬çš„pip</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m pip install -i https://pypi.tuna.tsinghua.edu.cn/simple --upgrade pip</span><br></pre></td></tr></table></figure><h2 id="2-4-pypiæ¢æº"><a href="#2-4-pypiæ¢æº" class="headerlink" title="2.4 pypiæ¢æº"></a>2.4 pypiæ¢æº</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure><h2 id="2-5-å®‰è£…Ansible"><a href="#2-5-å®‰è£…Ansible" class="headerlink" title="2.5 å®‰è£…Ansible"></a>2.5 å®‰è£…Ansible</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install &#x27;ansible&gt;=4,&lt;6&#x27;</span><br></pre></td></tr></table></figure><h1 id="3-å®‰è£…Kolla-Ansible"><a href="#3-å®‰è£…Kolla-Ansible" class="headerlink" title="3. å®‰è£…Kolla-Ansible"></a>3. å®‰è£…Kolla-Ansible</h1><h2 id="3-1-kolla"><a href="#3-1-kolla" class="headerlink" title="3.1 kolla"></a>3.1 kolla</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># pip install git+https://opendev.org/openstack/kolla-ansible@stable/yoga</span><br><span class="line"># ä¸Šé¢æ˜¯åŸç‰ˆå‘½ä»¤ï¼Œå»ºè®®ä½¿ç”¨jihulab.comå…‹éš†ä¸€ä»½</span><br><span class="line">pip install git+https://jihulab.com/james-curtis/kolla-ansible@stable/yoga</span><br></pre></td></tr></table></figure><h2 id="3-2-åˆ›å»ºæ–‡ä»¶å¤¹-etc-kolla"><a href="#3-2-åˆ›å»ºæ–‡ä»¶å¤¹-etc-kolla" class="headerlink" title="3.2 åˆ›å»ºæ–‡ä»¶å¤¹&#x2F;etc&#x2F;kolla"></a>3.2 åˆ›å»ºæ–‡ä»¶å¤¹&#x2F;etc&#x2F;kolla</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir -p /etc/kolla</span><br><span class="line">sudo chown $USER:$USER /etc/kolla</span><br></pre></td></tr></table></figure><h2 id="3-3-å¤åˆ¶-globals-yml-å’Œ-passwords-yml-åˆ°-etc-kolla"><a href="#3-3-å¤åˆ¶-globals-yml-å’Œ-passwords-yml-åˆ°-etc-kolla" class="headerlink" title="3.3 å¤åˆ¶ globals.yml å’Œ passwords.yml åˆ° &#x2F;etc&#x2F;kolla"></a>3.3 å¤åˆ¶ globals.yml å’Œ passwords.yml åˆ° &#x2F;etc&#x2F;kolla</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># å¦‚æœä½ ä½¿ç”¨äº†è‡ªå®šä¹‰è·¯å¾„ï¼Œè®°å¾—æ›¿æ¢/path/to</span><br><span class="line">cp -r /path/to/venv/share/kolla-ansible/etc_examples/kolla/* /etc/kolla</span><br></pre></td></tr></table></figure><h2 id="3-4-å¤åˆ¶æ¸…å•æ–‡ä»¶"><a href="#3-4-å¤åˆ¶æ¸…å•æ–‡ä»¶" class="headerlink" title="3.4 å¤åˆ¶æ¸…å•æ–‡ä»¶"></a>3.4 å¤åˆ¶æ¸…å•æ–‡ä»¶</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /path/to/venv/share/kolla-ansible/ansible/inventory/* .</span><br></pre></td></tr></table></figure><h1 id="4-å®‰è£…Ansible-Galaxyä¾èµ–"><a href="#4-å®‰è£…Ansible-Galaxyä¾èµ–" class="headerlink" title="4. å®‰è£…Ansible Galaxyä¾èµ–"></a>4. å®‰è£…Ansible Galaxyä¾èµ–</h1><h2 id="4-1-æ¢æº"><a href="#4-1-æ¢æº" class="headerlink" title="4.1 æ¢æº"></a>4.1 æ¢æº</h2><p>æ‰¾åˆ° &#x2F;path&#x2F;to&#x2F;venv&#x2F;share&#x2F;kolla-ansible&#x2F;requirements.yml </p><p>å†…å®¹å¦‚ä¸‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">collections:</span><br><span class="line">  - name: https://opendev.org/openstack/ansible-collection-kolla</span><br><span class="line">    type: git</span><br><span class="line">    version: stable/yoga</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹è¿™ä¸ªgitä»“åº“åœ°å€ï¼Œå¦‚æœé•œåƒæ‹‰ä¸ä¸‹ï¼Œå»ºè®®å»æ‹‰githubçš„OpenStacké•œåƒ</p><p>ä¿®æ”¹æˆå¦‚ä¸‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">collections:</span><br><span class="line">  - name: https://jihulab.com/james-curtis/ansible-collection-kolla</span><br><span class="line">    type: git</span><br><span class="line">    version: stable/yoga</span><br></pre></td></tr></table></figure><h2 id="4-2-å®‰è£…Kolla-Ansible-Collectionsä¾èµ–"><a href="#4-2-å®‰è£…Kolla-Ansible-Collectionsä¾èµ–" class="headerlink" title="4.2 å®‰è£…Kolla-Ansible-Collectionsä¾èµ–"></a>4.2 å®‰è£…Kolla-Ansible-Collectionsä¾èµ–</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kolla-ansible install-deps</span><br></pre></td></tr></table></figure><h2 id="4-3-dockeræ¢æº-æŒ‡å®šdockerç‰ˆæœ¬åˆ°20-10"><a href="#4-3-dockeræ¢æº-æŒ‡å®šdockerç‰ˆæœ¬åˆ°20-10" class="headerlink" title="4.3 dockeræ¢æº &amp;&amp; æŒ‡å®šdockerç‰ˆæœ¬åˆ°20.10.*"></a>4.3 dockeræ¢æº &amp;&amp; æŒ‡å®šdockerç‰ˆæœ¬åˆ°20.10.*</h2><blockquote><p>è¿™é‡Œä¸æ¢æºæ˜¯å¯ä»¥çš„ã€‚ä½†æ˜¯æˆªæ­¢docker 23.0.0å‘å¸ƒæ—¶é—´ä¹‹åå†æ¥ä½¿ç”¨kolla-ansibleï¼Œé¦–æ¬¡å®‰è£…æ²¡é—®é¢˜ï¼Œåç»­å¦‚æœè¦æ·»åŠ åˆ é™¤ç»„ä»¶çš„è¯å°±ä¼šæŠ¥é”™ã€‚åŸå› æ˜¯dockeråˆ é™¤äº†å®¹å™¨çš„ <code>KernelMemory</code> å±æ€§ï¼Œä½†æ˜¯kollaéœ€è¦è¯»å–ï¼Œå¯¼è‡´æ•°ç»„ä¸‹æ ‡ä¸å­˜åœ¨æŠ¥é”™</p><p>è¯·å‚é˜…ï¼š<a href="https://blog.csdn.net/qq_35485875/article/details/128877591">Kolla-Ansible deployéƒ¨ç½²æŠ¥é”™ KeyError: \â€˜KernelMemory_JamesCurtisçš„åšå®¢-CSDNåšå®¢</a></p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sed -i.bak &#x27;s/https:\/\/download\.docker\.com/https:\/\/mirrors\.tuna\.tsinghua\.edu\.cn\/docker-ce/g&#x27;   /root/.ansible/collections/ansible_collections/openstack/kolla/roles/baremetal/defaults/main.yml</span><br><span class="line">sed  -i.bak  &#x27;s/_package: &quot;docker-ce&quot;/_package: &quot;docker-ce=5:20.10*&quot;/g&#x27;   /root/.ansible/collections/ansible_collections/openstack/kolla/roles/baremetal/defaults/main.yml</span><br></pre></td></tr></table></figure><h2 id="4-4-é…ç½®Ansible"><a href="#4-4-é…ç½®Ansible" class="headerlink" title="4.4 é…ç½®Ansible"></a>4.4 é…ç½®Ansible</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mkdir /etc/ansible </span><br><span class="line">echo &quot;[defaults]</span><br><span class="line">host_key_checking=False</span><br><span class="line">pipelining=True</span><br><span class="line">forks=100&quot; &gt; /etc/ansible/ansible.cfg</span><br></pre></td></tr></table></figure><h1 id="5-å‡†å¤‡åˆå§‹åŒ–é…ç½®"><a href="#5-å‡†å¤‡åˆå§‹åŒ–é…ç½®" class="headerlink" title="5. å‡†å¤‡åˆå§‹åŒ–é…ç½®"></a>5. å‡†å¤‡åˆå§‹åŒ–é…ç½®</h1><p>å¦‚æœå•æœºéƒ¨ç½²ï¼Œä½ ä¹Ÿå¯ä»¥è·³è¿‡æ­¤æ­¥éª¤ï¼Œç„¶åä½¿ç”¨ all-in-one æ¸…å•ï¼Œåç»­å¦‚æœå†å¢åŠ æœºå™¨å¯ä»¥åˆ‡æ¢å›åˆ° multinode æ¸…å•ï¼Œåªéœ€è¦æ³¨æ„ä¿®æ”¹å¥½æœºå™¨ä¸»æœºåå°±è¡Œã€‚</p><blockquote><p>å¯¹äºall-in-oneè™šæ‹Ÿç¯å¢ƒä¸­çš„åœºæ™¯ï¼Œå°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°all-in-oneæ¸…å•çš„æœ€å¼€å¤´</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">localhost ansible_python_interpreter=python</span><br></pre></td></tr></table></figure></blockquote><h2 id="5-1-ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#5-1-ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="5.1 ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>5.1 ä¿®æ”¹é…ç½®æ–‡ä»¶</h2><blockquote><p>æˆ‘è¿™é‡Œä½¿ç”¨3+1æœºå™¨æ¼”ç¤ºï¼Œ</p><p>1 x éƒ¨ç½²æœºï¼š10.10.1.80&#x2F;24</p><p>èŠ‚ç‚¹01ï¼š10.10.1.81&#x2F;24 control01</p><p>èŠ‚ç‚¹02ï¼š10.10.1.82&#x2F;24 control02</p><p>èŠ‚ç‚¹03ï¼š10.10.1.83&#x2F;24 control03</p></blockquote><p>è¿™é‡Œä»…ä»…å±•ç¤º [baremetal:children] èŠ‚ç‚¹ä¹‹å‰çš„é…ç½®æ–‡ä»¶ï¼Œåˆ‡å‹¿ç…§æ¬ï¼ï¼ï¼ </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"># These initial groups are the only groups required to be modified. The</span><br><span class="line"># additional groups are for more control of the environment.</span><br><span class="line">[control]</span><br><span class="line"># These hostname must be resolvable from your deployment host</span><br><span class="line">control01  hostname=control01 ansible_user=root ansible_password=1</span><br><span class="line">control02  hostname=control02 ansible_user=root ansible_password=1</span><br><span class="line">control03  hostname=control03 ansible_user=root ansible_password=1</span><br><span class="line"> </span><br><span class="line"># The above can also be specified as follows:</span><br><span class="line"># control[01:03]     ansible_user=kolla</span><br><span class="line"> </span><br><span class="line"># The network nodes are where your l3-agent and loadbalancers will run</span><br><span class="line"># This can be the same as a host in the control group</span><br><span class="line"># [network]</span><br><span class="line"># network01</span><br><span class="line"># network02</span><br><span class="line"> </span><br><span class="line"># when you specify group_name:children, it will use contents of group specified.</span><br><span class="line">[network:children]</span><br><span class="line">control</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"># [compute]</span><br><span class="line"># compute01</span><br><span class="line">[compute:children]</span><br><span class="line">control</span><br><span class="line"> </span><br><span class="line">[monitoring:children]</span><br><span class="line">control</span><br><span class="line"># [monitoring]</span><br><span class="line"># control01   ansible_user=root ansible_password=1 ansible_become=true</span><br><span class="line"># monitoring01</span><br><span class="line"> </span><br><span class="line"># When compute nodes and control nodes use different interfaces,</span><br><span class="line"># you need to comment out &quot;api_interface&quot; and other interfaces from the globals.yml</span><br><span class="line"># and specify like below:</span><br><span class="line">#compute01 neutron_external_interface=eth0 api_interface=em1 storage_interface=em1 tunnel_interface=em1</span><br><span class="line"> </span><br><span class="line"># [storage]</span><br><span class="line"># storage01</span><br><span class="line">[storage:children]</span><br><span class="line">control</span><br><span class="line"> </span><br><span class="line">[deployment]</span><br><span class="line">deploy       ansible_connection=local</span><br><span class="line"> </span><br><span class="line"># ä¸‹æ¥[baremetal:children]</span><br></pre></td></tr></table></figure><h2 id="5-2-ä¿®æ”¹hosts"><a href="#5-2-ä¿®æ”¹hosts" class="headerlink" title="5.2 ä¿®æ”¹hosts"></a>5.2 ä¿®æ”¹hosts</h2><p>å¦‚æœä½¿ç”¨ all-in-one æ¸…å•ï¼Œè¿™ä¸€æ­¥ä¹Ÿå¯ä»¥è·³è¿‡</p><p>ç¼–è¾‘&#x2F;etc&#x2F;hostsæ–‡ä»¶ï¼Œæ³¨æ„æ›¿æ¢æˆè‡ªå·±çš„æœºå™¨çš„å†…ç½‘ip</p><blockquote><p>åªéœ€è¦ä¿®æ”¹éƒ¨ç½²æœºã€‚åç»­ä½¿ç”¨bootstrap-serverå‘½ä»¤ä¹‹åä¼šåŒæ­¥åˆ°æ‰€æœ‰èŠ‚ç‚¹</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># è¿™é‡Œæ˜¯deployæœºå™¨ä¸Šçš„æ–‡ä»¶</span><br><span class="line">127.0.0.1 localhost</span><br><span class="line">10.10.1.80 deploy</span><br><span class="line">10.10.1.81 control01</span><br><span class="line">10.10.1.82 control02</span><br><span class="line">10.10.1.83 control03</span><br></pre></td></tr></table></figure><h2 id="5-3-å®‰è£…-sshpass"><a href="#5-3-å®‰è£…-sshpass" class="headerlink" title="5.3 å®‰è£… sshpass"></a>5.3 å®‰è£… sshpass</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install sshpass -y</span><br></pre></td></tr></table></figure><h2 id="5-4-é…ç½®sshå¯†é’¥å¯¹"><a href="#5-4-é…ç½®sshå¯†é’¥å¯¹" class="headerlink" title="5.4 é…ç½®sshå¯†é’¥å¯¹"></a>5.4 é…ç½®sshå¯†é’¥å¯¹</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen</span><br></pre></td></tr></table></figure><p>ä¸€è·¯å›è½¦</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh-copy-id 10.10.1.81</span><br><span class="line"># æ³¨æ„æ›¿æ¢è‡ªå·±çš„å†…ç½‘ip</span><br></pre></td></tr></table></figure><p>è¾“å…¥yesåŒæ„æŒ‡çº¹ï¼Œç„¶åè¾“å…¥å¯†ç ã€‚å°±å¯ä»¥äº†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># çœ‹ä¸‹å¦‚ä¸‹æç¤ºå°±æ˜¯æˆåŠŸäº†</span><br><span class="line">root@10.10.1.81&#x27;s password: </span><br><span class="line"></span><br><span class="line">Number of key(s) added: 1</span><br><span class="line"></span><br><span class="line">Now try logging into the machine, with:   &quot;ssh &#x27;10.10.1.81&#x27;&quot;</span><br><span class="line">and check to make sure that only the key(s) you wanted were added.</span><br></pre></td></tr></table></figure><h2 id="5-5-æ£€æŸ¥æ¸…å•é…ç½®æ˜¯å¦æ­£ç¡®"><a href="#5-5-æ£€æŸ¥æ¸…å•é…ç½®æ˜¯å¦æ­£ç¡®" class="headerlink" title="5.5 æ£€æŸ¥æ¸…å•é…ç½®æ˜¯å¦æ­£ç¡®"></a>5.5 æ£€æŸ¥æ¸…å•é…ç½®æ˜¯å¦æ­£ç¡®</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ansible -i multinode all -m ping</span><br></pre></td></tr></table></figure><p>è¿”å›ä¸‹é¢ç»“æœå°±æ˜¯æˆåŠŸ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">(venv) root@ubuntu:~# ansible -i multinode all -m ping</span><br><span class="line">[WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details</span><br><span class="line">localhost | SUCCESS =&gt; &#123;</span><br><span class="line">    &quot;ansible_facts&quot;: &#123;</span><br><span class="line">        &quot;discovered_interpreter_python&quot;: &quot;/usr/bin/python3&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;changed&quot;: false,</span><br><span class="line">    &quot;ping&quot;: &quot;pong&quot;</span><br><span class="line">&#125;</span><br><span class="line">control01 | SUCCESS =&gt; &#123;</span><br><span class="line">    &quot;ansible_facts&quot;: &#123;</span><br><span class="line">        &quot;discovered_interpreter_python&quot;: &quot;/usr/bin/python3&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;changed&quot;: false,</span><br><span class="line">    &quot;ping&quot;: &quot;pong&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="6-ç”Ÿæˆå¯†ç "><a href="#6-ç”Ÿæˆå¯†ç " class="headerlink" title="6. ç”Ÿæˆå¯†ç "></a>6. ç”Ÿæˆå¯†ç </h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kolla-genpwd</span><br></pre></td></tr></table></figure><h1 id="7-é…ç½®globals-yml"><a href="#7-é…ç½®globals-yml" class="headerlink" title="7. é…ç½®globals.yml"></a>7. é…ç½®globals.yml</h1><p>å…ˆå®‰è£…ä¸€ä¸‹vim</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install vim -y</span><br></pre></td></tr></table></figure><p>ç¼–è¾‘</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/kolla/globals.yml</span><br></pre></td></tr></table></figure><p> å…ˆä¸è¦è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œè¾“å…¥ä¸‹é¢ï¼Œæ˜¾ç¤ºè¡Œå·</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:set number</span><br></pre></td></tr></table></figure><h2 id="7-1-ä¿®æ”¹åŸºç¡€é•œåƒå‘è¡Œç‰ˆ"><a href="#7-1-ä¿®æ”¹åŸºç¡€é•œåƒå‘è¡Œç‰ˆ" class="headerlink" title="7.1 ä¿®æ”¹åŸºç¡€é•œåƒå‘è¡Œç‰ˆ"></a>7.1 ä¿®æ”¹åŸºç¡€é•œåƒå‘è¡Œç‰ˆ</h2><p>é»˜è®¤æ˜¯centosï¼Œè¦ä¿®æ”¹ä¸ºdebianã€‚é»˜è®¤çš„centosæœ‰ä¸€äº›é•œåƒä¸å­˜åœ¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i.bak &#x27;s/#kolla_base_distro: &quot;centos&quot;/kolla_base_distro: &quot;debian&quot;/&#x27; /etc/kolla/globals.yml</span><br></pre></td></tr></table></figure><h2 id="7-2-ç¼–è¾‘ç½‘ç»œæ¥å£"><a href="#7-2-ç¼–è¾‘ç½‘ç»œæ¥å£" class="headerlink" title="7.2 ç¼–è¾‘ç½‘ç»œæ¥å£"></a>7.2 ç¼–è¾‘ç½‘ç»œæ¥å£</h2><p>è¿™é‡Œï¼Œvimçš„åŸºæœ¬ä½¿ç”¨ä¸åœ¨èµ˜è¿°</p><p><strong>æœç´¢ç¬¬ä¸€ä¸ªç½‘å£æ¥å£</strong>ï¼Œå¹¶ä¿®æ”¹ä¸ºå¯¹åº”é…ç½®ï¼ˆå¯ä»¥é€šè¿‡ ip a æŸ¥çœ‹æ¥å£åå­—ï¼‰</p><blockquote><p> è®¾ç½®çš„ç¬¬ä¸€ä¸ªæ¥å£æ˜¯â€œ Network_interfaceâ€ã€‚è¿™æ˜¯å¤šä¸ªç®¡ç†ç±»å‹ç½‘ç»œçš„é»˜è®¤æ¥å£ã€‚</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">network_interface: &quot;eth0&quot;</span><br></pre></td></tr></table></figure><p><strong>æœç´¢å¹¶è®¾ç½®ç¬¬äºŒä¸ªæ¥å£</strong></p><blockquote><p>æ‰€éœ€çš„ç¬¬äºŒä¸ªæ¥å£ä¸“ç”¨äºNeutronå¤–éƒ¨ï¼ˆæˆ–å…¬å…±ï¼‰ç½‘ç»œï¼Œå¯ä»¥æ˜¯vlanæˆ–flatï¼Œè¿™å–å†³äºç½‘ç»œçš„åˆ›å»ºæ–¹å¼ã€‚æ­¤æ¥å£åº”å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œæ²¡æœ‰IPåœ°å€ã€‚å¦åˆ™ï¼Œå®ä¾‹å°†æ— æ³•è®¿é—®å¤–éƒ¨ç½‘ç»œã€‚</p></blockquote><p> è¿™é‡Œè¯´äººè¯ï¼Œå°±æ˜¯ç¬¬äºŒä¸ªæ¥å£éœ€è¦ç»™ä»–ä¸€ä¸ªç©ºé—²çš„ç½‘å£</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">neutron_external_interface: &quot;eth1&quot;</span><br></pre></td></tr></table></figure><p><strong>æœç´¢å¹¶è®¾ç½®æµ®åŠ¨ip</strong></p><blockquote><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºç®¡ç†æµé‡æä¾›æµ®åŠ¨IPã€‚è¯¥IPå°†ç”±keepaliveç®¡ç†ï¼Œä»¥æä¾›é«˜å¯ç”¨æ€§ï¼Œå¹¶ä¸”åº”è®¾ç½®ä¸ºåœ¨è¿æ¥åˆ°æˆ‘ä»¬ç½‘ç»œæ¥å£çš„ç®¡ç†ç½‘ç»œä¸­ä¸ä½¿ç”¨çš„åœ°å€ã€‚</p></blockquote><p>è¿™é‡Œè¯´äººè¯å°±æ˜¯ï¼Œæµ®åŠ¨ipä¸è¦å’Œnetwork_interfaceä¸­çš„åœ°å€å†²çªï¼ˆä¸€èˆ¬æ˜¯DHCPï¼‰ï¼Œæ¯”å¦‚è¯´network_interfaceæ‰€åœ¨DHCPèŒƒå›´æ˜¯10.1.1.100-10.1.1.200ã€‚é‚£ä¹ˆæµ®åŠ¨ipå°±ä¸å»ºè®®åœ¨è¿™ä¸ªèŒƒå›´å†…,è€Œåº”è¯¥é€‰æ‹©å¦‚10.1.1.201</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kolla_internal_vip_address: &quot;10.1.0.250&quot;</span><br></pre></td></tr></table></figure><p>ç¼–è¾‘å®Œæˆï¼ŒæŒ‰ä¸‹Escï¼Œå†è¾“å…¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:wq</span><br></pre></td></tr></table></figure><p>ä¿å­˜é€€å‡º</p><h1 id="8-éƒ¨ç½²"><a href="#8-éƒ¨ç½²" class="headerlink" title="8. éƒ¨ç½²"></a>8. éƒ¨ç½²</h1><h2 id="8-1-docker-quay-ioæ¢æº"><a href="#8-1-docker-quay-ioæ¢æº" class="headerlink" title="8.1 docker quay.ioæ¢æº"></a>8.1 docker quay.ioæ¢æº</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i.bak &#x27;s/#docker_registry:/docker_registry: quay.nju.edu.cn/g&#x27; /etc/kolla/globals.yml</span><br></pre></td></tr></table></figure><h2 id="8-2-å¼•å¯¼æœåŠ¡å™¨"><a href="#8-2-å¼•å¯¼æœåŠ¡å™¨" class="headerlink" title="8.2 å¼•å¯¼æœåŠ¡å™¨"></a>8.2 å¼•å¯¼æœåŠ¡å™¨</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kolla-ansible -i ./multinode bootstrap-servers</span><br></pre></td></tr></table></figure><p>å®Œæˆåæ£€æŸ¥dockerç‰ˆæœ¬ï¼Œç¡®å®šåœ¨20.10.xxã€‚ä¸ç„¶åé¢æ‰€æœ‰ä½¿ç”¨kolla-ansibleçš„æ”¹åŠ¨éƒ½ä¼šæŠ¥é”™KernelMemory</p><p>ç¡®ä¿Server: Docker Engineç‰ˆæœ¬åœ¨20.10.xxå°±è¡Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">(venv) root@ubuntu:~# docker version</span><br><span class="line">Client: Docker Engine - Community</span><br><span class="line"> Version:           23.0.0</span><br><span class="line"> API version:       1.41 (downgraded from 1.42)</span><br><span class="line"> Go version:        go1.19.5</span><br><span class="line"> Git commit:        e92dd87</span><br><span class="line"> Built:             Wed Feb  1 17:47:51 2023</span><br><span class="line"> OS/Arch:           linux/amd64</span><br><span class="line"> Context:           default</span><br><span class="line"></span><br><span class="line">Server: Docker Engine - Community</span><br><span class="line"> Engine:</span><br><span class="line">  Version:          20.10.23</span><br><span class="line">  API version:      1.41 (minimum version 1.12)</span><br><span class="line">  Go version:       go1.18.10</span><br><span class="line">  Git commit:       6051f14</span><br><span class="line">  Built:            Thu Jan 19 17:42:57 2023</span><br><span class="line">  OS/Arch:          linux/amd64</span><br><span class="line">  Experimental:     false</span><br><span class="line"> containerd:</span><br><span class="line">  Version:          1.6.16</span><br><span class="line">  GitCommit:        31aa4358a36870b21a992d3ad2bef29e1d693bec</span><br><span class="line"> runc:</span><br><span class="line">  Version:          1.1.4</span><br><span class="line">  GitCommit:        v1.1.4-0-g5fd4c4d</span><br><span class="line"> docker-init:</span><br><span class="line">  Version:          0.19.0</span><br><span class="line">  GitCommit:        de40ad0</span><br></pre></td></tr></table></figure><h2 id="8-3-å¯¹ä¸»æœºè¿›è¡Œéƒ¨ç½²å‰æ£€æŸ¥"><a href="#8-3-å¯¹ä¸»æœºè¿›è¡Œéƒ¨ç½²å‰æ£€æŸ¥" class="headerlink" title="8.3 å¯¹ä¸»æœºè¿›è¡Œéƒ¨ç½²å‰æ£€æŸ¥"></a>8.3 å¯¹ä¸»æœºè¿›è¡Œéƒ¨ç½²å‰æ£€æŸ¥</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kolla-ansible -i ./multinode prechecks -vvv</span><br></pre></td></tr></table></figure><h2 id="8-4-æœ€åè¿›è¡Œå®é™…çš„-OpenStack-éƒ¨ç½²"><a href="#8-4-æœ€åè¿›è¡Œå®é™…çš„-OpenStack-éƒ¨ç½²" class="headerlink" title="8.4 æœ€åè¿›è¡Œå®é™…çš„ OpenStack éƒ¨ç½²"></a>8.4 æœ€åè¿›è¡Œå®é™…çš„ OpenStack éƒ¨ç½²</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kolla-ansible -i ./multinode deploy -vvv</span><br></pre></td></tr></table></figure><p>å½“æœ¬è„šæœ¬å®Œæˆæ—¶ï¼ŒOpenStack åº”è¯¥å¯åŠ¨ã€è¿è¡Œå¹¶æ­£å¸¸è¿è¡Œï¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">PLAY RECAP ******************************************************************************************************************************************************************</span><br><span class="line">control01                  : ok=308  changed=218  unreachable=0    failed=0    skipped=169  rescued=0    ignored=1   </span><br><span class="line">localhost                  : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   </span><br></pre></td></tr></table></figure><p>è®¿é—®æµ®åŠ¨ipåœ°å€å°±æ˜¯å‰å°é¡µé¢ï¼Œå¦‚æœæ˜¾ç¤ºè¯ä¹¦é”™è¯¯ï¼Œé‚£æ„æ€å°±æ˜¯å¯†ç é”™è¯¯</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936507065351693650705770.png" alt="16936507065351693650705770.png"></p><p>è´¦å·ä¸ºadmin</p><p>æŸ¥çœ‹å¯†ç ï¼š</p><blockquote><p>ä¹Ÿå¯ä»¥åœ¨post-deployå‘½ä»¤æ‰§è¡Œä¹‹åï¼Œå»è¿™ä¸ªæ–‡ä»¶é‡Œé¢çœ‹&#x2F;etc&#x2F;kolla&#x2F;admin-openrc.sh</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/kolla/passwords.yml |grep keystone_admin_password</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936507155351693650715007.png" alt="16936507155351693650715007.png"></p><h1 id="9-ä½¿ç”¨-OpenStack"><a href="#9-ä½¿ç”¨-OpenStack" class="headerlink" title="9. ä½¿ç”¨ OpenStack"></a>9. ä½¿ç”¨ OpenStack</h1><h2 id="9-1-å®‰è£…-OpenStack-CLI-å®¢æˆ·ç«¯"><a href="#9-1-å®‰è£…-OpenStack-CLI-å®¢æˆ·ç«¯" class="headerlink" title="9.1 å®‰è£… OpenStack CLI å®¢æˆ·ç«¯"></a>9.1 å®‰è£… OpenStack CLI å®¢æˆ·ç«¯</h2><p>å®˜æ–¹å‘½ä»¤ï¼ˆç½‘ç»œèƒ½é€šçš„å¯ä»¥è¯•è¯•ï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install python-openstackclient -c https://releases.openstack.org/constraints/upper/yoga</span><br></pre></td></tr></table></figure><p>å¦‚æœæ–‡ä»¶è·å–ä¸äº†å»ºè®®ï¼Œæ‰“å¼€è¿™ä¸ªé“¾æ¥ï¼Œä¹‹åä¼šè·³è½¬åˆ°<br> <a href="https://opendev.org/openstack/requirements/raw/branch/stable/yoga/upper-constraints.txt">https://opendev.org/openstack/requirements/raw/branch/stable/yoga/upper-constraints.txt</a><br> å†å»githubçš„OpenStacké•œåƒï¼Œå³ github.com&#x2F;openstack&#x2F;requirements<br> ç„¶åå…‹éš†è¿™ä¸ªä»“åº“åˆ°jihulab.com</p><p>è®°å¾—é€‰æ‹©å¯¹åº”çš„åˆ†æ”¯</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936507355351693650735288.png" alt="16936507355351693650735288.png"></p><p> ï¼Œæ¥ç€æ‰¾åˆ°å¯¹åº”çš„æ–‡ä»¶</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936507435351693650743477.png" alt="16936507435351693650743477.png"></p><p>æ‰“å¼€åŸå§‹æ–‡ä»¶ï¼Œå¾—åˆ°ä¸‹é¢é“¾æ¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://jihulab.com/james-curtis/requirements/-/raw/stable/yoga/upper-constraints.txt</span><br></pre></td></tr></table></figure><p>æ›¿æ¢å®˜æ–¹å‘½ä»¤ï¼Œå¹¶æ‰§è¡Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install python-openstackclient -c https://jihulab.com/james-curtis/requirements/-/raw/stable/yoga/upper-constraints.txt</span><br></pre></td></tr></table></figure><h2 id="9-2-OpenStack-éœ€è¦ä¸€ä¸ª-openrc-æ–‡ä»¶"><a href="#9-2-OpenStack-éœ€è¦ä¸€ä¸ª-openrc-æ–‡ä»¶" class="headerlink" title="9.2 OpenStack éœ€è¦ä¸€ä¸ª openrc æ–‡ä»¶"></a>9.2 OpenStack éœ€è¦ä¸€ä¸ª openrc æ–‡ä»¶</h2><p>å…¶ä¸­è®¾ç½®äº†ç®¡ç†å‘˜ç”¨æˆ·çš„å‡­æ®ã€‚è¦ç”Ÿæˆæ­¤æ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kolla-ansible post-deploy</span><br><span class="line">. /etc/kolla/admin-openrc.sh</span><br></pre></td></tr></table></figure><blockquote><p>.(ç‚¹)+(ç©ºæ ¼)+å¯æ‰§è¡Œæ–‡ä»¶ &#x3D;&#x3D; source+(ç©ºæ ¼)+å¯æ‰§è¡Œæ–‡ä»¶</p></blockquote><p>æ¥ä¸‹æ¥å°±å¯ä»¥ä½¿ç”¨OpenStack CLIäº†</p><hr><p>è‡³æ­¤OpenStackå®‰è£…å®Œæˆ</p><hr><p>åç»­ï¼š</p><ul><li>OpenStackä½¿ç”¨Skyline Dashboardé¢æ¿æ›¿æ¢é»˜è®¤Horizoné¢æ¿</li><li>OpenStackå¢åŠ èŠ‚ç‚¹æˆ–è€…å‡å°‘èŠ‚ç‚¹ï¼Œæ¨ªå‘æ‹“å±•èŠ‚ç‚¹</li><li>ProxmoxVE+Ceph+OpenStack HCIè¶…èåˆå¹³å°æ­å»ºï¼Œé…ç½®BcacheåŠ é€ŸCeph SDS</li></ul>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>OpenStackç”Ÿäº§ç¯å¢ƒåº”è¯¥éƒ¨ç½²å“ªäº›ç»„ä»¶ï¼ŒOpenStacké€‰å‹å®è·µ</title>
      <link href="/2023/which-components-should-be-deployed-in-openstack-production-environment-openstack-selection-practice/"/>
      <url>/2023/which-components-should-be-deployed-in-openstack-production-environment-openstack-selection-practice/</url>
      
        <content type="html"><![CDATA[<p>å®˜ç½‘è™½ç„¶æœ‰ç¤ºä¾‹é…ç½®ï¼Œä½†ä»…ä»…æ˜¯ç¤ºä¾‹è€Œå·²ï¼Œå¹¶ä¸æ˜¯æœ€ä½³å®è·µã€‚</p><p>å¯ä»¥çœ‹åˆ°æœ‰å››ç§ï¼šè®¡ç®—å…¥é—¨å¥—ä»¶ã€å®¹å™¨ä¼˜åŒ–ã€ç½‘ç»œåº”ç”¨ã€å¤§æ•°æ® </p><p>å…¶å®ä¸‹é¢çš„æœ‰äº›ç»„ä»¶ï¼Œå¾ˆå¤šéƒ¨ç½²OpenStackçš„ä¼ä¸šä¹Ÿæ²¡æœ‰ä½¿ç”¨ã€‚è€Œä¸”è®¸å¤šè¾¹ç¼˜ç»„ä»¶ä½¿ç”¨äººæ•°å¾ˆå°‘ï¼Œä½¿ç”¨é¢‘ç‡ä½ï¼Œä¹Ÿæ›´æ–°å¹¶ä¸å‹¤å¿«</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936374995351693637498609.png" alt="16936374995351693637498609.png"></p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936375115361693637510839.png" alt="16936375115361693637510839.png"></p><p>åˆ†æä¸€ä¸‹2019-2021å¹´ï¼Œå„ä¸ªç»„ä»¶åœ¨ç”Ÿäº§ç¯å¢ƒçš„ä½¿ç”¨æ¯”ä¾‹ã€‚</p><p>è¿›å…¥ç”¨æˆ·è°ƒæŸ¥</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936375205351693637520181.png" alt="16936375205351693637520181.png"></p><p>æŸ¥çœ‹Deploymentsè°ƒæŸ¥éƒ¨åˆ†ä¸­åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨çš„é¡¹ç›®</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936375325341693637531650.png" alt="16936375325341693637531650.png"></p><p>å¯ä»¥çœ‹åˆ°å¤§éƒ¨åˆ†ç»„ä»¶çš„æ¯”ä¾‹éƒ½ä½äº10%ï¼Œ2022æ•°æ®ç»è¿‡æ•´ç†å¾—åˆ°å¦‚ä¸‹å›¾</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936375445351693637544073.png" alt="16936375445351693637544073.png"></p><p>2021æ•°æ®</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936375625401693637562007.png" alt="16936375625401693637562007.png"></p><p>2020æ•°æ®</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936375745401693637574397.png" alt="16936375745401693637574397.png"></p><p>2019æ•°æ®</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936375835401693637583273.png" alt="16936375835401693637583273.png"></p><p>2018æ•°æ®</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936375915351693637591124.png" alt="16936375915351693637591124.png"></p><p>æˆ‘æš‚ä¸”è®¤ä¸º</p><ul><li>ç”Ÿäº§æ¯”ä¾‹å°äºç­‰äº10%çš„å‡ä¸è¦éƒ¨ç½²åœ¨è‡ªå·±ç”Ÿäº§ç¯å¢ƒä¸Š</li><li>ç”Ÿäº§æ¯”ä¾‹å°äºç­‰äº15%çš„å¯ä»¥ç»è¿‡è€ƒè™‘ã€æµ‹è¯•åéƒ¨ç½²åœ¨ç”Ÿäº§ç¯å¢ƒä¸Š</li><li>ç”Ÿäº§æ¯”ä¾‹å¤§äºç­‰äº20%å¯ä»¥éƒ¨ç½²åœ¨ç”Ÿäº§ç¯å¢ƒ</li></ul><p>æˆ‘è®¤ä¸ºä¸­å°ä¼ä¸šè‡³å°‘è¦éƒ¨ç½²ä»¥ä¸‹ç»„ä»¶ï¼ˆå½“ç„¶åœºæ™¯ä¼˜å…ˆï¼‰</p><p>OpenStack Core ( glance, keystone, neutron, nova, heat, horizon )ã€cinderã€octavia</p><p>æ¨èéƒ¨ç½²ä»¥ä¸‹ç»„ä»¶</p><p>designateã€swiftã€manilaã€ironic</p><p>å¯é€‰éƒ¨ç½²ä»¥ä¸‹ç»„ä»¶ï¼ˆæŒ‰éœ€ï¼‰</p><p>barbicanã€rallyã€ceilometer</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936376025391693637602214.png" alt="16936376025391693637602214.png"></p><p>éƒ¨ç½²æ“ä½œç³»ç»Ÿï¼šUbuntu Serverã€‚ä»2018ä»¥æ¥Ubuntuçš„å æ¯”å°±è¶…è¿‡äº†centos </p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936376145341693637613536.png" alt="16936376145341693637613536.png"></p>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>OpenStack Kolla-Ansibleéƒ¨ç½²Zunå®¹å™¨æœåŠ¡ï¼ŒZunå¯¹æ¥Cephå­˜å‚¨Proxmox</title>
      <link href="/2023/openstack-kolla-ansible-deploys-zun-container-service,-and-zun-connects-to-ceph-storage-proxmox/"/>
      <url>/2023/openstack-kolla-ansible-deploys-zun-container-service,-and-zun-connects-to-ceph-storage-proxmox/</url>
      
        <content type="html"><![CDATA[<p> ä¹¦æ¥ä¸Šå› <a href="https://blog.csdn.net/qq_35485875/article/details/128921256">OpenStack Kolla-Ansibleéƒ¨ç½²DesignateåŸŸåè§£ææœåŠ¡DNSæœåŠ¡DNSaas</a></p><p>æœ¬ç« æˆ‘ä»¬ç»§ç»­æ¥å®ŒæˆOpenStackç¤ºä¾‹é…ç½®ç»„ä»¶ä¹‹Container Optimizedä¸­çš„Zunå®¹å™¨æœåŠ¡ã€‚OpenStack Kolla-Ansibleéƒ¨ç½²Zunå®¹å™¨æœåŠ¡ã€‚</p><blockquote><p>Zun æ˜¯ä¸€ç§ OpenStack å®¹å™¨æœåŠ¡ã€‚å®ƒæ—¨åœ¨æä¾›ä¸€ä¸ª OpenStack APIï¼Œç”¨äºåœ¨ OpenStack ä¸Šé…ç½®å’Œç®¡ç†å®¹å™¨åŒ–å·¥ä½œè´Ÿè½½ã€‚</p></blockquote><hr><h1 id="1-è®¾ç½®kolla"><a href="#1-è®¾ç½®kolla" class="headerlink" title="1. è®¾ç½®kolla"></a>1. è®¾ç½®kolla</h1><p>åœ¨éƒ¨ç½²æœºï¼Œæ‰¾åˆ° &#x2F;etc&#x2F;kolla&#x2F;globals.yml </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">enable_zun: &quot;yes&quot;</span><br><span class="line">enable_kuryr: &quot;yes&quot;</span><br><span class="line">enable_etcd: &quot;yes&quot;</span><br><span class="line">docker_configure_for_zun: &quot;yes&quot;</span><br><span class="line">containerd_configure_for_zun: &quot;yes&quot;</span><br></pre></td></tr></table></figure><p>å¦å¤–å†æ·»åŠ ä¸€è¡Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zun_configure_for_cinder_ceph: &quot;yes&quot;</span><br></pre></td></tr></table></figure><h2 id="1-1-å¤åˆ¶cephæ–‡ä»¶"><a href="#1-1-å¤åˆ¶cephæ–‡ä»¶" class="headerlink" title="1.1 å¤åˆ¶cephæ–‡ä»¶"></a>1.1 å¤åˆ¶cephæ–‡ä»¶</h2><blockquote><p>éœ€è¦cinderå…ˆå¯¹æ¥ceph</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /etc/kolla/config/zun/zun-compute</span><br><span class="line">ln -s /etc/kolla/config/cinder/ceph.conf /etc/kolla/config/zun/zun-compute/ceph.conf</span><br><span class="line">ln -s  /etc/kolla/config/cinder/ceph.client.cinder.keyring /etc/kolla/config/zun/zun-compute/ceph.client.cinder.keyring</span><br></pre></td></tr></table></figure><h1 id="2-é‡æ–°å¼•å¯¼"><a href="#2-é‡æ–°å¼•å¯¼" class="headerlink" title="2. é‡æ–°å¼•å¯¼"></a>2. é‡æ–°å¼•å¯¼</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kolla-ansible -i ./multinode bootstrap-servers</span><br></pre></td></tr></table></figure><h2 id="2-1-å¸¸è§é—®é¢˜"><a href="#2-1-å¸¸è§é—®é¢˜" class="headerlink" title="2.1 å¸¸è§é—®é¢˜"></a>2.1 å¸¸è§é—®é¢˜</h2><h3 id="2-1-1-æ‰¾ä¸åˆ°cephè½¯ä»¶åŒ…"><a href="#2-1-1-æ‰¾ä¸åˆ°cephè½¯ä»¶åŒ…" class="headerlink" title="2.1.1 æ‰¾ä¸åˆ°cephè½¯ä»¶åŒ…"></a>2.1.1 æ‰¾ä¸åˆ°cephè½¯ä»¶åŒ…</h3><p>æŠ¥é”™å¦‚ä¸‹</p><blockquote><p>The repository â€˜<a href="https://mirror.nju.edu.cn/ceph/debian-pacific">https://mirror.nju.edu.cn/ceph/debian-pacific</a> jammy Releaseâ€™ does not have a Release file</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">TASK [openstack.kolla.baremetal : Enable ceph apt repository] ************************************************************************************************************************************************************************</span><br><span class="line">task path: /root/.ansible/collections/ansible_collections/openstack/kolla/roles/baremetal/tasks/configure-ceph-for-zun.yml:12</span><br><span class="line">Using module file /path/to/venv/lib/python3.10/site-packages/ansible/modules/apt_repository.py</span><br><span class="line">Pipelining is enabled.</span><br><span class="line">&lt;localhost&gt; ESTABLISH LOCAL CONNECTION FOR USER: root</span><br><span class="line">&lt;localhost&gt; EXEC /bin/sh -c &#x27;python &amp;&amp; sleep 0&#x27;</span><br><span class="line">fatal: [localhost]: FAILED! =&gt; &#123;</span><br><span class="line">    &quot;changed&quot;: false,</span><br><span class="line">    &quot;invocation&quot;: &#123;</span><br><span class="line">        &quot;module_args&quot;: &#123;</span><br><span class="line">            &quot;codename&quot;: null,</span><br><span class="line">            &quot;filename&quot;: &quot;ceph&quot;,</span><br><span class="line">            &quot;install_python_apt&quot;: true,</span><br><span class="line">            &quot;mode&quot;: null,</span><br><span class="line">            &quot;repo&quot;: &quot;deb https://mirror.nju.edu.cn/ceph/debian-pacific/ jammy main&quot;,</span><br><span class="line">            &quot;state&quot;: &quot;present&quot;,</span><br><span class="line">            &quot;update_cache&quot;: true,</span><br><span class="line">            &quot;update_cache_retries&quot;: 5,</span><br><span class="line">            &quot;update_cache_retry_max_delay&quot;: 12,</span><br><span class="line">            &quot;validate_certs&quot;: true</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;msg&quot;: &quot;Failed to update apt cache: E:The repository &#x27;https://mirror.nju.edu.cn/ceph/debian-pacific jammy Release&#x27; does not have a Release file., W:Updating from such a repository can&#x27;t be done securely, and is therefore disabled by default., W:See apt-secure(8) manpage for repository creation and user configuration details., W:https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/ubuntu/dists/jammy/InRelease: Key is stored in legacy trusted.gpg keyring (/etc/apt/trusted.gpg), see the DEPRECATION section in apt-key(8) for details.&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŸå› ï¼šcephå®˜æ–¹ä»“åº“æ²¡æœ‰jammyç‰ˆæœ¬çš„è½¯ä»¶åŒ…ï¼Œä½†æ˜¯Ubuntuå®˜æ–¹æœ‰ceph-commonè¿™ä¸ªè½¯ä»¶åŒ…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(venv) root@ubuntu:~# apt search ceph-common</span><br><span class="line">Sorting... Done</span><br><span class="line">Full Text Search... Done</span><br><span class="line">ceph-common/jammy-updates 17.2.0-0ubuntu0.22.04.2 amd64</span><br><span class="line">  common utilities to mount and interact with a ceph storage cluster</span><br><span class="line"></span><br><span class="line">python3-ceph-common/jammy-updates 17.2.0-0ubuntu0.22.04.2 all</span><br><span class="line">  Python 3 utility libraries for Ceph</span><br></pre></td></tr></table></figure><p>è§£å†³ï¼Œå…³é—­zunè‡ªåŠ¨é…ç½®cephï¼Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zun_configure_for_cinder_ceph = &quot;no&quot;</span><br></pre></td></tr></table></figure><p> æ‰‹åŠ¨å®‰è£…ceph-commonè½¯ä»¶åŒ…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install ceph-common -y</span><br></pre></td></tr></table></figure><h1 id="3-é‡æ–°éƒ¨ç½²"><a href="#3-é‡æ–°éƒ¨ç½²" class="headerlink" title="3. é‡æ–°éƒ¨ç½²"></a>3. é‡æ–°éƒ¨ç½²</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kolla-ansible -i ./multinode deploy</span><br></pre></td></tr></table></figure><h1 id="4-ç”Ÿæˆå‡­æ®æ–‡ä»¶"><a href="#4-ç”Ÿæˆå‡­æ®æ–‡ä»¶" class="headerlink" title="4. ç”Ÿæˆå‡­æ®æ–‡ä»¶"></a>4. ç”Ÿæˆå‡­æ®æ–‡ä»¶</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kolla-ansible -i ./multinode post-deploy</span><br></pre></td></tr></table></figure><h1 id="5-å®‰è£…zun-cliå®¢æˆ·ç«¯"><a href="#5-å®‰è£…zun-cliå®¢æˆ·ç«¯" class="headerlink" title="5. å®‰è£…zun cliå®¢æˆ·ç«¯"></a>5. å®‰è£…zun cliå®¢æˆ·ç«¯</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install python-zunclient</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>OpenStackå„ä¸ªCLI Clientå®¢æˆ·ç«¯å®‰è£…</title>
      <link href="/2023/client-installation-of-each-cli-client-of-openstack/"/>
      <url>/2023/client-installation-of-each-cli-client-of-openstack/</url>
      
        <content type="html"><![CDATA[<p>æ‰¾åˆ°å®˜æ–¹æ–‡æ¡£ä¸­çš„â€œLanguage Bindings and Python Clientsâ€å°±å¯ä»¥çœ‹åˆ°å„ä¸ªcliå®¢æˆ·ç«¯äº†ã€‚</p><p>è¿™é‡Œä¸€æ¬¡æ€§å…¨éƒ¨å®‰è£…å®Œ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">pip install python-muranoclient \</span><br><span class="line">python-ironicclient \</span><br><span class="line">python-cinderclient \</span><br><span class="line">python-brick-cinderclient-ext \</span><br><span class="line">python-senlinclient \</span><br><span class="line">python-magnumclient \</span><br><span class="line">python-zunclient \</span><br><span class="line">python-saharaclient \</span><br><span class="line">python-designateclient \</span><br><span class="line">python-keystoneclient \</span><br><span class="line">python-glanceclient \</span><br><span class="line">python-masakariclient \</span><br><span class="line">python-barbicanclient \</span><br><span class="line">python-octaviaclient \</span><br><span class="line">python-neutronclient \</span><br><span class="line">python-tackerclient \</span><br><span class="line">python-swiftclient \</span><br><span class="line">python-heatclient \</span><br><span class="line">osc-placement \</span><br><span class="line">python-cloudkittyclient \</span><br><span class="line">python-vitrageclient \</span><br><span class="line">python-manilaclient \</span><br><span class="line">aodhclient</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>OpenStack Kolla-Ansibleéƒ¨ç½²Troveæ•°æ®åº“æœåŠ¡Daasï¼Œéƒ¨ç½²Ceilometeræ•°æ®æ”¶é›†æœåŠ¡ï¼ŒGnocchiå¯¹æ¥Ceph</title>
      <link href="/2023/openstack-kolla-ansible-deploys-trove-database-service-daas-deploys-ceilometer-data-collection-service-and-gnocchi-connects-to-ceph/"/>
      <url>/2023/openstack-kolla-ansible-deploys-trove-database-service-daas-deploys-ceilometer-data-collection-service-and-gnocchi-connects-to-ceph/</url>
      
        <content type="html"><![CDATA[<p>ä¹¦æ¥ä¸Šå› <a href="https://blog.csdn.net/qq_35485875/article/details/128903360">OpenStack Kolla-Ansibleéƒ¨ç½²Swiftæ–‡ä»¶å­˜å‚¨ å¯¹æ¥Ceph RadosGWï¼ŒProxmox</a></p><p>æœ¬ç« æˆ‘ä»¬ç»§ç»­æ¥å®ŒæˆOpenStackç¤ºä¾‹é…ç½®ç»„ä»¶ä¹‹Web Applicationä¸­çš„Troveæ•°æ®åº“æœåŠ¡Daasã€eilometeræ•°æ®æ”¶é›†æœåŠ¡ã€‚OpenStack Kolla-Ansibleéƒ¨ç½²Troveæ•°æ®åº“æœåŠ¡Daasï¼Œéƒ¨ç½²Ceilometeræ•°æ®æ”¶é›†æœåŠ¡</p><blockquote><p>è¿™ä¸¤ä¸ªç”¨kolla-ansibleéƒ¨ç½²éå¸¸ç®€å•ï¼Œåªéœ€è¦å¯ç”¨å¯¹åº”é…ç½®å³å¯</p></blockquote><hr><h1 id="1-é…ç½®kolla"><a href="#1-é…ç½®kolla" class="headerlink" title="1. é…ç½®kolla"></a>1. é…ç½®kolla</h1><p>åœ¨éƒ¨ç½²æœºï¼Œæ‰¾åˆ°global.ymlï¼Œå¯ç”¨é€‰é¡¹</p><blockquote><p> å¼€å¯ceilometeræœ‰å‰ç½®æ¡ä»¶ï¼Œéœ€è¦å…ˆå¼€å¯Gnocchi</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">enable_ceilometer: &quot;yes&quot;</span><br><span class="line">enable_ceilometer_ipmi: &quot;yes&quot;</span><br><span class="line">enable_trove: &quot;yes&quot;</span><br><span class="line"></span><br><span class="line">enable_gnocchi: &quot;yes&quot;</span><br><span class="line">enable_gnocchi_statsd: &quot;yes&quot;</span><br><span class="line"></span><br><span class="line">gnocchi_backend_storage: &quot;ceph&quot;</span><br></pre></td></tr></table></figure><h1 id="2-é…ç½®ceph"><a href="#2-é…ç½®ceph" class="headerlink" title="2. é…ç½®ceph"></a>2. é…ç½®ceph</h1><h2 id="2-1-æ·»åŠ å­˜å‚¨æ± "><a href="#2-1-æ·»åŠ å­˜å‚¨æ± " class="headerlink" title="2.1 æ·»åŠ å­˜å‚¨æ± "></a>2.1 æ·»åŠ å­˜å‚¨æ± </h2><p>å›åˆ°Proxmox GUIï¼Œåˆ›å»ºä¸€ä¸ªåä¸ºgnocchiçš„å­˜å‚¨æ± ï¼Œç”¨äºä¿å­˜ä¸èµ„æºä½¿ç”¨é‡ç›¸å…³çš„è®¡é‡æ•°æ® </p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936491315381693649131336.png" alt="16936491315381693649131336.png"></p><h2 id="2-2-åˆ›å»ºèº«ä»½"><a href="#2-2-åˆ›å»ºèº«ä»½" class="headerlink" title="2.2 åˆ›å»ºèº«ä»½"></a>2.2 åˆ›å»ºèº«ä»½</h2><p>åœ¨Proxmox shell </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ceph auth get-or-create client.gnocchi mon &#x27;profile rbd&#x27; osd &#x27;profile rbd pool=gnocchi&#x27; mgr &#x27;profile rbd pool=gnocchi&#x27;</span><br></pre></td></tr></table></figure><blockquote><p>Ceph Capabilitiesèƒ½åŠ›æ–‡æ¡£ï¼š<a href="https://docs.ceph.com/en/latest/rados/operations/user-management/#authorization-capabilities">User Management â€” Ceph Documentation</a> </p></blockquote><h2 id="2-3-å¤åˆ¶keyring"><a href="#2-3-å¤åˆ¶keyring" class="headerlink" title="2.3 å¤åˆ¶keyring"></a>2.3 å¤åˆ¶keyring</h2><p> æ³¨æ„ï¼šipæ˜¯éƒ¨ç½²æœºçš„ã€‚æ–‡ä»¶å¤¹ä¸å­˜åœ¨éœ€è¦å…ˆåˆ›å»º</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ceph auth get-or-create client.gnocchi | ssh 10.10.1.80 sudo tee /etc/kolla/config/gnocchi/ceph.client.gnocchi.keyring</span><br></pre></td></tr></table></figure><h2 id="2-4-å¤åˆ¶ceph-conf"><a href="#2-4-å¤åˆ¶ceph-conf" class="headerlink" title="2.4 å¤åˆ¶ceph.conf"></a>2.4 å¤åˆ¶ceph.conf</h2><p>ç›´æ¥è½¯é“¾æ¥glanceç°æœ‰çš„ceph.conf</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s /etc/kolla/config/glance/ceph.conf /etc/kolla/config/gnocchi/ceph.conf</span><br></pre></td></tr></table></figure><h1 id="3-æ£€æŸ¥å¹¶é‡æ–°éƒ¨ç½²"><a href="#3-æ£€æŸ¥å¹¶é‡æ–°éƒ¨ç½²" class="headerlink" title="3. æ£€æŸ¥å¹¶é‡æ–°éƒ¨ç½²"></a>3. æ£€æŸ¥å¹¶é‡æ–°éƒ¨ç½²</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kolla-ansible -i ./multinode prechecks &amp;&amp; kolla-ansible -i ./multinode deploy</span><br></pre></td></tr></table></figure><h1 id="4-å®Œæˆ"><a href="#4-å®Œæˆ" class="headerlink" title="4. å®Œæˆ"></a>4. å®Œæˆ</h1><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936491485361693649147609.png" alt="16936491485361693649147609.png"></p><hr><p>è‡³æ­¤ï¼Œ OpenStackç¤ºä¾‹é…ç½®ç»„ä»¶ä¹‹Web Applicationï¼ˆCinderï¼ˆå—å­˜å‚¨ï¼‰ã€Glanceï¼ˆé•œåƒæœåŠ¡ï¼‰ã€Keystoneï¼ˆèº«ä»½è®¤è¯ï¼‰ã€Horizonï¼ˆä»ªè¡¨ç›˜ï¼‰ã€Neutronï¼ˆç½‘ç»œæœåŠ¡ï¼‰ã€Novaï¼ˆè®¡ç®—æœåŠ¡ï¼‰ã€Troveï¼ˆæ•°æ®åº“æœåŠ¡ï¼‰ã€Swiftï¼ˆå¯¹è±¡å­˜å‚¨ï¼‰ã€Ceilometerï¼ˆæ•°æ®æ”¶é›†ï¼‰ã€Heatï¼ˆç¼–æ’æœåŠ¡ï¼‰ï¼‰ä¸­çš„æ‰€æœ‰ç»„ä»¶å®‰è£…å®Œæ¯•</p><ul><li><a href="https://blog.csdn.net/qq_35485875/article/details/128868634">OpenStack Yogaå®‰è£…éƒ¨ç½²ï¼Œæ‰‹æŠŠæ‰‹ä½¿ç”¨kolla-ansibleéƒ¨ç½²OpenStack</a></li><li><a href="https://blog.csdn.net/qq_35485875/article/details/128899909">OpenStack Kolla-Ansibleéƒ¨ç½²Glanceé•œåƒæœåŠ¡å¯¹æ¥Cephï¼ŒProxmox</a></li><li><a href="https://blog.csdn.net/qq_35485875/article/details/128901696">OpenStack Kolla-Ansibleéƒ¨ç½²Cinderå—å­˜å‚¨ å¯¹æ¥Cephï¼ŒProxmox</a></li><li><a href="https://blog.csdn.net/qq_35485875/article/details/128903360">OpenStack Kolla-Ansibleéƒ¨ç½²Swiftæ–‡ä»¶å­˜å‚¨ å¯¹æ¥Ceph RadosGWï¼ŒProxmox</a></li><li>OpenStack Kolla-Ansibleéƒ¨ç½²Troveæ•°æ®åº“æœåŠ¡Daasï¼Œéƒ¨ç½²Ceilometeræ•°æ®æ”¶é›†æœåŠ¡ï¼ˆæœ¬æ–‡ï¼‰</li></ul>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>OpenStack Kolla-Ansibleéƒ¨ç½²DesignateåŸŸåè§£ææœåŠ¡DNSæœåŠ¡DNSaas</title>
      <link href="/2023/openstack-kolla-ansible-deploys-designate-domain-name-resolution-service-dns-service-dnsaas/"/>
      <url>/2023/openstack-kolla-ansible-deploys-designate-domain-name-resolution-service-dns-service-dnsaas/</url>
      
        <content type="html"><![CDATA[<p> ä¹¦æ¥ä¸Šå› <a href="https://blog.csdn.net/qq_35485875/article/details/128920630">OpenStack Kolla-Ansibleéƒ¨ç½²Manilaæ–‡ä»¶å­˜å‚¨æœåŠ¡ï¼Œå¯¹æ¥Proxmox Cephé…ç½®Manilaæ–‡ä»¶å­˜å‚¨</a></p><p>æœ¬ç« æˆ‘ä»¬ç»§ç»­æ¥å®ŒæˆOpenStackç¤ºä¾‹é…ç½®ç»„ä»¶ä¹‹Container Optimizedä¸­çš„DesignateåŸŸåè§£ææœåŠ¡ï¼ŒOpenStack Kolla-Ansibleéƒ¨ç½²DesignateåŸŸåè§£ææœåŠ¡DNSæœåŠ¡DNSaas</p><blockquote><p>Designate æ˜¯ OpenStack çš„å¤šç§Ÿæˆ· DNSaaS æœåŠ¡ã€‚å®ƒæä¾›äº†ä¸€ä¸ªå¸¦æœ‰é›†æˆ Keystone èº«ä»½éªŒè¯çš„ REST APIã€‚å®ƒå¯ä»¥é…ç½®ä¸ºæ ¹æ® Nova å’Œ Neutron æ“ä½œè‡ªåŠ¨ç”Ÿæˆè®°å½•ã€‚Designate æ”¯æŒå¤šç§ DNS æœåŠ¡å™¨ï¼ŒåŒ…æ‹¬ Bind9 å’Œ PowerDNS 4ã€‚</p></blockquote><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936487215361693648721484.png" alt="16936487215361693648721484.png"></p><h1 id="1-å¯ç”¨-Designate-æœåŠ¡"><a href="#1-å¯ç”¨-Designate-æœåŠ¡" class="headerlink" title="1. å¯ç”¨ Designate æœåŠ¡"></a>1. å¯ç”¨ Designate æœåŠ¡</h1><p>åœ¨éƒ¨ç½²æœºï¼Œæ‰¾åˆ°&#x2F;etc&#x2F;kolla&#x2F;globals.yml</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">enable_designate: &quot;yes&quot;</span><br></pre></td></tr></table></figure><h1 id="2-é…ç½®-Designate-é€‰é¡¹"><a href="#2-é…ç½®-Designate-é€‰é¡¹" class="headerlink" title="2. é…ç½® Designate é€‰é¡¹"></a>2. é…ç½® Designate é€‰é¡¹</h1><p>æŒ‡å®šæœåŠ¡å™¨çš„DNSåç§°è®°å½•ä¸»æœºåã€‚</p><blockquote><p>éšä¾¿å†™</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">designate_ns_record:</span><br><span class="line">  - &quot;ns1.dns.top&quot;</span><br></pre></td></tr></table></figure><h2 id="2-1-é‡æ–°éƒ¨ç½²"><a href="#2-1-é‡æ–°éƒ¨ç½²" class="headerlink" title="2.1 é‡æ–°éƒ¨ç½²"></a>2.1 é‡æ–°éƒ¨ç½²</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kolla-ansible -i ./multinode deploy</span><br></pre></td></tr></table></figure><h1 id="3-Neutron-å’Œ-Nova-é›†æˆ"><a href="#3-Neutron-å’Œ-Nova-é›†æˆ" class="headerlink" title="3. Neutron å’Œ Nova é›†æˆ"></a>3. Neutron å’Œ Nova é›†æˆ</h1><p>åœ¨éƒ¨ç½²æœº</p><h2 id="3-1-å®‰è£…cliå®¢æˆ·ç«¯"><a href="#3-1-å®‰è£…cliå®¢æˆ·ç«¯" class="headerlink" title="3.1 å®‰è£…cliå®¢æˆ·ç«¯"></a>3.1 å®‰è£…cliå®¢æˆ·ç«¯</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install python-designateclient</span><br></pre></td></tr></table></figure><h2 id="3-2-ä¸º-Neutron-åˆ›å»ºé»˜è®¤æŒ‡å®šåŒºåŸŸ"><a href="#3-2-ä¸º-Neutron-åˆ›å»ºé»˜è®¤æŒ‡å®šåŒºåŸŸ" class="headerlink" title="3.2 ä¸º Neutron åˆ›å»ºé»˜è®¤æŒ‡å®šåŒºåŸŸ"></a>3.2 ä¸º Neutron åˆ›å»ºé»˜è®¤æŒ‡å®šåŒºåŸŸ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">(venv) root@ttt:~# openstack zone create --email admin@sample.openstack.org sample.openstack.org.</span><br><span class="line">+----------------+--------------------------------------+</span><br><span class="line">| Field          | Value                                |</span><br><span class="line">+----------------+--------------------------------------+</span><br><span class="line">| action         | CREATE                               |</span><br><span class="line">| attributes     |                                      |</span><br><span class="line">| created_at     | 2023-02-07T09:32:58.000000           |</span><br><span class="line">| description    | None                                 |</span><br><span class="line">| email          | admin@sample.openstack.org           |</span><br><span class="line">| id             | 17a50a3f-3f3d-4051-b9c4-f96a40f613e1 |</span><br><span class="line">| masters        |                                      |</span><br><span class="line">| name           | sample.openstack.org.                |</span><br><span class="line">| pool_id        | 31e5fa58-a51b-4c05-b1e5-b684c8c88371 |</span><br><span class="line">| project_id     | e77c46231954480fb6c3e2de0f23447b     |</span><br><span class="line">| serial         | 1675762378                           |</span><br><span class="line">| status         | PENDING                              |</span><br><span class="line">| transferred_at | None                                 |</span><br><span class="line">| ttl            | 3600                                 |</span><br><span class="line">| type           | PRIMARY                              |</span><br><span class="line">| updated_at     | None                                 |</span><br><span class="line">| version        | 1                                    |</span><br><span class="line">+----------------+--------------------------------------+</span><br></pre></td></tr></table></figure><p>å¤åˆ¶è¿™ä¸ªidï¼Œ17a50a3f-3f3d-4051-b9c4-f96a40f613e1 </p><h2 id="3-3-åˆ›å»º-designate-sink-è‡ªå®šä¹‰é…ç½®æ–‡ä»¶å¤¹"><a href="#3-3-åˆ›å»º-designate-sink-è‡ªå®šä¹‰é…ç½®æ–‡ä»¶å¤¹" class="headerlink" title="3.3 åˆ›å»º designate-sink è‡ªå®šä¹‰é…ç½®æ–‡ä»¶å¤¹"></a>3.3 åˆ›å»º designate-sink è‡ªå®šä¹‰é…ç½®æ–‡ä»¶å¤¹</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /etc/kolla/config/designate/</span><br></pre></td></tr></table></figure><h2 id="3-4-é™„åŠ æŒ‡å®šåŒºåŸŸ-ID"><a href="#3-4-é™„åŠ æŒ‡å®šåŒºåŸŸ-ID" class="headerlink" title="3.4 é™„åŠ æŒ‡å®šåŒºåŸŸ ID"></a>3.4 é™„åŠ æŒ‡å®šåŒºåŸŸ ID</h2><p>åˆ›å»ºæ–‡ä»¶ &#x2F;etc&#x2F;kolla&#x2F;config&#x2F;designate&#x2F;designate-sink.conf</p><p>æ³¨æ„æ›¿æ¢id</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[handler:nova_fixed]</span><br><span class="line">zone_id = 17a50a3f-3f3d-4051-b9c4-f96a40f613e1</span><br><span class="line">[handler:neutron_floatingip]</span><br><span class="line">zone_id = 17a50a3f-3f3d-4051-b9c4-f96a40f613e1</span><br></pre></td></tr></table></figure><h2 id="3-5-é‡æ–°é…ç½®"><a href="#3-5-é‡æ–°é…ç½®" class="headerlink" title="3.5 é‡æ–°é…ç½®"></a>3.5 é‡æ–°é…ç½®</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kolla-ansible reconfigure -i ./multinode --tags designate,neutron,nova</span><br></pre></td></tr></table></figure><h1 id="4-éªŒè¯"><a href="#4-éªŒè¯" class="headerlink" title="4. éªŒè¯"></a>4. éªŒè¯</h1><h2 id="4-1-åˆ—å‡ºå¯ç”¨ç½‘ç»œ"><a href="#4-1-åˆ—å‡ºå¯ç”¨ç½‘ç»œ" class="headerlink" title="4.1 åˆ—å‡ºå¯ç”¨ç½‘ç»œ"></a>4.1 åˆ—å‡ºå¯ç”¨ç½‘ç»œ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openstack network list</span><br></pre></td></tr></table></figure><h2 id="4-2-å°†åŸŸå…³è”åˆ°ç½‘ç»œ"><a href="#4-2-å°†åŸŸå…³è”åˆ°ç½‘ç»œ" class="headerlink" title="4.2 å°†åŸŸå…³è”åˆ°ç½‘ç»œ"></a>4.2 å°†åŸŸå…³è”åˆ°ç½‘ç»œ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openstack network set &lt;NETWORK_ID&gt; --dns-domain sample.openstack.org.</span><br></pre></td></tr></table></figure><h2 id="4-3-å¯åŠ¨ä¸€ä¸ªå®ä¾‹"><a href="#4-3-å¯åŠ¨ä¸€ä¸ªå®ä¾‹" class="headerlink" title="4.3 å¯åŠ¨ä¸€ä¸ªå®ä¾‹"></a>4.3 å¯åŠ¨ä¸€ä¸ªå®ä¾‹</h2><h2 id="4-4-æŸ¥çœ‹-DNS-è®°å½•"><a href="#4-4-æŸ¥çœ‹-DNS-è®°å½•" class="headerlink" title="4.4 æŸ¥çœ‹ DNS è®°å½•"></a>4.4 æŸ¥çœ‹ DNS è®°å½•</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openstack recordset list sample.openstack.org.</span><br></pre></td></tr></table></figure><h2 id="4-5-æŸ¥è¯¢å®ä¾‹DNS"><a href="#4-5-æŸ¥è¯¢å®ä¾‹DNS" class="headerlink" title="4.5 æŸ¥è¯¢å®ä¾‹DNS"></a>4.5 æŸ¥è¯¢å®ä¾‹DNS</h2>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>OpenStack Kolla-Ansibleéƒ¨ç½²Manilaæ–‡ä»¶å­˜å‚¨æœåŠ¡ï¼Œå¯¹æ¥Proxmox Cephé…ç½®Manilaæ–‡ä»¶å­˜å‚¨</title>
      <link href="/2023/openstack-kolla-ansible-deploys-manila-file-storage-service-and-connects-to-proxmox-ceph-to-configure-manila-file-storage/"/>
      <url>/2023/openstack-kolla-ansible-deploys-manila-file-storage-service-and-connects-to-proxmox-ceph-to-configure-manila-file-storage/</url>
      
        <content type="html"><![CDATA[<p> ä¹¦æ¥ä¸Šå› <a href="https://blog.csdn.net/qq_35485875/article/details/128916441">OpenStack Kolla-Ansibleéƒ¨ç½²Octaviaè´Ÿè½½å‡è¡¡æœåŠ¡</a></p><p>æœ¬ç« æˆ‘ä»¬ç»§ç»­æ¥å®ŒæˆOpenStackç¤ºä¾‹é…ç½®ç»„ä»¶ä¹‹Container Optimizedä¸­çš„Octaviaè´Ÿè½½å‡è¡¡æœåŠ¡ï¼ŒOpenStack Kolla-Ansibleéƒ¨ç½²Octaviaè´Ÿè½½å‡è¡¡æœåŠ¡</p><blockquote><p>Manila æ˜¯ OpenStack å…±äº«æ–‡ä»¶ç³»ç»ŸæœåŠ¡ï¼Œç”¨äºå°†å…±äº«æ–‡ä»¶ç³»ç»Ÿä½œä¸ºæœåŠ¡æä¾›ã€‚é©¬å°¼æ‹‰çš„ä¸€äº›ç›®æ ‡æ˜¯&#x2F;æ‹¥æœ‰ï¼š</p><ul><li><strong>åŸºäºç»„ä»¶çš„æ¶æ„</strong>ï¼šå¿«é€Ÿæ·»åŠ æ–°è¡Œä¸º</li><li><strong>é«˜å¯ç”¨</strong>ï¼šæ‰©å±•åˆ°éå¸¸ä¸¥é‡çš„å·¥ä½œè´Ÿè½½</li><li><strong>å®¹é”™</strong>ï¼šéš”ç¦»è¿›ç¨‹é¿å…çº§è”æ•…éšœ</li><li><strong>å¯æ¢å¤</strong>ï¼šæ•…éšœåº”è¯¥æ˜“äºè¯Šæ–­ã€è°ƒè¯•å’Œçº æ­£</li><li><strong>å¼€æ”¾æ ‡å‡†</strong>ï¼šæˆä¸ºç¤¾åŒºé©±åŠ¨çš„ api çš„å‚è€ƒå®ç°</li></ul></blockquote><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936488665401693648866003.png" alt="16936488665401693648866003.png"></p><hr><h1 id="1-é…ç½®kolla"><a href="#1-é…ç½®kolla" class="headerlink" title="1. é…ç½®kolla"></a>1. é…ç½®kolla</h1><p>åœ¨éƒ¨ç½²æœºï¼Œglobals.yml</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">enable_manila: &quot;yes&quot;</span><br><span class="line">enable_manila_backend_cephfs_native: &quot;yes&quot;</span><br></pre></td></tr></table></figure><h1 id="2-æ·»åŠ cephèº«ä»½ä¿¡æ¯"><a href="#2-æ·»åŠ cephèº«ä»½ä¿¡æ¯" class="headerlink" title="2. æ·»åŠ cephèº«ä»½ä¿¡æ¯"></a>2. æ·»åŠ cephèº«ä»½ä¿¡æ¯</h1><p>åœ¨Proxmox shell</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ceph auth get-or-create client.manila mgr &#x27;allow rw&#x27; mon &#x27;allow r&#x27;</span><br></pre></td></tr></table></figure><h1 id="3-é…ç½®Ceph-å¯†é’¥ç¯"><a href="#3-é…ç½®Ceph-å¯†é’¥ç¯" class="headerlink" title="3. é…ç½®Ceph å¯†é’¥ç¯"></a>3. é…ç½®Ceph å¯†é’¥ç¯</h1><p>å°† Ceph å¯†é’¥ç¯å¤åˆ¶åˆ° &#x2F;etc&#x2F;kolla&#x2F;config&#x2F;manila&#x2F;ceph.client.manila.keyring</p><p>æ³¨æ„ipæ˜¯éƒ¨ç½²æœºçš„ï¼Œæ²¡æœ‰æ–‡ä»¶å¤¹çš„è¯å…ˆåˆ›å»º</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh 10.10.1.80 &quot;sudo mkdir -p /etc/kolla/config/manila&quot;</span><br><span class="line">ceph auth get-or-create client.manila | ssh 10.10.1.80 sudo tee /etc/kolla/config/manila/ceph.client.manila.keyring</span><br></pre></td></tr></table></figure><h1 id="4-å¤åˆ¶ceph-conf"><a href="#4-å¤åˆ¶ceph-conf" class="headerlink" title="4. å¤åˆ¶ceph.conf"></a>4. å¤åˆ¶ceph.conf</h1><p>ç”±äºglanceå·²ç»æœ‰ceph.confï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥è½¯è¿æ¥</p><blockquote><p>æ›´å¤šè¯·å‚é˜…ï¼š<a href="https://blog.csdn.net/qq_35485875/article/details/128899909">OpenStack Kolla-Ansibleéƒ¨ç½²Glanceé•œåƒæœåŠ¡å¯¹æ¥Cephï¼ŒProxmox_JamesCurtisçš„åšå®¢-CSDNåšå®¢</a> </p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s /etc/kolla/config/glance/ceph.conf /etc/kolla/config/manila/ceph.conf</span><br></pre></td></tr></table></figure><h1 id="5-é‡æ–°éƒ¨ç½²"><a href="#5-é‡æ–°éƒ¨ç½²" class="headerlink" title="5. é‡æ–°éƒ¨ç½²"></a>5. é‡æ–°éƒ¨ç½²</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kolla-ansible -i ./multinode deploy</span><br></pre></td></tr></table></figure><h1 id="6-éªŒè¯"><a href="#6-éªŒè¯" class="headerlink" title="6. éªŒè¯"></a>6. éªŒè¯</h1><h2 id="6-1-å‘½ä»¤è¡Œ"><a href="#6-1-å‘½ä»¤è¡Œ" class="headerlink" title="6.1 å‘½ä»¤è¡Œ"></a>6.1 å‘½ä»¤è¡Œ</h2><p>å®‰è£…cliå®¢æˆ·ç«¯ </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install python-manilaclient</span><br></pre></td></tr></table></figure><p>åˆ—å‡ºå…±äº«</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">manila list</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>OpenStack Kolla-Ansibleéƒ¨ç½²Octaviaè´Ÿè½½å‡è¡¡æœåŠ¡</title>
      <link href="/2023/openstack-kolla-ansible-deploys-octavia-load-balancing-service/"/>
      <url>/2023/openstack-kolla-ansible-deploys-octavia-load-balancing-service/</url>
      
        <content type="html"><![CDATA[<p> ä¹¦æ¥ä¸Šå› <a href="https://blog.csdn.net/qq_35485875/article/details/128903360">OpenStack Kolla-Ansibleéƒ¨ç½²Swiftæ–‡ä»¶å­˜å‚¨ å¯¹æ¥Ceph RadosGWï¼ŒProxmox</a></p><p>æœ¬ç« æˆ‘ä»¬ç»§ç»­æ¥å®ŒæˆOpenStackç¤ºä¾‹é…ç½®ç»„ä»¶ä¹‹Container Optimizedä¸­çš„Octaviaè´Ÿè½½å‡è¡¡æœåŠ¡ï¼ŒOpenStack Kolla-Ansibleéƒ¨ç½²Octaviaè´Ÿè½½å‡è¡¡æœåŠ¡</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936490115341693649010827.png" alt="16936490115341693649010827.png"></p><blockquote><p>Octavia ä»¥æœåŠ¡çš„å½¢å¼æä¾›è´Ÿè½½å‡è¡¡ã€‚æœ¬æŒ‡å—æ¶µç›–äº†ä¸º Amphora é©±åŠ¨ç¨‹åºé…ç½® Octaviaã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…Octavia æ–‡æ¡£ã€‚å®‰è£…æŒ‡å—æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„å‚è€ƒã€‚</p></blockquote><hr><h1 id="1-å¯ç”¨-Octavia"><a href="#1-å¯ç”¨-Octavia" class="headerlink" title="1. å¯ç”¨ Octavia"></a>1. å¯ç”¨ Octavia</h1><p>è¿›å…¥éƒ¨ç½²æœºï¼Œæ‰¾åˆ° &#x2F;etc&#x2F;kolla&#x2F;globals.ymlï¼Œå¹¶è®¾ç½®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">enable_octavia: &quot;yes&quot;</span><br></pre></td></tr></table></figure><h1 id="2-è‡ªåŠ¨ç”Ÿæˆè¯ä¹¦"><a href="#2-è‡ªåŠ¨ç”Ÿæˆè¯ä¹¦" class="headerlink" title="2. è‡ªåŠ¨ç”Ÿæˆè¯ä¹¦"></a>2. è‡ªåŠ¨ç”Ÿæˆè¯ä¹¦</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kolla-ansible octavia-certificates</span><br></pre></td></tr></table></figure><p>è¯ä¹¦å’Œå¯†é’¥å°†åœ¨ &#x2F;etc&#x2F;kolla&#x2F;config&#x2F;octavia.</p><h1 id="3-é‡æ–°éƒ¨ç½²"><a href="#3-é‡æ–°éƒ¨ç½²" class="headerlink" title="3. é‡æ–°éƒ¨ç½²"></a>3. é‡æ–°éƒ¨ç½²</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kolla-ansible -i ./multinode deploy --tags common,horizon,octavia</span><br></pre></td></tr></table></figure><h1 id="4-æ„å»ºAmphoraé•œåƒ"><a href="#4-æ„å»ºAmphoraé•œåƒ" class="headerlink" title="4. æ„å»ºAmphoraé•œåƒ"></a>4. æ„å»ºAmphoraé•œåƒ</h1><h2 id="4-1-å®‰è£…ä¾èµ–"><a href="#4-1-å®‰è£…ä¾èµ–" class="headerlink" title="4.1 å®‰è£…ä¾èµ–"></a>4.1 å®‰è£…ä¾èµ–</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt -y install debootstrap qemu-utils git kpartx</span><br></pre></td></tr></table></figure><h2 id="4-2-è·å–-Octavia-æºä»£ç "><a href="#4-2-è·å–-Octavia-æºä»£ç " class="headerlink" title="4.2 è·å– Octavia æºä»£ç "></a>4.2 è·å– Octavia æºä»£ç </h2><p>å»ºè®®ç”¨å›½å†…gitå¹³å°é•œåƒä¸€ä»½</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># å®˜ç½‘å‘½ä»¤ï¼ˆä¸å»ºè®®ï¼‰</span><br><span class="line"># git clone https://opendev.org/openstack/octavia -b stable/yoga</span><br><span class="line"># é•œåƒ</span><br><span class="line">git clone https://jihulab.com/james-curtis/octavia.git -b stable/yoga</span><br></pre></td></tr></table></figure><h2 id="4-3-å®‰è£…diskimage-builder"><a href="#4-3-å®‰è£…diskimage-builder" class="headerlink" title="4.3 å®‰è£…diskimage-builder"></a>4.3 å®‰è£…diskimage-builder</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">python3 -m venv dib-venv</span><br><span class="line">source dib-venv/bin/activate</span><br><span class="line">pip install diskimage-builder</span><br></pre></td></tr></table></figure><h2 id="4-4-é•œåƒæº"><a href="#4-4-é•œåƒæº" class="headerlink" title="4.4 é•œåƒæº"></a>4.4 é•œåƒæº</h2><blockquote><p>ä¸‹ä¸€æ­¥éœ€è¦ä¸‹è½½å¤§é‡æ–‡ä»¶ï¼Œéœ€è¦å…‹éš†å‡ ä¸ªä»“åº“ï¼Œå»ºè®®ä½¿ç”¨jihulab.comã€‚å¦‚æœç½‘å…³æœ‰é­”æ³•å¯ä»¥è·³è¿‡è¿™ä¸€æ­¥ã€‚</p></blockquote><p>ä¸‹é¢æ˜¯éœ€è¦è®¾ç½®çš„éƒ¨åˆ†ç¯å¢ƒå˜é‡ </p><ul><li>DIB_REPOLOCATION_amphora_agentï¼ˆå°†å®‰è£…åœ¨æ˜ åƒä¸­çš„ amphora-agent ä»£ç çš„ä½ç½®ï¼‰</li></ul><p>é»˜è®¤å€¼ï¼šhttps :&#x2F;&#x2F;opendev.org&#x2F;openstack&#x2F;octavia</p><ul><li>DIB_REPOLOCATION_octavia_libï¼ˆå°†å®‰è£…åœ¨æ˜ åƒä¸­çš„ octavia-lib ä»£ç çš„ä½ç½®ï¼‰</li></ul><p>é»˜è®¤å€¼ï¼šhttps :&#x2F;&#x2F;opendev.org&#x2F;openstack&#x2F;octavia-lib</p><ul><li>DIB_PYPI_MIRROR_URL</li><li>DIB_REPOLOCATION_upper_constraintsï¼ˆupper-constraints.txtä¾èµ–åŒ…ï¼‰</li></ul><p>é»˜è®¤å€¼ï¼š<a href="https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt">https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt</a></p><ul><li>DIB_DISTRIBUTION_MIRRORï¼ˆæ‰€é€‰åŸºæœ¬æ“ä½œç³»ç»Ÿçš„é•œåƒ URLï¼‰</li></ul><p>æ³¨æ„ï¼Œè¿™ä¸ªé•œåƒurlæ˜¯ç»™Ubuntuç”¨çš„ï¼Œå¿…é¡»æ˜¯httpã€‚æ¨èä½¿ç”¨ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦é•œåƒï¼ˆhttpï¼‰</p><p>å¯¼å‡ºç¯å¢ƒå˜é‡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">export DIB_REPOLOCATION_amphora_agent=https://jihulab.com/james-curtis/octavia.git</span><br><span class="line">export DIB_REPOLOCATION_octavia_lib=https://jihulab.com/james-curtis/octavia-lib.git</span><br><span class="line">export DIB_DISTRIBUTION_MIRROR=http://mirrors.ustc.edu.cn/ubuntu</span><br><span class="line">export DIB_REPOLOCATION_upper_constraints=https://jihulab.com/james-curtis/requirements/-/raw/stable/yoga/upper-constraints.txt</span><br><span class="line">export DIB_PYPI_MIRROR_URL=https://pypi.tuna.tsinghua.edu.cn/simple</span><br><span class="line">export DIB_NO_PYPI_PIP=1</span><br></pre></td></tr></table></figure><h3 id=""><a href="#" class="headerlink" title=""></a></h3><h2 id="4-5-åˆ›å»º-Amphora-é•œåƒ"><a href="#4-5-åˆ›å»º-Amphora-é•œåƒ" class="headerlink" title="4.5 åˆ›å»º Amphora é•œåƒ"></a>4.5 åˆ›å»º Amphora é•œåƒ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd octavia/diskimage-create</span><br><span class="line">./diskimage-create.sh</span><br></pre></td></tr></table></figure><p>æ„å»ºæˆåŠŸè¾“å‡ºå¦‚ä¸‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">2023-02-07 07:17:59.379 | Converting image using qemu-img convert</span><br><span class="line">2023-02-07 07:18:48.341 | Image file /root/octavia/diskimage-create/amphora-x64-haproxy.qcow2 created...</span><br><span class="line">2023-02-07 07:18:48.486 | Build completed successfully</span><br><span class="line">Successfully built the amphora using the stable/zed amphora-agent.</span><br><span class="line">Amphora image size: /root/octavia/diskimage-create/amphora-x64-haproxy.qcow2 380361216</span><br></pre></td></tr></table></figure><p> å®Œæˆåæ‰§è¡Œï¼Œæ³¨æ„åˆ‡æ¢pythonè™šæ‹Ÿç¯å¢ƒ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kolla-ansible post-deploy</span><br></pre></td></tr></table></figure><h3 id="4-5-1-å¸¸è§é—®é¢˜"><a href="#4-5-1-å¸¸è§é—®é¢˜" class="headerlink" title="4.5.1 å¸¸è§é—®é¢˜"></a>4.5.1 å¸¸è§é—®é¢˜</h3><p>æœ‰å¯èƒ½ä¼šç¢°åˆ°ä¾èµ–ç‰ˆæœ¬å†²çªï¼Œæ•´ç†æ—¥å¿—ä¹‹åå¦‚ä¸‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">2023-02-07 05:26:03.331 | ERROR: Cannot install octavia because these package versions have conflicting dependencies.</span><br><span class="line">2023-02-07 05:26:03.332 | </span><br><span class="line">2023-02-07 05:26:03.332 | The conflict is caused by:</span><br><span class="line">2023-02-07 05:26:03.332 |     keystonemiddleware 9.4.0 depends on oslo.cache&gt;=1.26.0</span><br><span class="line">2023-02-07 05:26:03.332 |     The user requested (constraint) oslo-cache===2.10.1</span><br><span class="line">2023-02-07 05:26:03.332 | </span><br><span class="line">2023-02-07 05:26:03.332 | To fix this you could try to:</span><br><span class="line">2023-02-07 05:26:03.332 | 1. loosen the range of package versions you&#x27;ve specified</span><br><span class="line">2023-02-07 05:26:03.332 | 2. remove package versions to allow pip attempt to solve the dependency conflict</span><br><span class="line">2023-02-07 05:26:03.332 | </span><br><span class="line">2023-02-07 05:26:03.332 | ERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/topics/dependency-resolution/#dealing-with-dependency-conflicts</span><br><span class="line">2023-02-07 05:26:08.775 | Unmount /tmp/dib_build.vAReHkDS/mnt/var/cache/apt/archives</span><br></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">2023-02-07 06:58:49.465 |      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 119.9/119.9 kB 341.3 kB/s eta 0:00:00</span><br><span class="line">2023-02-07 06:58:52.487 | ERROR: Cannot install octavia==11.0.1.dev16 because these package versions have conflicting dependencies.</span><br><span class="line">2023-02-07 06:58:52.488 | </span><br><span class="line">2023-02-07 06:58:52.488 | The conflict is caused by:</span><br><span class="line">2023-02-07 06:58:52.488 |     octavia 11.0.1.dev16 depends on octavia-lib&gt;=3.1.0</span><br><span class="line">2023-02-07 06:58:52.488 |     The user requested (constraint) octavia-lib===2.5.0</span><br><span class="line">2023-02-07 06:58:52.488 | </span><br><span class="line">2023-02-07 06:58:52.488 | To fix this you could try to:</span><br><span class="line">2023-02-07 06:58:52.488 | 1. loosen the range of package versions you&#x27;ve specified</span><br><span class="line">2023-02-07 06:58:52.488 | 2. remove package versions to allow pip attempt to solve the dependency conflict</span><br><span class="line">2023-02-07 06:58:52.488 | </span><br><span class="line">2023-02-07 06:58:52.488 | ERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/topics/dependency-resolution/#dealing-with-dependency-conflicts</span><br><span class="line">2023-02-07 06:59:02.344 | Unmount /tmp/dib_build.AUyWgqMg/mnt/var/cache/apt/archives</span><br></pre></td></tr></table></figure><p> è¿™ä¸ªä¹‹åéœ€è¦æ‰‹åŠ¨ç¼–è¾‘ <strong>upper-constraints.txt</strong> </p><p>å…ˆæŠŠæ–‡ä»¶ä¸‹è½½è¿‡æ¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://jihulab.com/james-curtis/requirements/-/raw/stable/yoga/upper-constraints.txt -O /tmp/upper-constraints.txt</span><br></pre></td></tr></table></figure><p>ç„¶åç¼–è¾‘ <strong>upper-constraints.txt</strong></p><p>æ³¨é‡Šå†²çªçš„è½¯ä»¶åŒ…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># oslo.cache===2.10.1</span><br><span class="line"># octavia-lib===2.5.0</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ç¯å¢ƒå˜é‡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export DIB_REPOLOCATION_upper_constraints=file:///tmp/upper-constraints.txt</span><br></pre></td></tr></table></figure><p> é‡æ–°æ„å»ºé•œåƒ </p><h1 id="5-æ¿€æ´»octaviaæˆæƒ"><a href="#5-æ¿€æ´»octaviaæˆæƒ" class="headerlink" title="5. æ¿€æ´»octaviaæˆæƒ"></a>5. æ¿€æ´»octaviaæˆæƒ</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">. /etc/kolla/octavia-openrc.sh</span><br></pre></td></tr></table></figure><h1 id="6-åœ¨-Glance-ä¸­æ³¨å†Œé•œåƒ"><a href="#6-åœ¨-Glance-ä¸­æ³¨å†Œé•œåƒ" class="headerlink" title="6. åœ¨ Glance ä¸­æ³¨å†Œé•œåƒ"></a>6. åœ¨ Glance ä¸­æ³¨å†Œé•œåƒ</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openstack image create amphora-x64-haproxy.qcow2 --container-format bare --disk-format qcow2 --private --tag amphora --file /root/octavia/diskimage-create/amphora-x64-haproxy.qcow2 --property hw_architecture=&#x27;x86_64&#x27; --property hw_rng_model=virtio</span><br></pre></td></tr></table></figure><h1 id="7-éªŒè¯ç»“æœ"><a href="#7-éªŒè¯ç»“æœ" class="headerlink" title="7. éªŒè¯ç»“æœ"></a>7. éªŒè¯ç»“æœ</h1><h2 id="7-1-éªŒè¯å‘½ä»¤è¡Œ"><a href="#7-1-éªŒè¯å‘½ä»¤è¡Œ" class="headerlink" title="7.1 éªŒè¯å‘½ä»¤è¡Œ"></a>7.1 éªŒè¯å‘½ä»¤è¡Œ</h2><p>åˆ—å‡ºæ‰€æœ‰è´Ÿè½½å‡è¡¡å™¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openstack loadbalancer list</span><br></pre></td></tr></table></figure><p>å¦‚æœå‡ºç°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openstack: &#x27;loadbalancer&#x27; is not an openstack command. See &#x27;openstack --help&#x27;.</span><br></pre></td></tr></table></figure><p>å®‰è£…python-octaviaclient</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install python-octaviaclient</span><br></pre></td></tr></table></figure><p>æ²¡æŠ¥é”™å°±å¯ä»¥äº†</p>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>OpenStack Kolla-Ansibleéƒ¨ç½²Swiftæ–‡ä»¶å­˜å‚¨ å¯¹æ¥Ceph RadosGWï¼ŒProxmox</title>
      <link href="/2023/openstack-kolla-ansible-deploys-swift-file-storage-and-interfaces-with-ceph-radosgw-and-proxmox/"/>
      <url>/2023/openstack-kolla-ansible-deploys-swift-file-storage-and-interfaces-with-ceph-radosgw-and-proxmox/</url>
      
        <content type="html"><![CDATA[<p> ä¹¦æ¥ä¸Šå› <a href="https://blog.csdn.net/qq_35485875/article/details/128901696">OpenStack Kolla-Ansibleéƒ¨ç½²Cinderå—å­˜å‚¨ å¯¹æ¥Cephï¼ŒProxmox</a></p><p>æœ¬ç« æˆ‘ä»¬ç»§ç»­æ¥å®ŒæˆOpenStackç¤ºä¾‹é…ç½®ç»„ä»¶ä¹‹Web Applicationä¸­çš„Swiftæ–‡ä»¶å­˜å‚¨ï¼ŒOpenStackä¸­çš„Swiftæ–‡ä»¶å­˜å‚¨å¯¹æ¥Ceph RadosGW</p><blockquote><p>å®é™…ä¸Šåº”è¯¥æ˜¯ceph RadosGWå¯¹æ¥OpenStack Keystoneèº«ä»½è®¤è¯</p><p>å› ä¸ºRadosGWæä¾›äº†å’ŒSwiftå…¼å®¹çš„APIï¼Œæ‰€æœ‰äºŒè€…apiæ˜¯ä¸€æ ·çš„ï¼Œç›´æ¥åšä¸ªè´Ÿè½½å‡è¡¡åˆ°RadosGWå°±æˆäº†ä¸€ä¸ªswiftæ¥å£ </p></blockquote><hr><h1 id="1-å‰è¨€"><a href="#1-å‰è¨€" class="headerlink" title="1. å‰è¨€"></a>1. å‰è¨€</h1><p>cephå®˜æ–¹latestæ–‡æ¡£å·²ç»å¾ˆè½åäº†ï¼Œæå¾—æ•´äº†å¥½ä¹…æ‰å¼„æ˜ç™½ã€‚è¦çŸ¥é“ceph.confé…ç½®ä¸­çš„é”®å¦‚æœæ˜¯ç©ºæ ¼å½¢å¼çš„ï¼ˆå½¢å¦‚â€œrgw keystone api versionâ€ï¼‰ï¼Œè¿™ç§æ˜¯ceph octopusç‰ˆæœ¬æœ€åä¸€æ¬¡å‡ºç°ï¼Œåœ¨pacificç‰ˆæœ¬æ”¹ä¸ºä¸‹åˆ’çº¿å½¢å¼ã€‚</p><p>å¹¶ä¸”ç½‘ä¸Šæ•™ç¨‹åŒ…æ‹¬å®˜ç½‘æ•™ç¨‹é‡ç‚¹éƒ½åœ¨ä»¥Keystone V2ç‰ˆæœ¬apiä¸ºä¾‹è¯´æ˜ï¼Œæ²¡æœ‰V3æ¥å£ç‰ˆæœ¬çš„ä¾‹å­ã€‚</p><blockquote><p>æ±‚è¯ï¼š</p><p>octopusç‰ˆæœ¬çš„ceph.confä¾‹å­ï¼š<a href="https://docs.ceph.com/en/octopus/rados/configuration/common/#example-ceph-conf">Common Settings â€” Ceph Documentation</a></p><p>pacificç‰ˆæœ¬çš„ceph.confä¾‹å­ï¼š<a href="https://docs.ceph.com/en/pacific/rados/configuration/common/#example-ceph-conf">Common Settings â€” Ceph Documentation</a></p><p>å‘è¡Œç´¢å¼•ï¼š<a href="https://docs.ceph.com/en/latest/releases/">Ceph Releases (index) â€” Ceph Documentation</a></p></blockquote><p> <strong>é‡ç‚¹ï¼š</strong></p><p>å¦‚æœä½¿ç”¨kolla-ansibleéƒ¨ç½²RadosGWå…¼å®¹çš„Swiftï¼Œä¸è¦å»æ‰¾é‚£ç§â€œæ‰‹åŠ¨éƒ¨ç½²RadosGWå¯¹æ¥Swiftâ€çš„æ•™ç¨‹ï¼Œå› ä¸ºkolla-ansibleå·²ç»ä¸ºä½ å‡†å¤‡å¥½äº†OpenStackè¿™è¾¹çš„ä¸€åˆ‡é…ç½®ã€‚æ‰€æœ‰æœ‰å…³OpenStackè¿™è¾¹çš„æ“ä½œéƒ½ä¸è¦åšï¼ï¼ï¼</p><blockquote><p>RadosGWå…¼å®¹çš„Swiftï¼šå®é™…ä¸Šæ²¡æœ‰éƒ¨ç½²Swiftï¼Œå¯ä»¥ç†è§£ä¸ºæŠŠåŸæœ¬Swiftçš„apié‡å®šå‘åˆ°äº†RadosGWã€‚è€ŒRadosGWæœ‰ç€å’ŒSwiftä¸€æ ·çš„apiã€‚</p></blockquote><h1 id="2-Cephé…ç½®"><a href="#2-Cephé…ç½®" class="headerlink" title="2. Cephé…ç½®"></a>2. Cephé…ç½®</h1><p>RadosGWå®‰è£…é…ç½®è¿™é‡Œä¸å†èµ˜è¿°ï¼Œè¯·å‚é˜…ï¼š<a href="https://blog.csdn.net/qq_35485875/article/details/128906309">ProxmoxVEé…ç½®Ceph Object Gatewayå¯¹è±¡ç½‘å…³ï¼Œå¼€å¯Ceph Object Storageå¯¹è±¡å­˜å‚¨_JamesCurtisçš„åšå®¢-CSDNåšå®¢</a></p><h2 id="2-1-æ£€æŸ¥Ceph-conf"><a href="#2-1-æ£€æŸ¥Ceph-conf" class="headerlink" title="2.1 æ£€æŸ¥Ceph.conf"></a>2.1 æ£€æŸ¥Ceph.conf</h2><p>åšå®Œä¹‹åä½ çš„ceph.confåº”è¯¥å¤§è‡´å¦‚ä¸‹ï¼š</p><blockquote><p>å»ºè®®å–æ¶ˆæ‰€æœ‰ç¼©è¿›</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">[global]</span><br><span class="line">auth_client_required = cephx</span><br><span class="line">auth_cluster_required = cephx</span><br><span class="line">auth_service_required = cephx</span><br><span class="line">cluster_network = 10.10.11.1/24</span><br><span class="line">fsid = 59063611-9b12-4807-bf9d-ecfa60480d94</span><br><span class="line">mon_allow_pool_delete = true</span><br><span class="line">mon_host = 10.10.1.51</span><br><span class="line">ms_bind_ipv4 = true</span><br><span class="line">ms_bind_ipv6 = false</span><br><span class="line">osd_pool_default_min_size = 2</span><br><span class="line">osd_pool_default_size = 2</span><br><span class="line">public_network = 10.10.1.51/24</span><br><span class="line"></span><br><span class="line">[client]</span><br><span class="line">keyring = /etc/pve/priv/$cluster.$name.keyring</span><br><span class="line"></span><br><span class="line">[client.radosgw.pve1]</span><br><span class="line">host = pve1</span><br><span class="line">keyring = /etc/pve/priv/ceph.client.radosgw.keyring</span><br><span class="line"></span><br><span class="line">[mds]</span><br><span class="line">keyring = /var/lib/ceph/mds/ceph-$id/keyring</span><br><span class="line"></span><br><span class="line">[mds.pve1]</span><br><span class="line">host = pve1</span><br><span class="line">mds standby for name = pve</span><br><span class="line"></span><br><span class="line">[mon.pve1]</span><br><span class="line">public_addr = 10.10.1.51</span><br></pre></td></tr></table></figure><h2 id="2-2-å¯¹æ¥Keystone"><a href="#2-2-å¯¹æ¥Keystone" class="headerlink" title="2.2 å¯¹æ¥Keystone"></a>2.2 å¯¹æ¥Keystone</h2><p>è¿™é‡Œéœ€è¦å…ˆå®‰è£…ä¸€ä¸ªcli clientå·¥å…·ã€‚è¿›å…¥éƒ¨ç½²æœºï¼Œæ¿€æ´»pythonè™šæ‹Ÿç¯å¢ƒï¼Œsource adminæˆæƒæ–‡ä»¶ï¼Œå®‰è£…</p><blockquote><p>è‡³äºæ–‡æ¡£æ€ä¹ˆæ‰¾ï¼Œå…¥å£åœ¨å“ªé‡Œï¼Œè¯·å‚é˜…ï¼š<a href="https://blog.csdn.net/qq_35485875/article/details/128915192">https://blog.csdn.net/qq_35485875/article/details/128915192</a></p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># æ¿€æ´»pythonç¯å¢ƒ</span><br><span class="line">root@ttt:~# . /path/to/venv/bin/activate</span><br><span class="line"># æ¿€æ´»adminæˆæƒæ–‡ä»¶ï¼ˆåé¢ç”¨åˆ°ï¼‰</span><br><span class="line">(venv) root@ttt:~# . /etc/kolla/admin-openrc.sh</span><br><span class="line"># å®‰è£…å®¢æˆ·ç«¯</span><br><span class="line">(venv) root@ttt:~# pip install python-swiftclient</span><br></pre></td></tr></table></figure><p>éªŒè¯å®‰è£…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(venv) root@ttt:~# swift --help</span><br></pre></td></tr></table></figure><h1 id="2-3-è·å–Auth-Token"><a href="#2-3-è·å–Auth-Token" class="headerlink" title="2.3 è·å–Auth Token"></a>2.3 è·å–Auth Token</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(venv) root@ttt:~# swift auth</span><br><span class="line">export OS_STORAGE_URL=http://10.10.1.250:6780/swift/v1</span><br><span class="line">export OS_AUTH_TOKEN=gAAAAABj4cEubXFK1PLGUicIMKMft6TiWitNcGhzHJxS2CWbetUEYIHbCJMx3v_iLQ142ZgjQ9KvtwLwoDrP-_RctuP45O9FTVr1dAVWrEKZngXpxX2uRVSELz7FP27vmZqtN0</span><br></pre></td></tr></table></figure><blockquote><p>åˆšå…´è¶£çš„å¯ä»¥å†è¯•è¯•ä¸‹é¢ä¸¤ä¸ªå‘½ä»¤ï¼š</p><p>swift auth -v</p><p>swift auth â€“debug </p></blockquote><p>æŠŠOS_AUTH_TOKENè®°å½•ä¸‹æ¥ï¼Œå›åˆ°Proxmox shell</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;gAAAAABj4cID5BqJhJcRPfAJniQ-eqt66praFVJ2ZwSGUMd6QgdUplNUJlih-AGOzYw5t5HOWHiCsTGsMfU2uJpBwbXsC_2Y8hpqSwqqICth8xfLtnivPcKaT__K9CNASb92REHMECmQI&quot; &gt; /etc/ceph/keystone_admin_token</span><br></pre></td></tr></table></figure><h2 id="2-4-é…ç½®RadosGW"><a href="#2-4-é…ç½®RadosGW" class="headerlink" title="2.4 é…ç½®RadosGW"></a>2.4 é…ç½®RadosGW</h2><p>åœ¨ProxmoxèŠ‚ç‚¹ä¸­ã€‚æ‰“å¼€ceph.confï¼Œåœ¨[client.radosgw.pve1]èŠ‚ç‚¹ä¸‹æ–°å¢ï¼š</p><blockquote><p>æ–‡æ¡£æ¨èï¼š</p><ol><li>kolla-ansibleå®˜ç½‘(æ¯”è¾ƒéš¾æ‡‚)ï¼š<a href="https://docs.openstack.org/kolla-ansible/yoga/reference/storage/external-ceph-guide.html#radosgw">External Ceph â€” kolla-ansible 14.7.1.dev18 documentation</a> </li><li>Cephå®˜ç½‘ï¼š<a href="https://docs.ceph.com/en/quincy/radosgw/keystone/">Integrating with OpenStack Keystone â€” Ceph Documentation</a></li></ol><p><a href="https://docs.ceph.com/en/quincy/man/8/radosgw/">radosgw â€“ rados REST gateway â€” Ceph Documentation</a></p><p><a href="https://docs.ceph.com/en/quincy/radosgw/config-ref/">Ceph Object Gateway Config Reference â€” Ceph Documentation</a></p><ol start="3"><li>SUSEå®˜ç½‘ï¼ˆä¸­æ–‡ï¼‰ï¼š<a href="https://documentation.suse.com/zh-cn/ses/7/html/ses-all/cha-ceph-gw.html#ogw-keystone">https://documentation.suse.com/zh-cn/ses/7/html/ses-all/cha-ceph-gw.html#ogw-keystone</a></li></ol><p><a href="https://documentation.suse.com/zh-cn/ses/7/html/ses-all/cha-ceph-configuration.html#config-ogw">https://documentation.suse.com/zh-cn/ses/7/html/ses-all/cha-ceph-configuration.html#config-ogw</a></p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># common</span><br><span class="line">rgw_keystone_url = 10.10.1.250:5000</span><br><span class="line">rgw_keystone_api_version = 3</span><br><span class="line"># rgw_keystone_verify_ssl = false</span><br><span class="line"></span><br><span class="line"># v3</span><br><span class="line">rgw_keystone_admin_domain = Default</span><br><span class="line">rgw_keystone_admin_project = admin</span><br><span class="line">rgw_keystone_admin_token = gAAAAABj4bqH7oqC7X45z41YGsrBR5U5RfMbHylk6nlk2ZquW58h0</span><br><span class="line"></span><br><span class="line"># other</span><br><span class="line"># rgw_s3_auth_use_keystone = true</span><br><span class="line"># rgw_swift_account_in_url = true</span><br></pre></td></tr></table></figure><p>å®Œæˆåï¼Œæ•´ä¸ªceph.confçœ‹èµ·æ¥å¦‚ä¸‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">[global]</span><br><span class="line">auth_client_required = cephx</span><br><span class="line">auth_cluster_required = cephx</span><br><span class="line">auth_service_required = cephx</span><br><span class="line">cluster_network = 10.10.11.1/24</span><br><span class="line">fsid = 59063611-9b12-4807-bf9d-ecfa60480d94</span><br><span class="line">mon_allow_pool_delete = true</span><br><span class="line">mon_host = 10.10.1.51</span><br><span class="line">ms_bind_ipv4 = true</span><br><span class="line">ms_bind_ipv6 = false</span><br><span class="line">osd_pool_default_min_size = 2</span><br><span class="line">osd_pool_default_size = 2</span><br><span class="line">public_network = 10.10.1.51/24</span><br><span class="line"></span><br><span class="line">[client]</span><br><span class="line">keyring = /etc/pve/priv/$cluster.$name.keyring</span><br><span class="line"></span><br><span class="line">[client.radosgw.pve1]</span><br><span class="line">host = pve1</span><br><span class="line">keyring = /etc/pve/priv/ceph.client.radosgw.keyring</span><br><span class="line"></span><br><span class="line"># common</span><br><span class="line">rgw_keystone_url = 10.10.1.250:5000</span><br><span class="line">rgw_keystone_api_version = 3</span><br><span class="line"># rgw_keystone_verify_ssl = false</span><br><span class="line"></span><br><span class="line"># v3</span><br><span class="line">rgw_keystone_admin_domain = Default</span><br><span class="line">rgw_keystone_admin_project = admin</span><br><span class="line">rgw_keystone_admin_token = gAAAAABj4bqH7oqC7X45z41YGs</span><br><span class="line"></span><br><span class="line"># other</span><br><span class="line"># rgw_s3_auth_use_keystone = true</span><br><span class="line"># rgw_swift_account_in_url = true</span><br><span class="line"></span><br><span class="line">[mds]</span><br><span class="line">keyring = /var/lib/ceph/mds/ceph-$id/keyring</span><br><span class="line"></span><br><span class="line">[mds.pve1]</span><br><span class="line">host = pve1</span><br><span class="line">mds standby for name = pve</span><br><span class="line"></span><br><span class="line">[mon.pve1]</span><br><span class="line">public_addr = 10.10.1.51</span><br></pre></td></tr></table></figure><p> ä¸Šä¼ ä¿å­˜ï¼Œé‡å¯RadosGW</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@pve1:~# systemctl restart radosgw</span><br></pre></td></tr></table></figure><h1 id="3-kollaé…ç½®"><a href="#3-kollaé…ç½®" class="headerlink" title="3. kollaé…ç½®"></a>3. kollaé…ç½®</h1><h2 id="3-1-å¯ç”¨-Ceph-RadosGW-é›†æˆ"><a href="#3-1-å¯ç”¨-Ceph-RadosGW-é›†æˆ" class="headerlink" title="3.1 å¯ç”¨ Ceph RadosGW é›†æˆ"></a>3.1 å¯ç”¨ Ceph RadosGW é›†æˆ</h2><p>åœ¨éƒ¨ç½²æœºï¼Œglobal.yml</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">enable_ceph_rgw: true</span><br></pre></td></tr></table></figure><h2 id="3-2-æ·»åŠ rgwä¸»æœº"><a href="#3-2-æ·»åŠ rgwä¸»æœº" class="headerlink" title="3.2 æ·»åŠ rgwä¸»æœº"></a>3.2 æ·»åŠ rgwä¸»æœº</h2><p>åœ¨enable_ceph_rgw: â€œyesâ€ä¸‹é¢ä¸€è¡Œï¼Œå¢åŠ </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ceph_rgw_hosts:</span><br><span class="line">  - host: rgw01</span><br><span class="line">    ip: 10.10.1.51</span><br><span class="line">    port: 7480</span><br></pre></td></tr></table></figure><p>hostæ˜¯åå­—éšæ„ï¼Œä¸éœ€è¦è§£ædnsï¼Œä½†æ˜¯ä¸€å®šè¦å¡«å†™ip</p><p>ç«¯å£7480ï¼Œæ˜¯RadosGWé»˜è®¤ç«¯å£ï¼Œå¯ä»¥åœ¨RadosGWæ–‡æ¡£ä¸­æŸ¥è¯¢åˆ°rgw_frontendså±æ€§</p><h1 id="4-é‡æ–°éƒ¨ç½²"><a href="#4-é‡æ–°éƒ¨ç½²" class="headerlink" title="4. é‡æ–°éƒ¨ç½²"></a>4. é‡æ–°éƒ¨ç½²</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kolla-ansible -i ./multinode deploy</span><br></pre></td></tr></table></figure><h1 id="5-éªŒè¯"><a href="#5-éªŒè¯" class="headerlink" title="5. éªŒè¯"></a>5. éªŒè¯</h1><h2 id="5-1-éªŒè¯è´Ÿè½½å‡è¡¡"><a href="#5-1-éªŒè¯è´Ÿè½½å‡è¡¡" class="headerlink" title="5.1 éªŒè¯è´Ÿè½½å‡è¡¡"></a>5.1 éªŒè¯è´Ÿè½½å‡è¡¡</h2><blockquote><p>haproxyæŠ¥å‘ŠæŸ¥çœ‹ï¼š<a href="https://blog.csdn.net/qq_35485875/article/details/128915789">https://blog.csdn.net/qq_35485875/article/details/128915789</a> </p></blockquote><p>radosgw_backéƒ½æ˜¯ç»¿è‰²å°±è¡Œ</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936493045351693649304108.png" alt="16936493045351693649304108.png"></p><h1 id="5-2-éªŒè¯å®¢æˆ·ç«¯"><a href="#5-2-éªŒè¯å®¢æˆ·ç«¯" class="headerlink" title="5.2 éªŒè¯å®¢æˆ·ç«¯"></a>5.2 éªŒè¯å®¢æˆ·ç«¯</h1><p>å›åˆ°éƒ¨ç½²æœºï¼Œè¾“å…¥ swift stat</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">(venv) root@ttt:~# swift stat</span><br><span class="line">                                    Account: v1</span><br><span class="line">                                 Containers: 0</span><br><span class="line">                                    Objects: 0</span><br><span class="line">                                      Bytes: 0</span><br><span class="line">   Containers in policy &quot;default-placement&quot;: 0</span><br><span class="line">      Objects in policy &quot;default-placement&quot;: 0</span><br><span class="line">        Bytes in policy &quot;default-placement&quot;: 0</span><br><span class="line">Objects in policy &quot;default-placement-bytes&quot;: 0</span><br><span class="line">  Bytes in policy &quot;default-placement-bytes&quot;: 0</span><br><span class="line">                                X-Timestamp: 1675740884.45155</span><br><span class="line">                X-Account-Bytes-Used-Actual: 0</span><br><span class="line">                                 X-Trans-Id: tx000008f5efad48bd19d87-0063e1c6d4-96a42-default</span><br><span class="line">                     X-Openstack-Request-Id: tx000008f5efad48bd19d87-0063e1c6d4-96a42-default</span><br><span class="line">                              Accept-Ranges: bytes</span><br><span class="line">                               Content-Type: text/plain; charset=utf-8</span><br><span class="line">(venv) root@ttt:~# </span><br></pre></td></tr></table></figure><h1 id="5-3-éªŒè¯Horizon"><a href="#5-3-éªŒè¯Horizon" class="headerlink" title="5.3 éªŒè¯Horizon"></a>5.3 éªŒè¯Horizon</h1><p>é‡æ–°ç™»å½•Horizonï¼Œé¡¹ç›®-&gt;å¯¹è±¡å­˜å‚¨-&gt;å®¹å™¨</p><p>éšä¾¿åˆ›å»ºä¸€ä¸ª</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936493265351693649325696.png" alt="16936493265351693649325696.png"></p><p>åˆ›å»ºæˆåŠŸ</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936493485401693649348161.png" alt="16936493485401693649348161.png"></p><p>ä¸Šä¼ æ–‡ä»¶ï¼Œå†ä¸‹è½½ï¼Œæ²¡é—®é¢˜</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936493665351693649365784.png" alt="16936493665351693649365784.png"></p>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>OpenStack haproxy Statistics Reportç»Ÿè®¡æŠ¥å‘Šæ€ä¹ˆåœ¨å“ªé‡Œï¼Œhaproxy Dashboardæ€ä¹ˆæ‰“å¼€</title>
      <link href="/2023/where-is-the-openstack-haproxy-statistics-report-statistics-report-and-how-to-open-the-haproxy-dashboard/"/>
      <url>/2023/where-is-the-openstack-haproxy-statistics-report-statistics-report-and-how-to-open-the-haproxy-dashboard/</url>
      
        <content type="html"><![CDATA[<p>haproxystatsæ˜¯HAProxyè´Ÿè½½å‡è¡¡å™¨çš„ç»Ÿè®¡æ•°æ®æ”¶é›†å™¨ï¼Œå®ƒå¤„ç†å„ç§ç»Ÿè®¡æ•°æ®å¹¶å°†å®ƒä»¬æ¨é€åˆ°å›¾å½¢ç³»ç»Ÿï¼ˆGraphiteï¼‰ã€‚å®ƒæ—¨åœ¨æ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š</p><ol><li>å¿«é€Ÿä¸”å¯é…ç½®çš„ HAProxy ç»Ÿè®¡æ•°æ®å¤„ç†</li><li>HAProxy åœ¨å¤šè¿›ç¨‹è¿è¡Œæ—¶æ‰§è¡Œèšåˆï¼ˆnbproc &gt; 1ï¼‰</li><li>ä»¥éå¸¸ä½çš„é—´éš”ï¼ˆ10 ç§’ï¼‰æå–ç»Ÿè®¡ä¿¡æ¯</li><li>çµæ´»åœ°å°†ç»Ÿè®¡ä¿¡æ¯åˆ†å‘åˆ°ä¸åŒçš„ç³»ç»Ÿï¼ˆGraphiteã€kafkaï¼‰</li></ol><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936495295341693649528613.png" alt="16936495295341693649528613.png"></p><hr><p>åœ¨ä»»æ„è®¡ç®—èŠ‚ç‚¹ä¸Šï¼Œæ‰¾åˆ°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/kolla/haproxy/haproxy.cfg</span><br></pre></td></tr></table></figure><p>å°±å¯ä»¥çœ‹åˆ°è®¾ç½®äº†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">global</span><br><span class="line">    chroot /var/lib/haproxy</span><br><span class="line">    user haproxy</span><br><span class="line">    group haproxy</span><br><span class="line">    daemon</span><br><span class="line">    log 10.10.1.81:5140 local1</span><br><span class="line">    maxconn 40000</span><br><span class="line">    nbproc 1</span><br><span class="line">    stats socket /var/lib/kolla/haproxy/haproxy.sock group kolla mode 660</span><br><span class="line"></span><br><span class="line">defaults</span><br><span class="line">    log global</span><br><span class="line">    option redispatch</span><br><span class="line">    retries 3</span><br><span class="line">    timeout http-request 10s</span><br><span class="line">    timeout http-keep-alive 10s</span><br><span class="line">    timeout queue 1m</span><br><span class="line">    timeout connect 10s</span><br><span class="line">    timeout client 1m</span><br><span class="line">    timeout server 1m</span><br><span class="line">    timeout check 10s</span><br><span class="line">    balance roundrobin</span><br><span class="line">    maxconn 10000</span><br><span class="line"></span><br><span class="line">listen stats</span><br><span class="line">   bind 10.10.1.81:1984</span><br><span class="line">   mode http</span><br><span class="line">   stats enable</span><br><span class="line">   stats uri /</span><br><span class="line">   stats refresh 15s</span><br><span class="line">   stats realm Haproxy\ Stats</span><br><span class="line">   stats auth openstack:E9wg1JFttdHVKtHNyAPomDDSYdnNsFKbLwkUh9W1</span><br><span class="line"></span><br><span class="line">frontend status</span><br><span class="line">    bind 10.10.1.81:61313</span><br><span class="line">    bind 10.10.1.250:61313</span><br><span class="line">    mode http</span><br><span class="line">    monitor-uri /</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°listen statsç»‘å®šçš„æ˜¯10.10.1.81:1984</p><p>æ‰“å¼€è®¿é—®å°±è¡Œï¼Œç”¨æˆ·å¯†ç æ˜¯stats authé‚£ä¸€è¡Œ</p>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>OpenStackæ€ä¹ˆæ‰¾åˆ°å®˜ç½‘CLIæ–‡æ¡£ï¼Œopenstack zone createå‘½ä»¤ä¸å­˜åœ¨ï¼Œæ€ä¹ˆæ‰¾åˆ°Designate CLI</title>
      <link href="/2023/openstack-how-to-find-the-official-website-cli-documentation-openstack-zone-create-command-does-not-exist-how-to-find-designate-cli/"/>
      <url>/2023/openstack-how-to-find-the-official-website-cli-documentation-openstack-zone-create-command-does-not-exist-how-to-find-designate-cli/</url>
      
        <content type="html"><![CDATA[<h1 id="1-è¿›å…¥DOC"><a href="#1-è¿›å…¥DOC" class="headerlink" title="1. è¿›å…¥DOC"></a>1. è¿›å…¥DOC</h1><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936497175351693649717024.png" alt="16936497175351693649717024.png"></p><h2 id="2-OpenStack-Pythonç»‘å®šå’Œå®¢æˆ·ç«¯çš„æ–‡æ¡£"><a href="#2-OpenStack-Pythonç»‘å®šå’Œå®¢æˆ·ç«¯çš„æ–‡æ¡£" class="headerlink" title="2. OpenStack Pythonç»‘å®šå’Œå®¢æˆ·ç«¯çš„æ–‡æ¡£"></a>2. OpenStack Pythonç»‘å®šå’Œå®¢æˆ·ç«¯çš„æ–‡æ¡£</h2><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936497275351693649727517.png" alt="16936497275351693649727517.png"></p><h1 id="3-æ‰¾åˆ°æ‰€éœ€ç»„ä»¶çš„æ–‡æ¡£"><a href="#3-æ‰¾åˆ°æ‰€éœ€ç»„ä»¶çš„æ–‡æ¡£" class="headerlink" title="3. æ‰¾åˆ°æ‰€éœ€ç»„ä»¶çš„æ–‡æ¡£"></a>3. æ‰¾åˆ°æ‰€éœ€ç»„ä»¶çš„æ–‡æ¡£</h1><blockquote><p>Unified OpenStack Clientï¼špython-openstackclient çš„æ–‡æ¡£ï¼Œä¸€ä¸ªç»Ÿä¸€çš„ shell å‘½ä»¤ç»“æ„ã€‚ </p></blockquote><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936497375351693649737231.png" alt="16936497375351693649737231.png"></p><h1 id="4-å®Œæ•´æ–‡æ¡£"><a href="#4-å®Œæ•´æ–‡æ¡£" class="headerlink" title="4. å®Œæ•´æ–‡æ¡£"></a>4. å®Œæ•´æ–‡æ¡£</h1><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936497465351693649746399.png" alt="16936497465351693649746399.png"></p><h1 id="5-å®‰è£…cli-client"><a href="#5-å®‰è£…cli-client" class="headerlink" title="5. å®‰è£…cli client"></a>5. å®‰è£…cli client</h1><blockquote><p>python-designateclientåŒ…åœ¨ PyPI ä¸Šå‘å¸ƒï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨ pip å·¥å…·å®‰è£…ï¼Œè¯¥å·¥å…·å°†ç®¡ç†æ‰€æœ‰ python ä¾èµ–é¡¹çš„å®‰è£…ï¼š </p></blockquote><p>å¯ä»¥å‘ç°æ²¡æœ‰ openstack zone createå‘½ä»¤çš„åŸå› æ˜¯æ²¡æœ‰å®‰è£…è¿™ä¸ªè½¯ä»¶åŒ…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install python-designateclient</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ProxmoxVEé…ç½®Ceph Object Gatewayå¯¹è±¡ç½‘å…³ï¼Œå¼€å¯Ceph Object Storageå¯¹è±¡å­˜å‚¨</title>
      <link href="/2023/proxmoxve-configures-the-ceph-object-gateway-object-gateway-and-enables-ceph-object-storage-object-storage/"/>
      <url>/2023/proxmoxve-configures-the-ceph-object-gateway-object-gateway-and-enables-ceph-object-storage-object-storage/</url>
      
        <content type="html"><![CDATA[<p> ä¸Šç¯‡ï¼š<a href="https://blog.csdn.net/qq_35485875/article/details/128906403">ProxmoxVEå¯ç”¨Ceph Dashboardä»ªè¡¨ç›˜ï¼Œé…ç½®Object Getawayå¯¹è±¡ç½‘å…³</a></p><hr><blockquote><p>Ceph å¯¹è±¡ç½‘å…³æ˜¯å»ºç«‹åœ¨ librados. å®ƒåœ¨åº”ç”¨ç¨‹åºå’Œ Ceph å­˜å‚¨é›†ç¾¤ä¹‹é—´æä¾›äº†ä¸€ä¸ª RESTful ç½‘å…³ã€‚Ceph å¯¹è±¡å­˜å‚¨æ”¯æŒä¸¤ç§æ¥å£ï¼š</p><ol><li>S3 å…¼å®¹ï¼šé€šè¿‡ä¸ Amazon S3 RESTful API çš„å¤§éƒ¨åˆ†å­é›†å…¼å®¹çš„æ¥å£æä¾›å¯¹è±¡å­˜å‚¨åŠŸèƒ½ã€‚</li><li>Swift å…¼å®¹ï¼šé€šè¿‡ä¸ OpenStack Swift API çš„å¤§éƒ¨åˆ†å­é›†å…¼å®¹çš„æ¥å£æä¾›å¯¹è±¡å­˜å‚¨åŠŸèƒ½ã€‚</li></ol></blockquote><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936499775391693649977331.png" alt="16936499775391693649977331.png"></p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936499915351693649990576.png" alt="16936499915351693649990576.png"></p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936500045381693650003669.png" alt="16936500045381693650003669.png"></p><hr><p>Proxmox Virtualization Environment (VE) æ˜¯ä¸€ä¸ªå‡ºè‰²çš„è™šæ‹ŸåŒ–å¹³å°ã€‚å®ƒå…·æœ‰è®¸å¤šå…¶ä»–ä¼ä¸šå¹³å°æ‰€æ²¡æœ‰çš„å¼ºå¤§åŠŸèƒ½ã€‚è¿™äº›åŠŸèƒ½ä¹‹ä¸€æ˜¯ Ceph æ”¯æŒï¼ŒåŒ…æ‹¬åœ¨ Proxmox èŠ‚ç‚¹æœ¬èº«ä¸Šè¿è¡Œ Ceph çš„èƒ½åŠ›ã€‚é™¤äº†å°† Ceph ç”¨äºæˆ‘çš„ VM å’Œå®¹å™¨ä¹‹å¤–ï¼Œæˆ‘è¿˜æƒ³åˆ©ç”¨ Ceph å¯¹è±¡ç½‘å…³ä¸ºæˆ‘çš„ç½‘ç«™è·å– S3 å…¼å®¹å­˜å‚¨ã€‚</p><p>æˆ‘çš„ Proxmox ç¯å¢ƒç”± 3 ä¸ªèŠ‚ç‚¹ç»„æˆï¼špve1ã€pve2å’Œpve3ï¼Œæˆ‘æƒ³åœ¨æ‰€æœ‰ä¸‰ä¸ªèŠ‚ç‚¹ä¸Šè¿è¡Œç½‘å…³ä»¥å®ç°é«˜å¯ç”¨æ€§ï¼ˆæˆ‘åœ¨è¿™äº›èŠ‚ç‚¹å‰é¢è¿è¡Œ HAProxy ä»¥å®ç° SSL ç»ˆæ­¢ã€HA å’Œè´Ÿè½½å¹³è¡¡ï¼‰ã€‚</p><p>æˆ‘ä»èŠ‚ç‚¹è¿è¡Œäº†ä»¥ä¸‹å‘½ä»¤pve1ï¼Œä½†å®ƒå¯ä»¥ä»ä»»ä½•èŠ‚ç‚¹å®Œæˆã€‚</p><p>é¦–å…ˆï¼Œæˆ‘åˆ›å»ºäº†å¯†é’¥ç¯æ¥å­˜å‚¨å¯†é’¥ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@pve1:~# ceph-authtool --create-keyring /etc/ceph/ceph.client.radosgw.keyring</span><br></pre></td></tr></table></figure><p> æ¥ä¸‹æ¥ï¼Œæˆ‘ç”Ÿæˆäº†å¯†é’¥å¹¶å°†å®ƒä»¬æ·»åŠ åˆ°å¯†é’¥ç¯ä¸­ï¼šï¼ˆå¦‚æœåªæœ‰ä¸€å°æœºå™¨åªè¦æ‰§è¡Œä¸€æ¡å³å¯ï¼Œéœ€è¦è‡ªå·±æ³¨æ„ä¿®æ”¹ï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root@pve1:~# ceph-authtool /etc/ceph/ceph.client.radosgw.keyring -n client.radosgw.pve1 --gen-key</span><br><span class="line">root@pve1:~# ceph-authtool /etc/ceph/ceph.client.radosgw.keyring -n client.radosgw.pve2 --gen-key</span><br><span class="line">root@pve1:~# ceph-authtool /etc/ceph/ceph.client.radosgw.keyring -n client.radosgw.pve3 --gen-key</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘æ·»åŠ äº†é€‚å½“çš„åŠŸèƒ½ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root@pve1:~# ceph-authtool -n client.radosgw.pve1 --cap osd &#x27;allow rwx&#x27; --cap mon &#x27;allow rwx&#x27; /etc/ceph/ceph.client.radosgw.keyring</span><br><span class="line">root@pve1:~# ceph-authtool -n client.radosgw.pve2 --cap osd &#x27;allow rwx&#x27; --cap mon &#x27;allow rwx&#x27; /etc/ceph/ceph.client.radosgw.keyring</span><br><span class="line">root@pve1:~# ceph-authtool -n client.radosgw.pve3 --cap osd &#x27;allow rwx&#x27; --cap mon &#x27;allow rwx&#x27; /etc/ceph/ceph.client.radosgw.keyring</span><br></pre></td></tr></table></figure><p>æœ€åï¼Œæˆ‘å°†å¯†é’¥æ·»åŠ åˆ°é›†ç¾¤ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root@pve1:~# ceph -k /etc/ceph/ceph.client.admin.keyring auth add client.radosgw.pve1 -i /etc/ceph/ceph.client.radosgw.keyring</span><br><span class="line">root@pve1:~# ceph -k /etc/ceph/ceph.client.admin.keyring auth add client.radosgw.pve2 -i /etc/ceph/ceph.client.radosgw.keyring</span><br><span class="line">root@pve1:~# ceph -k /etc/ceph/ceph.client.admin.keyring auth add client.radosgw.pve3 -i /etc/ceph/ceph.client.radosgw.keyring</span><br></pre></td></tr></table></figure><p>å°†å¯†é’¥ç¯å¤åˆ¶åˆ°&#x2F;etc&#x2F;pve&#x2F;priv</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@pve1:~# cp /etc/ceph/ceph.client.radosgw.keyring /etc/pve/priv</span><br></pre></td></tr></table></figure><p>å°†ä»¥ä¸‹è¡Œæ·»åŠ åˆ°&#x2F;etc&#x2F;ceph&#x2F;ceph.confï¼š</p><p>å¦‚æœæ²¡æœ‰è§£ædnsï¼Œé‚£å°±åˆ æ‰ rgw_dns_name</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[client.radosgw.pve1]</span><br><span class="line">        host = pve1</span><br><span class="line">        keyring = /etc/pve/priv/ceph.client.radosgw.keyring</span><br><span class="line">        rgw_dns_name = s3.example.net</span><br><span class="line"></span><br><span class="line">[client.radosgw.pve2]</span><br><span class="line">        host = pve2</span><br><span class="line">        keyring = /etc/pve/priv/ceph.client.radosgw.keyring</span><br><span class="line">        rgw_dns_name = s3.example.net</span><br><span class="line"></span><br><span class="line">[client.radosgw.pve3]</span><br><span class="line">        host = pve3</span><br><span class="line">        keyring = /etc/pve/priv/ceph.client.radosgw.keyring</span><br><span class="line">        rgw_dns_name = s3.example.net</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶æ˜¯æ—¶å€™ç™»å½•æ¯ä¸ªèŠ‚ç‚¹å¹¶æ·»åŠ é€‚å½“çš„åŒ…äº†ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@pve1:~# apt install radosgw</span><br></pre></td></tr></table></figure><p> ç„¶åå¯åŠ¨å®ƒï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@pve1:~# service radosgw start</span><br></pre></td></tr></table></figure><p>å¼€æœºè‡ªå¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@pve1:~# systemctl enable radosgw </span><br></pre></td></tr></table></figure><p>å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼ŒRADOSGW å°†ä¸ºæ‚¨åˆ›å»ºä¸€äº›é»˜è®¤æ± ï¼ˆè§ä¸‹æ–‡ï¼‰ï¼Œæ‚¨åº”è¯¥èƒ½å¤Ÿè®¿é—®ç«¯å£ 7480 ä¸Šçš„ä»»ä½•èŠ‚ç‚¹ï¼ˆä¾‹å¦‚<a href="http://pve1.example.net:7480ï¼‰å¹¶ä¸”æ‚¨åº”è¯¥çœ‹åˆ°æ˜¯è¿™æ ·çš„ï¼š">http://pve1.example.net:7480ï¼‰å¹¶ä¸”æ‚¨åº”è¯¥çœ‹åˆ°æ˜¯è¿™æ ·çš„ï¼š</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;ListAllMyBucketsResult xmlns=&quot;http://s3.amazonaws.com/doc/2006-03-01/&quot;&gt;</span><br><span class="line">    &lt;Owner&gt;</span><br><span class="line">        &lt;ID&gt;anonymous&lt;/ID&gt;</span><br><span class="line">        &lt;DisplayName/&gt;</span><br><span class="line">    &lt;/Owner&gt;</span><br><span class="line">    &lt;Buckets/&gt;</span><br><span class="line">&lt;/ListAllMyBucketsResult&gt;</span><br></pre></td></tr></table></figure><p>å¦‚æœæ²¡æœ‰ï¼Œæ‚¨å¯ä»¥æŒ‰ç…§æ‚¨çš„æ—¥å¿—è¿›è¡Œæ•…éšœæ’é™¤ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tail -f /var/log/ceph/ceph-client.radosgw.pve1.log</span><br></pre></td></tr></table></figure><p>ç°åœ¨ä½ å¯ä»¥è®¾ç½®ä½ çš„ç¬¬ä¸€ä¸ªç”¨æˆ·ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@pve1:~# radosgw-admin user create --uid=testuser --display-name=&quot;Test User&quot; --email=test.user@example.net</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ProxmoxVEå¯ç”¨Ceph Dashboardä»ªè¡¨ç›˜ï¼Œé…ç½®Object Getawayå¯¹è±¡ç½‘å…³</title>
      <link href="/2023/proxmoxve-enables-the-ceph-dashboard-dashboard-and-configures-the-object-getaway-object-gateway/"/>
      <url>/2023/proxmoxve-enables-the-ceph-dashboard-dashboard-and-configures-the-object-getaway-object-gateway/</url>
      
        <content type="html"><![CDATA[<p>ä¸‹ç¯‡ï¼š<a href="https://blog.csdn.net/qq_35485875/article/details/128906309">ProxmoxVEé…ç½®Ceph Object Gatewayå¯¹è±¡ç½‘å…³ï¼Œå¼€å¯Ceph Object Storageå¯¹è±¡å­˜å‚¨ </a></p><hr><p>Ceph Dashboard æ˜¯ä¸€ä¸ªå†…ç½®çš„åŸºäº Web çš„ Ceph ç®¡ç†å’Œç›‘æ§åº”ç”¨ç¨‹åºï¼Œæ‚¨å¯ä»¥é€šè¿‡å®ƒæ£€æŸ¥å’Œç®¡ç†é›†ç¾¤ä¸­çš„å„ä¸ªæ–¹é¢å’Œèµ„æºã€‚å®ƒä½œä¸ºCeph Manager Daemonæ¨¡å—å®ç°ã€‚</p><p>æ–°çš„Ceph Dashboardæ¨¡å—ä¸º Ceph Manager æ·»åŠ äº†åŸºäº Web çš„ç›‘æ§å’Œç®¡ç†ã€‚è¿™ä¸ªæ–°æ¨¡å—çš„æ¶æ„å’ŒåŠŸèƒ½æºè‡ªopenATTIC Ceph ç®¡ç†å’Œç›‘æ§å·¥å…·å¹¶å—åˆ°å…¶å¯å‘ã€‚å¼€å‘ç”±SUSEçš„ openATTIC å›¢é˜Ÿç§¯ææ¨åŠ¨ï¼Œå¹¶å¾—åˆ°Red Hatå’Œ Ceph ç¤¾åŒºæˆå‘˜ç­‰å…¬å¸çš„æ”¯æŒã€‚</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936498705351693649870459.png" alt="16936498705351693649870459.png"></p><hr><h1 id="1-å®‰è£…è½¯ä»¶åŒ…"><a href="#1-å®‰è£…è½¯ä»¶åŒ…" class="headerlink" title="1. å®‰è£…è½¯ä»¶åŒ…"></a>1. å®‰è£…è½¯ä»¶åŒ…</h1><p>ç”±äºDashboardå’Œcephæœ¬ä½“æ˜¯åˆ†å¼€åˆ†å‘è½¯ä»¶åŒ…çš„ï¼Œæ‰€ä»¥éœ€è¦é¢å¤–å®‰è£…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install ceph-mgr-dashboard -y</span><br></pre></td></tr></table></figure><h1 id="2-å¯ç”¨Dashboard"><a href="#2-å¯ç”¨Dashboard" class="headerlink" title="2. å¯ç”¨Dashboard"></a>2. å¯ç”¨Dashboard</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ceph mgr module enable dashboard</span><br></pre></td></tr></table></figure><h1 id="3-é…ç½®SSL-TLS-æ”¯æŒï¼ˆå¯é€‰ï¼Œå»ºè®®ï¼‰"><a href="#3-é…ç½®SSL-TLS-æ”¯æŒï¼ˆå¯é€‰ï¼Œå»ºè®®ï¼‰" class="headerlink" title="3. é…ç½®SSL&#x2F;TLS æ”¯æŒï¼ˆå¯é€‰ï¼Œå»ºè®®ï¼‰"></a>3. é…ç½®SSL&#x2F;TLS æ”¯æŒï¼ˆå¯é€‰ï¼Œå»ºè®®ï¼‰</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ceph dashboard create-self-signed-cert</span><br></pre></td></tr></table></figure><h1 id="4-é‡æ–°å¯åŠ¨-Ceph-ç®¡ç†å™¨è¿›ç¨‹"><a href="#4-é‡æ–°å¯åŠ¨-Ceph-ç®¡ç†å™¨è¿›ç¨‹" class="headerlink" title="4. é‡æ–°å¯åŠ¨ Ceph ç®¡ç†å™¨è¿›ç¨‹"></a>4. é‡æ–°å¯åŠ¨ Ceph ç®¡ç†å™¨è¿›ç¨‹</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ceph mgr module disable dashboard</span><br><span class="line">ceph mgr module enable dashboard</span><br></pre></td></tr></table></figure><h1 id="5-åˆ›å»ºç®¡ç†å‘˜"><a href="#5-åˆ›å»ºç®¡ç†å‘˜" class="headerlink" title="5. åˆ›å»ºç®¡ç†å‘˜"></a>5. åˆ›å»ºç®¡ç†å‘˜</h1><h2 id="5-1-åˆ›å»ºå¯†ç æ–‡ä»¶"><a href="#5-1-åˆ›å»ºå¯†ç æ–‡ä»¶" class="headerlink" title="5.1 åˆ›å»ºå¯†ç æ–‡ä»¶"></a>5.1 åˆ›å»ºå¯†ç æ–‡ä»¶</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;password&quot; &gt; /tmp/dash.pwd</span><br></pre></td></tr></table></figure><h2 id="5-2-åˆ›å»ºç”¨æˆ·"><a href="#5-2-åˆ›å»ºç”¨æˆ·" class="headerlink" title="5.2 åˆ›å»ºç”¨æˆ·"></a>5.2 åˆ›å»ºç”¨æˆ·</h2><blockquote><p>ç³»ç»Ÿè§’è‰²åˆ—è¡¨å¦‚ä¸‹ï¼š    </p><p>administratorï¼šå…è®¸æ‰€æœ‰å®‰å…¨èŒƒå›´çš„å®Œå…¨æƒé™ã€‚</p><p>read-onlyï¼šå…è®¸å¯¹é™¤ä»ªè¡¨æ¿è®¾ç½®ä¹‹å¤–çš„æ‰€æœ‰å®‰å…¨èŒƒå›´çš„è¯»å–æƒé™ã€‚</p><p>block-managerï¼šå…è®¸å¯¹rbd-imageã€ rbd-mirroringå’ŒiscsièŒƒå›´çš„å®Œå…¨æƒé™ã€‚</p><p>rgw-managerï¼šå…è®¸å¯¹rgwèŒƒå›´çš„å®Œå…¨æƒé™</p><p>cluster-managerï¼šå…è®¸å¯¹hostsã€osdã€ monitorã€managerå’Œconfig-optèŒƒå›´çš„å®Œå…¨æƒé™ã€‚</p><p>pool-managerï¼šå…è®¸æ± èŒƒå›´çš„å®Œå…¨æƒé™ã€‚</p><p>cephfs-managerï¼šå…è®¸å¯¹cephfsèŒƒå›´çš„å®Œå…¨æƒé™ã€‚</p></blockquote><p> æœ€åé¢é‚£ä¸ªadministratorå‚æ•°å°±æ˜¯ä¸Šé¢çš„è§’è‰²</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ceph dashboard ac-user-create &lt;username&gt; -i /tmp/dash.pwd administrator</span><br></pre></td></tr></table></figure><h1 id="6-æŸ¥è¯¢åœ°å€ç«¯å£"><a href="#6-æŸ¥è¯¢åœ°å€ç«¯å£" class="headerlink" title="6. æŸ¥è¯¢åœ°å€ç«¯å£"></a>6. æŸ¥è¯¢åœ°å€ç«¯å£</h1><p>åœ°å€</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ceph config get mgr mgr/dashboard/server_addr</span><br></pre></td></tr></table></figure><p>ç«¯å£</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ceph config get mgr mgr/dashboard/server_port</span><br></pre></td></tr></table></figure><p>SSLç«¯å£</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ceph config get mgr mgr/dashboard/ssl_server_port</span><br></pre></td></tr></table></figure><p>æ‚¨ç°åœ¨å¯ä»¥ä½¿ç”¨æ‚¨çš„ï¼ˆå¯ç”¨ JavaScript çš„ï¼‰Web æµè§ˆå™¨è®¿é—®ä»ªè¡¨æ¿ï¼Œæ–¹æ³•æ˜¯å°†å…¶æŒ‡å‘ä»»ä½•ä¸»æœºåæˆ– IP åœ°å€ä»¥åŠè¿è¡Œç®¡ç†å™¨å®ä¾‹çš„é€‰å®š TCP ç«¯å£ï¼šä¾‹å¦‚ï¼Œ<code>http(s)://&lt;$IP&gt;:&lt;$PORT&gt;/</code></p>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>OpenStack Kolla-Ansibleéƒ¨ç½²Cinderå—å­˜å‚¨ å¯¹æ¥Cephï¼ŒProxmox</title>
      <link href="/2023/openstack-kolla-ansible-deploys-cinder-block-storage-to-interface-with-ceph-and-proxmox/"/>
      <url>/2023/openstack-kolla-ansible-deploys-cinder-block-storage-to-interface-with-ceph-and-proxmox/</url>
      
        <content type="html"><![CDATA[<p> ä¹¦æ¥ä¸Šå› <a href="https://blog.csdn.net/qq_35485875/article/details/128899909">OpenStack Kolla-Ansibleéƒ¨ç½²Glanceé•œåƒæœåŠ¡å¯¹æ¥Cephï¼ŒProxmox</a></p><p>æœ¬ç« æˆ‘ä»¬ç»§ç»­æ¥å®ŒæˆOpenStackç¤ºä¾‹é…ç½®ç»„ä»¶ä¹‹Web Applicationä¸­çš„Cinderå—å­˜å‚¨æœåŠ¡ï¼ŒOpenStackä¸­çš„Cinderå—å­˜å‚¨å¯¹æ¥Ceph</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936501215371693650120968.png" alt="16936501215371693650120968.png"></p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936501345371693650134249.png" alt="16936501345371693650134249.png"></p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936501465361693650145937.png" alt="16936501465361693650145937.png"></p><hr><h1 id="1-å¯ç”¨-Cinder-Ceph-åç«¯"><a href="#1-å¯ç”¨-Cinder-Ceph-åç«¯" class="headerlink" title="1. å¯ç”¨ Cinder Ceph åç«¯"></a>1. å¯ç”¨ Cinder Ceph åç«¯</h1><p>åœ¨éƒ¨ç½²æœºæ‰¾åˆ° <strong>&#x2F;etc&#x2F;kolla&#x2F;globals.yml</strong>ï¼Œå¹¶è®¾ç½®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">enable_cinder: &quot;yes&quot;</span><br><span class="line">cinder_backend_ceph: &quot;yes&quot;</span><br></pre></td></tr></table></figure><h1 id="2-å¤åˆ¶Ceph-é…ç½®æ–‡ä»¶"><a href="#2-å¤åˆ¶Ceph-é…ç½®æ–‡ä»¶" class="headerlink" title="2. å¤åˆ¶Ceph é…ç½®æ–‡ä»¶"></a>2. å¤åˆ¶Ceph é…ç½®æ–‡ä»¶</h1><p>æ·»åŠ æ–‡ä»¶&#x2F;etc&#x2F;kolla&#x2F;config&#x2F;cinder&#x2F;ceph.conf</p><p>å†…å®¹å’Œ&#x2F;etc&#x2F;kolla&#x2F;config&#x2F;glance&#x2F;ceph.conf å†…å®¹ä¸€æ ·ï¼Œå¯ä»¥ä½¿ç”¨è½¯è¿æ¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /etc/kolla/config/cinder &amp;&amp; ln -s /etc/kolla/config/glance/ceph.conf /etc/kolla/config/cinder/ceph.conf</span><br></pre></td></tr></table></figure><h1 id="3-å¤åˆ¶Ceph-keyringæ–‡ä»¶"><a href="#3-å¤åˆ¶Ceph-keyringæ–‡ä»¶" class="headerlink" title="3. å¤åˆ¶Ceph keyringæ–‡ä»¶"></a>3. å¤åˆ¶Ceph keyringæ–‡ä»¶</h1><p>ä¸€å…±æœ‰ä¸‰ä¸ª</p><ul><li>&#x2F;etc&#x2F;kolla&#x2F;config&#x2F;cinder&#x2F;cinder-volume&#x2F;<ceph_cinder_keyring></li><li>&#x2F;etc&#x2F;kolla&#x2F;config&#x2F;cinder&#x2F;cinder-backup&#x2F;<ceph_cinder_keyring></li><li>&#x2F;etc&#x2F;kolla&#x2F;config&#x2F;cinder&#x2F;cinder-backup&#x2F;<ceph_cinder_backup_keyring></li></ul><p>åœ¨éƒ¨ç½²æœºåˆ›å»ºç›®å½•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /etc/kolla/config/cinder/cinder-volume</span><br><span class="line">mkdir -p /etc/kolla/config/cinder/cinder-backup</span><br></pre></td></tr></table></figure><p>å›åˆ°proxmox shellï¼Œæ³¨æ„è¿™ä¸ª10.10.1.80æ˜¯éƒ¨ç½²æœºçš„ip</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ceph auth get-or-create client.cinder | ssh 10.10.1.80 sudo tee /etc/kolla/config/cinder/cinder-volume/ceph.client.cinder.keyring</span><br><span class="line">ceph auth get-or-create client.cinder | ssh 10.10.1.80 sudo tee /etc/kolla/config/cinder/cinder-backup/ceph.client.cinder.keyring</span><br><span class="line">ceph auth get-or-create client.cinder-backup | ssh 10.10.1.80 sudo tee /etc/kolla/config/cinder/cinder-backup/ceph.client.cinder-backup.keyring</span><br></pre></td></tr></table></figure><blockquote><p>cinder-backupéœ€è¦ä¸¤ä¸ªå¯†é’¥ç¯æ¥è®¿é—®å·å’Œå¤‡ä»½æ± ã€‚</p></blockquote><h1 id="4-é…ç½®Novaå…è®¸è®¿é—®Cinderå·"><a href="#4-é…ç½®Novaå…è®¸è®¿é—®Cinderå·" class="headerlink" title="4. é…ç½®Novaå…è®¸è®¿é—®Cinderå·"></a>4. é…ç½®Novaå…è®¸è®¿é—®Cinderå·</h1><blockquote><p>Ceph RBD å¯ç”¨ä½œ Nova å®ä¾‹ä¸´æ—¶ç£ç›˜çš„å­˜å‚¨åç«¯ã€‚è¿™é¿å…äº†å¯¹è®¡ç®—èŠ‚ç‚¹ä¸Šå®ä¾‹çš„æœ¬åœ°å­˜å‚¨çš„è¦æ±‚ã€‚å®ƒæé«˜äº†è¿ç§»æ€§èƒ½ï¼Œå› ä¸ºä¸éœ€è¦åœ¨ç®¡ç†ç¨‹åºä¹‹é—´å¤åˆ¶å®ä¾‹çš„ä¸´æ—¶ç£ç›˜ã€‚</p></blockquote><h2 id="4-1-å¯ç”¨-Nova-Ceph-åç«¯"><a href="#4-1-å¯ç”¨-Nova-Ceph-åç«¯" class="headerlink" title="4.1 å¯ç”¨ Nova Ceph åç«¯"></a>4.1 å¯ç”¨ Nova Ceph åç«¯</h2><p>åœ¨éƒ¨ç½²æœºæ‰¾åˆ° <strong>&#x2F;etc&#x2F;kolla&#x2F;globals.yml</strong>ï¼Œå¹¶è®¾ç½®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nova_backend_ceph: &quot;yes&quot;</span><br></pre></td></tr></table></figure><h2 id="4-2-é…ç½®-Ceph-èº«ä»½éªŒè¯è¯¦ç»†ä¿¡æ¯"><a href="#4-2-é…ç½®-Ceph-èº«ä»½éªŒè¯è¯¦ç»†ä¿¡æ¯" class="headerlink" title="4.2 é…ç½® Ceph èº«ä»½éªŒè¯è¯¦ç»†ä¿¡æ¯"></a>4.2 é…ç½® Ceph èº«ä»½éªŒè¯è¯¦ç»†ä¿¡æ¯</h2><p>åœ¨éƒ¨ç½²æœºæ‰¾åˆ° <strong>&#x2F;etc&#x2F;kolla&#x2F;globals.yml</strong>ï¼Œå¹¶è®¾ç½®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ceph_nova_user: &quot;cinder&quot;</span><br></pre></td></tr></table></figure><h2 id="4-3-Ceph-é…ç½®æ–‡ä»¶å¤åˆ¶"><a href="#4-3-Ceph-é…ç½®æ–‡ä»¶å¤åˆ¶" class="headerlink" title="4.3 Ceph é…ç½®æ–‡ä»¶å¤åˆ¶"></a>4.3 Ceph é…ç½®æ–‡ä»¶å¤åˆ¶</h2><p>è¿™é‡Œç›´æ¥è½¯è¿æ¥glanceçš„ceph.confå°±è¡Œï¼Œæ‰€æœ‰çš„ceph.conféƒ½å¯ä»¥æ˜¯ä¸€æ ·</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /etc/kolla/config/nova/ &amp;&amp; ln -s /etc/kolla/config/glance/ceph.conf /etc/kolla/config/nova/ceph.conf</span><br></pre></td></tr></table></figure><h2 id="4-4-Ceph-å¯†é’¥ç¯æ–‡ä»¶å¤åˆ¶"><a href="#4-4-Ceph-å¯†é’¥ç¯æ–‡ä»¶å¤åˆ¶" class="headerlink" title="4.4 Ceph å¯†é’¥ç¯æ–‡ä»¶å¤åˆ¶"></a>4.4 Ceph å¯†é’¥ç¯æ–‡ä»¶å¤åˆ¶</h2><p> å›åˆ°proxmox shellï¼Œæ³¨æ„è¿™ä¸ª10.10.1.80æ˜¯éƒ¨ç½²æœºçš„ip</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ceph auth get-or-create client.cinder | ssh 10.10.1.80 sudo tee /etc/kolla/config/nova/ceph.client.cinder.keyring</span><br></pre></td></tr></table></figure><h1 id="5-é‡æ–°éƒ¨ç½²"><a href="#5-é‡æ–°éƒ¨ç½²" class="headerlink" title="5. é‡æ–°éƒ¨ç½²"></a>5. é‡æ–°éƒ¨ç½²</h1><p>å›åˆ°éƒ¨ç½²æœº</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kolla-ansible -i ./multinode deploy</span><br></pre></td></tr></table></figure><h1 id="6-éªŒè¯ç»“æœ"><a href="#6-éªŒè¯ç»“æœ" class="headerlink" title="6. éªŒè¯ç»“æœ"></a>6. éªŒè¯ç»“æœ</h1><h2 id="6-1-éªŒè¯docker"><a href="#6-1-éªŒè¯docker" class="headerlink" title="6.1. éªŒè¯docker"></a>6.1. éªŒè¯docker</h2><p>åœ¨ä»»æ„å­˜å‚¨èŠ‚ç‚¹ </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">root@control01:~# docker ps | grep cinder</span><br><span class="line">92905efa4637   quay.nju.edu.cn/openstack.kolla/ubuntu-source-cinder-backup:yoga               &quot;dumb-init --single-â€¦&quot;   5 minutes ago   Up 5 minutes (healthy)              cinder_backup</span><br><span class="line">1168528d13a7   quay.nju.edu.cn/openstack.kolla/ubuntu-source-cinder-volume:yoga               &quot;dumb-init --single-â€¦&quot;   5 minutes ago   Up 5 minutes (healthy)              cinder_volume</span><br><span class="line">2a8bbbeb6d1a   quay.nju.edu.cn/openstack.kolla/ubuntu-source-cinder-scheduler:yoga            &quot;dumb-init --single-â€¦&quot;   6 minutes ago   Up 6 minutes (healthy)              cinder_scheduler</span><br><span class="line">39bda6a9fc42   quay.nju.edu.cn/openstack.kolla/ubuntu-source-cinder-api:yoga                  &quot;dumb-init --single-â€¦&quot;   6 minutes ago   Up 6 minutes (healthy)              cinder_api</span><br><span class="line">root@control01:~# </span><br></pre></td></tr></table></figure><h2 id="6-2-åˆ›å»ºå·"><a href="#6-2-åˆ›å»ºå·" class="headerlink" title="6.2 åˆ›å»ºå·"></a>6.2 åˆ›å»ºå·</h2><p>å›åˆ°Horizonï¼Œå¯ä»¥çœ‹åˆ°åœ¨ é¡¹ç›® ä¸­ä¼šå¤šå‡ºä¸€ä¸ªå·ã€‚.</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936501665351693650166117.png" alt="16936501665351693650166117.png"></p><p>è¿™é‡Œéšä¾¿æ–°å»ºä¸€ä¸ªä»»æ„å¤§å°çš„å·ï¼Œèƒ½åˆ›å»ºæˆåŠŸå°±æ²¡é—®é¢˜ã€‚</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936501745361693650174022.png" alt="16936501745361693650174022.png"></p><p>å›åˆ°proxmoxçœ‹ä¸‹å­˜å‚¨æ± é‡Œé¢æœ‰æ²¡æœ‰è¿™ä¸ªå·ï¼Œæ³¨æ„å·çš„ID</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@pve1:~# rbd ls -p volumes</span><br><span class="line">volume-3c9ccc53-ae51-4000-a85a-47cb9249dd10</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>OpenStack Kolla-Ansibleéƒ¨ç½²Glanceé•œåƒæœåŠ¡å¯¹æ¥Cephï¼ŒProxmox</title>
      <link href="/2023/openstack-kolla-ansible-deploys-glance-image-service-to-connect-with-ceph-and-proxmox/"/>
      <url>/2023/openstack-kolla-ansible-deploys-glance-image-service-to-connect-with-ceph-and-proxmox/</url>
      
        <content type="html"><![CDATA[<p> ä¹¦æ¥ä¸Šå› <a href="https://blog.csdn.net/qq_35485875/article/details/128868634">OpenStack Yogaå®‰è£…éƒ¨ç½²ï¼Œæ‰‹æŠŠæ‰‹ä½¿ç”¨kolla-ansibleéƒ¨ç½²OpenStack</a></p><p>æœ¬ç« æˆ‘ä»¬ç»§ç»­æ¥ï¼ŒOpenStackä¸­çš„Glanceé•œåƒæœåŠ¡å¯¹æ¥Ceph</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936502745351693650274372.png" alt="16936502745351693650274372.png"></p><hr><h1 id="1-å¯ç”¨-Glance-Ceph-åç«¯"><a href="#1-å¯ç”¨-Glance-Ceph-åç«¯" class="headerlink" title="1. å¯ç”¨ Glance Ceph åç«¯"></a>1. å¯ç”¨ Glance Ceph åç«¯</h1><p>åœ¨éƒ¨ç½²æœºä¸Šæ‰¾åˆ° &#x2F;etc&#x2F;kolla&#x2F;globals.yml</p><p>è®² glance_backend_ceph ä¿®æ”¹ä¸º yes</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">glance_backend_ceph: &quot;yes&quot;</span><br></pre></td></tr></table></figure><h1 id="2-åˆ›å»ºå­˜å‚¨æ± "><a href="#2-åˆ›å»ºå­˜å‚¨æ± " class="headerlink" title="2. åˆ›å»ºå­˜å‚¨æ± "></a>2. åˆ›å»ºå­˜å‚¨æ± </h1><p>è¿›å…¥proxmox shell</p><p> åˆ›å»ºCinderå’ŒGlanceæ‰€éœ€çš„å­˜å‚¨æ± </p><blockquote><p>å­˜å‚¨æ± åå­—ä¸è¦æ”¹ï¼ï¼ï¼é™¤éä½ çŸ¥é“å¦‚ä½•ä¿®æ”¹å…¶ä»–å‚æ•°</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ceph osd pool create volumes</span><br><span class="line">ceph osd pool create images</span><br><span class="line">ceph osd pool create backups</span><br><span class="line">ceph osd pool create vms</span><br></pre></td></tr></table></figure><p>æ–°åˆ›å»ºçš„æ± å¿…é¡»åœ¨ä½¿ç”¨å‰è¿›è¡Œåˆå§‹åŒ–ã€‚ä½¿ç”¨è¯¥rbdå·¥å…·åˆå§‹åŒ–æ± ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rbd pool init volumes</span><br><span class="line">rbd pool init images</span><br><span class="line">rbd pool init backups</span><br><span class="line">rbd pool init vms</span><br></pre></td></tr></table></figure><h1 id="3-é…ç½®-OPENSTACK-CEPH-å®¢æˆ·ç«¯"><a href="#3-é…ç½®-OPENSTACK-CEPH-å®¢æˆ·ç«¯" class="headerlink" title="3. é…ç½® OPENSTACK CEPH å®¢æˆ·ç«¯"></a>3. é…ç½® OPENSTACK CEPH å®¢æˆ·ç«¯</h1><p>åªè¦ä½¿ç”¨äº†cephå®¢æˆ·ç«¯å°±éœ€è¦ceph.confã€‚è¿™é‡Œéœ€è¦åœ¨æ¯ä¸ªéœ€è¦ä½¿ç”¨åˆ°cephå®¢æˆ·ç«¯çš„èŠ‚ç‚¹åˆ›å»ºä¸€ä¸ªceph.conf</p><p>æ‰¾åˆ°proxmox cephä¸­çš„é…ç½®æ–‡ä»¶</p><p>åœ¨guiä¸­çš„ â€œæ•°æ®ä¸­å¿ƒ-&gt;èŠ‚ç‚¹-&gt;Ceph-&gt;é…ç½®-&gt;å·¦ä¸Šè§’çš„é…ç½®â€ è¿™é‡Œå°±æ˜¯ceph.confï¼Œå¯¹åº”äºæ–‡ä»¶ç³»ç»Ÿä¸­çš„ â€œ&#x2F;etc&#x2F;ceph&#x2F;ceph.confâ€</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936502865351693650285724.png" alt="16936502865351693650285724.png"></p><p>åœ¨éƒ¨ç½²æœºçš„ <strong>&#x2F;etc&#x2F;kolla&#x2F;config&#x2F;glance&#x2F;ceph.conf</strong> ä¸­ç²˜è´´è¿™ä¸ªæ–‡ä»¶ï¼ˆæ²¡æœ‰è¿™ä¸ªæ–‡ä»¶çš„è¯åˆ›å»ºä¸€ä¸ªï¼‰</p><p>æœ€ååªä¿ç•™ [global] èŠ‚ç‚¹ï¼Œå…¶ä»–çš„éƒ½åˆ äº†ã€‚æ³¨æ„å–æ¶ˆç¼©è¿›</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936503145351693650314515.png" alt="16936503145351693650314515.png"></p><h1 id="4-åˆ›å»ºglance-cinder-cephè´¦æˆ·"><a href="#4-åˆ›å»ºglance-cinder-cephè´¦æˆ·" class="headerlink" title="4. åˆ›å»ºglance cinder cephè´¦æˆ·"></a>4. åˆ›å»ºglance cinder cephè´¦æˆ·</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ceph auth get-or-create client.glance mon &#x27;profile rbd&#x27; osd &#x27;profile rbd pool=images&#x27; mgr &#x27;profile rbd pool=images&#x27;</span><br><span class="line">ceph auth get-or-create client.cinder mon &#x27;profile rbd&#x27; osd &#x27;profile rbd pool=volumes, profile rbd pool=vms, profile rbd-read-only pool=images&#x27; mgr &#x27;profile rbd pool=volumes, profile rbd pool=vms&#x27;</span><br><span class="line">ceph auth get-or-create client.cinder-backup mon &#x27;profile rbd&#x27; osd &#x27;profile rbd pool=backups&#x27; mgr &#x27;profile rbd pool=backups&#x27;</span><br></pre></td></tr></table></figure><h1 id="5-å¤åˆ¶keyring"><a href="#5-å¤åˆ¶keyring" class="headerlink" title="5. å¤åˆ¶keyring"></a>5. å¤åˆ¶keyring</h1><p>å°† Ceph keyringå¤åˆ¶åˆ° <strong>&#x2F;etc&#x2F;kolla&#x2F;config&#x2F;glance&#x2F;ceph.client.glance.keyring</strong>ï¼Œæ³¨æ„10.10.1.80æ˜¯éƒ¨ç½²æœº</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ceph auth get-or-create client.glance | ssh 10.10.1.80 sudo tee /etc/kolla/config/glance/ceph.client.glance.keyring</span><br></pre></td></tr></table></figure><h1 id="6-é‡æ–°éƒ¨ç½²"><a href="#6-é‡æ–°éƒ¨ç½²" class="headerlink" title="6. é‡æ–°éƒ¨ç½²"></a>6. é‡æ–°éƒ¨ç½²</h1><p>åœ¨éƒ¨ç½²æœº</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kolla-ansible -i ./multinode deploy</span><br></pre></td></tr></table></figure><h1 id="7-éªŒè¯"><a href="#7-éªŒè¯" class="headerlink" title="7. éªŒè¯"></a>7. éªŒè¯</h1><h2 id="7-1-ä¸Šä¼ é•œåƒ"><a href="#7-1-ä¸Šä¼ é•œåƒ" class="headerlink" title="7.1 ä¸Šä¼ é•œåƒ"></a>7.1 ä¸Šä¼ é•œåƒ</h2><p>ä¸‹è½½ä¸€ä¸ªcirros-0.6.1-x86_64-disk.imgé•œåƒæµ‹è¯•ï¼ˆå¾ˆå°20Mï¼‰</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936503265361693650326517.png" alt="16936503265361693650326517.png"></p><p> çœ‹åˆ°æ˜¯è¿è¡Œä¸­ï¼Œé‚£å°±å¤§å·®ä¸å·®å·²ç»æˆåŠŸäº†</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936503425391693650342492.png" alt="16936503425391693650342492.png"></p><h2 id="7-2-éªŒè¯å­˜å‚¨æ± æ–‡ä»¶åˆ—è¡¨"><a href="#7-2-éªŒè¯å­˜å‚¨æ± æ–‡ä»¶åˆ—è¡¨" class="headerlink" title="7.2 éªŒè¯å­˜å‚¨æ± æ–‡ä»¶åˆ—è¡¨"></a>7.2 éªŒè¯å­˜å‚¨æ± æ–‡ä»¶åˆ—è¡¨</h2><p>å›åˆ°proxmox shellä¸­ï¼Œè¾“å…¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rbd ls -p images</span><br></pre></td></tr></table></figure><p>æ˜¾ç¤ºå¦‚ä¸‹ï¼Œå†å¯¹æ¯”ä¸€ä¸‹ä¸Šå›¾çš„idï¼Œæ˜¯ä¸€è‡´çš„ï¼Œè¯´æ˜æˆåŠŸäº†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@pve1:~# rbd ls -p images</span><br><span class="line">255dd8a4-c442-4d09-a1a1-878466424253</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>OPENSTACK LANDSCAPEäº‘åŸç”Ÿæ™¯è§‚ | OpenStackåœ°å›¾</title>
      <link href="/2023/openstack-landscape-cloud-native-landscape-openstack-map/"/>
      <url>/2023/openstack-landscape-cloud-native-landscape-openstack-map/</url>
      
        <content type="html"><![CDATA[<p> OpenStack è¢«åˆ†è§£ä¸ºæœåŠ¡ï¼Œå…è®¸æ‚¨æ ¹æ®éœ€è¦å³æ’å³ç”¨ç»„ä»¶ã€‚openstack åœ°å›¾ä¸ºæ‚¨æä¾›äº† openstack æ™¯è§‚çš„â€œä¸€ç›®äº†ç„¶â€è§†å›¾ï¼Œä»¥äº†è§£è¿™äº›æœåŠ¡é€‚åˆçš„ä½ç½®ä»¥åŠå®ƒä»¬å¦‚ä½•ååŒå·¥ä½œã€‚ </p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936504175391693650416940.png" alt="16936504175391693650416940.png"></p>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>OpenStackä½¿ç”¨Skyline Dashboardé¢æ¿æ›¿æ¢é»˜è®¤Horizoné¢æ¿</title>
      <link href="/2023/openstack-replaces-the-default-horizon-panel-with-the-skyline-dashboard-panel/"/>
      <url>/2023/openstack-replaces-the-default-horizon-panel-with-the-skyline-dashboard-panel/</url>
      
        <content type="html"><![CDATA[<p> ä¹¦æ¥ä¸Šå› <a href="https://blog.csdn.net/qq_35485875/article/details/128868634">OpenStack Yogaå®‰è£…ä½¿ç”¨kolla-ansible</a> </p><blockquote><p>å¿˜è®°æç¤ºäº†ã€‚å¦‚æœæˆªæ­¢å‘ç¨¿ä»Šå¤©ï¼Œä½¿ç”¨æœ€æ–°zedç‰ˆæœ¬ï¼Œåœ¨æœ€åä¸€æ­¥éƒ¨ç½²é˜¶æ®µä¼šæŠ¥é”™ï¼Œå¥½åƒæ˜¯rabbitMQé‡å¯å¤±è´¥ã€‚æ‰€ä»¥å»ºè®®ä½¿ç”¨æœ€æ–°ç‰ˆå†é€€ä¸€ä¸ªç‰ˆæœ¬</p></blockquote><hr><h1 id="å®˜æ–¹æ–‡æ¡£"><a href="#å®˜æ–¹æ–‡æ¡£" class="headerlink" title="å®˜æ–¹æ–‡æ¡£"></a>å®˜æ–¹æ–‡æ¡£</h1><p><a href="https://opendev.org/openstack/skyline-apiserver/src/branch/master/kolla/README-zh_CN.md">skyline-apiserver&#x2F;README-zh_CN.md at master - skyline-apiserver - OpenDev: Free Software Needs Free Tools</a></p><h1 id="å…ˆå†³æ¡ä»¶"><a href="#å…ˆå†³æ¡ä»¶" class="headerlink" title="å…ˆå†³æ¡ä»¶"></a>å…ˆå†³æ¡ä»¶</h1><ul><li>ä¸€ä¸ªè‡³å°‘è¿è¡Œæ ¸å¿ƒç»„ä»¶çš„ OpenStack ç¯å¢ƒ, å¹¶èƒ½é€šè¿‡ Keystone endpoint è®¿é—® OpenStack ç»„ä»¶</li><li>ä¸€ä¸ªå®‰è£…æœ‰å®¹å™¨å¼•æ“çš„ (docker æˆ– podman) çš„ Linux æœåŠ¡å™¨</li></ul><h1 id="1-é•œåƒæº"><a href="#1-é•œåƒæº" class="headerlink" title="1. é•œåƒæº"></a>1. é•œåƒæº</h1><p>æ‰¾åˆ°githubä¸­OpenStackå¯¹åº”ä¸openstack&#x2F;skyline-apiserverçš„é•œåƒï¼Œå³</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># å®˜æ–¹https://opendev.org/openstack/skyline-apiserver</span><br><span class="line"># github å¦‚ä¸‹</span><br><span class="line">https://github.com/openstack/skyline-apiserver</span><br></pre></td></tr></table></figure><p>ä»»æ„æ‰¾ä¸€ä¸ªå›½å†…gitå¹³å°å…‹éš†ä¸€ä»½ã€‚æˆ‘è¿™é‡Œä½¿ç”¨jihulab.com</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936505705351693650569618.png" alt="16936505705351693650569618.png"></p><h1 id="2-ä¸‹è½½skyline-yaml"><a href="#2-ä¸‹è½½skyline-yaml" class="headerlink" title="2. ä¸‹è½½skyline.yaml"></a>2. ä¸‹è½½skyline.yaml</h1><p>æ‰¾åˆ°etc&#x2F;skyline.yaml.sampleï¼Œè¿™ä¸ªæ–‡ä»¶</p><p>æ‰“å¼€è¿™ä¸ªæ–‡ä»¶åŸå§‹é“¾æ¥ï¼Œä¸‹è½½åˆ°æœåŠ¡å™¨å»</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936505805351693650580144.png" alt="16936505805351693650580144.png"></p><p>å¾—åˆ°å¦‚ä¸‹é“¾æ¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://jihulab.com/james-curtis/skyline-apiserver/-/raw/master/etc/skyline.yaml.sample</span><br></pre></td></tr></table></figure><p> ç„¶åè¾“å…¥ä¸‹é¢å‘½ä»¤ï¼Œä¸‹è½½åˆ°æœ¬åœ°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir /etc/skyline &amp;&amp; wget https://jihulab.com/james-curtis/skyline-apiserver/-/raw/master/etc/skyline.yaml.sample  -O /etc/skyline/skyline.yaml</span><br></pre></td></tr></table></figure><h1 id="3-ç¼–è¾‘é…ç½®skyline-yaml"><a href="#3-ç¼–è¾‘é…ç½®skyline-yaml" class="headerlink" title="3. ç¼–è¾‘é…ç½®skyline.yaml"></a>3. ç¼–è¾‘é…ç½®skyline.yaml</h1><p>æ ¹æ®å®é™…çš„ç¯å¢ƒä¿®æ”¹ä»¥ä¸‹å‚æ•°</p><ul><li>database_url</li></ul><p> ä¿®æ”¹ä¸ºå¦‚ä¸‹ï¼Œæ³¨æ„ï¼šipæ˜¯æµ®åŠ¨IPï¼ŒSKYLINE_DBPASSè¿™ä¸ªæ˜¯æ•°æ®åº“ç”¨æˆ·å¯†ç  å¯ä»¥è‡ªå®šä¹‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">database_url: mysql://skyline:SKYLINE_DBPASS@10.10.1.250:3306/skyline</span><br></pre></td></tr></table></figure><ul><li>keystone_url</li></ul><p>å°† 127.0.0.1 ä¿®æ”¹ä¸ºæµ®åŠ¨IP</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">keystone_url: http://10.10.1.250:35357/v3/</span><br></pre></td></tr></table></figure><ul><li>prometheus_endpoint</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">prometheus_endpoint: http://10.10.1.250:9091</span><br></pre></td></tr></table></figure><ul><li>system_user_password</li></ul><p>è®¾ç½®ä½ çš„skylineå¯†ç </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">system_user_password: &#x27;SKYLINE_PASS&#x27;</span><br></pre></td></tr></table></figure><h1 id="4-é…ç½®æ•°æ®åº“"><a href="#4-é…ç½®æ•°æ®åº“" class="headerlink" title="4. é…ç½®æ•°æ®åº“"></a>4. é…ç½®æ•°æ®åº“</h1><h2 id="4-1-åˆ›å»º-skyline-æ•°æ®åº“"><a href="#4-1-åˆ›å»º-skyline-æ•°æ®åº“" class="headerlink" title="4.1 åˆ›å»º skyline æ•°æ®åº“"></a>4.1 åˆ›å»º skyline æ•°æ®åº“</h2><p>è¿›å…¥dockerç¯å¢ƒï¼Œå‘½ä»¤ï¼šdocker exec -it mariadb bash</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:~# docker exec -it mariadb bash</span><br><span class="line">(mariadb)[mysql@ubuntu /]$ </span><br></pre></td></tr></table></figure><p>è·å–mariadbå¯†ç </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/kolla/passwords.yml | grep ^database_password</span><br></pre></td></tr></table></figure><p>è¿æ¥mariadbï¼Œå‘½ä»¤ï¼šmysql -u root -p</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">(mariadb)[mysql@ubuntu /]$ mysql -u root -p</span><br><span class="line">Enter password: </span><br><span class="line">Welcome to the MariaDB monitor.  Commands end with ; or \g.</span><br><span class="line">Your MariaDB connection id is 6407</span><br><span class="line">Server version: 10.6.11-MariaDB-1:10.6.11+maria~ubu2004-log mariadb.org binary distribution</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.</span><br><span class="line"></span><br><span class="line">Type &#x27;help;&#x27; or &#x27;\h&#x27; for help. Type &#x27;\c&#x27; to clear the current input statement.</span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt; </span><br></pre></td></tr></table></figure><p>åˆ›å»ºæ•°æ®åº“</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABASE IF NOT EXISTS skyline DEFAULT CHARACTER SET utf8 DEFAULT COLLATE utf8_general_ci;</span><br></pre></td></tr></table></figure><h2 id="4-2-æˆäºˆå¯¹æ•°æ®åº“çš„é€‚å½“è®¿é—®æƒé™"><a href="#4-2-æˆäºˆå¯¹æ•°æ®åº“çš„é€‚å½“è®¿é—®æƒé™" class="headerlink" title="4.2 æˆäºˆå¯¹æ•°æ®åº“çš„é€‚å½“è®¿é—®æƒé™"></a>4.2 æˆäºˆå¯¹æ•°æ®åº“çš„é€‚å½“è®¿é—®æƒé™</h2><p>SKYLINE_DBPASSæ˜¯æ•°æ®åº“ç”¨æˆ·å¯†ç </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GRANT ALL PRIVILEGES ON skyline.* TO &#x27;skyline&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;SKYLINE_DBPASS&#x27;;</span><br><span class="line">GRANT ALL PRIVILEGES ON skyline.* TO &#x27;skyline&#x27;@&#x27;%&#x27;  IDENTIFIED BY &#x27;SKYLINE_DBPASS&#x27;;</span><br></pre></td></tr></table></figure><p>ä¹‹åæ¨å‡ºMariaDBç¯å¢ƒï¼Œè¾“å…¥exit</p><p>å†é€€å‡ºdockerç¯å¢ƒï¼Œè¾“å…¥exit</p><h2 id="5-åˆ›å»º-skyline-æœåŠ¡å‡­è¯"><a href="#5-åˆ›å»º-skyline-æœåŠ¡å‡­è¯" class="headerlink" title="5. åˆ›å»º skyline æœåŠ¡å‡­è¯"></a>5. åˆ›å»º skyline æœåŠ¡å‡­è¯</h2><p>å¦‚æœæ²¡æœ‰è¿›å…¥pythonè™šæ‹Ÿç¯å¢ƒï¼Œå…ˆæ¿€æ´»</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /path/to/venv/bin/activate</span><br></pre></td></tr></table></figure><p> ç„¶ååˆ›å»ºæœåŠ¡å‡­è¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">(venv) root@ubuntu:~# . /etc/kolla/admin-openrc.sh</span><br><span class="line">(venv) root@ubuntu:~# openstack user create --domain default --password SKYLINE_PASS skyline</span><br><span class="line">+---------------------+----------------------------------+</span><br><span class="line">| Field               | Value                            |</span><br><span class="line">+---------------------+----------------------------------+</span><br><span class="line">| domain_id           | default                          |</span><br><span class="line">| enabled             | True                             |</span><br><span class="line">| id                  | cef488018dd542d9b12a6260f1413194 |</span><br><span class="line">| name                | skyline                          |</span><br><span class="line">| options             | &#123;&#125;                               |</span><br><span class="line">| password_expires_at | None                             |</span><br><span class="line">+---------------------+----------------------------------+</span><br><span class="line">(venv) root@ubuntu:~# openstack role add --project service --user skyline admin</span><br><span class="line">(venv) root@ubuntu:~# </span><br></pre></td></tr></table></figure><h1 id="6-è¿è¡Œ-skyline-bootstrap-å®¹å™¨è¿›è¡Œåˆå§‹åŒ–å¼•å¯¼"><a href="#6-è¿è¡Œ-skyline-bootstrap-å®¹å™¨è¿›è¡Œåˆå§‹åŒ–å¼•å¯¼" class="headerlink" title="6. è¿è¡Œ skyline_bootstrap å®¹å™¨è¿›è¡Œåˆå§‹åŒ–å¼•å¯¼"></a>6. è¿è¡Œ skyline_bootstrap å®¹å™¨è¿›è¡Œåˆå§‹åŒ–å¼•å¯¼</h1><p>è¿™é‡Œæ³¨æ„ä½¿ç”¨æº</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># å®˜ç½‘å‘½ä»¤</span><br><span class="line"># docker run -d --name skyline_bootstrap -e KOLLA_BOOTSTRAP=&quot;&quot; -v /etc/skyline/skyline.yaml:/etc/skyline/skyline.yaml --net=host 99cloud/skyline:latest</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä½¿ç”¨å—äº¬å¤§å­¦çš„docker hubæº</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name skyline_bootstrap -e KOLLA_BOOTSTRAP=&quot;&quot; -v /etc/skyline/skyline.yaml:/etc/skyline/skyline.yaml --net=host docker.nju.edu.cn/99cloud/skyline:latest</span><br></pre></td></tr></table></figure><h1 id="7-åˆå§‹åŒ–å¼•å¯¼å®Œæˆåè¿è¡Œ-skyline-æœåŠ¡"><a href="#7-åˆå§‹åŒ–å¼•å¯¼å®Œæˆåè¿è¡Œ-skyline-æœåŠ¡" class="headerlink" title="7. åˆå§‹åŒ–å¼•å¯¼å®Œæˆåè¿è¡Œ skyline æœåŠ¡"></a>7. åˆå§‹åŒ–å¼•å¯¼å®Œæˆåè¿è¡Œ skyline æœåŠ¡</h1><p> åˆ é™¤å¼•å¯¼å®¹å™¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rm -f skyline_bootstrap</span><br></pre></td></tr></table></figure><p>è¿è¡Œ skyline æœåŠ¡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name skyline --restart=always -v /etc/skyline/skyline.yaml:/etc/skyline/skyline.yaml --net=host docker.nju.edu.cn/99cloud/skyline:latest</span><br></pre></td></tr></table></figure><hr><p>å®Œæˆã€‚</p><p>ç°åœ¨ä½ å¯ä»¥è®¿é—®ä»ªè¡¨ç›˜: https:&#x2F;&#x2F;&lt;æµ®åŠ¨ip&gt;:9999</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936505995351693650598690.png" alt="16936505995351693650598690.png"></p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936506075361693650606920.png" alt="16936506075361693650606920.png"></p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936506155351693650614565.png" alt="16936506155351693650614565.png"></p>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Qtä½¿ç”¨CMakeåœ¨Clionä¸­è¿è¡Œæ˜¾ç¤ºå‡ºçš„UIç•Œé¢çœ‹èµ·æ¥å¾ˆè€ï¼Œå¾ˆè¿‡æ—¶æ€ä¹ˆåŠï¼ŸCMakeä¸‹çš„Qtæ€ä¹ˆä½¿ç”¨SQLiteï¼Ÿ</title>
      <link href="/2022/what-should-i-do-if-the-ui-interface-displayed-when-qt-is-run-in-clion-using-cmake-looks-very-old-and-outdated-how-does-qt-under-cmake-use-sqlite/"/>
      <url>/2022/what-should-i-do-if-the-ui-interface-displayed-when-qt-is-run-in-clion-using-cmake-looks-very-old-and-outdated-how-does-qt-under-cmake-use-sqlite/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸€ã€é—®é¢˜æ¦‚è¿°"><a href="#ä¸€ã€é—®é¢˜æ¦‚è¿°" class="headerlink" title="ä¸€ã€é—®é¢˜æ¦‚è¿°"></a>ä¸€ã€é—®é¢˜æ¦‚è¿°</h1><p>å¦‚æœä½¿ç”¨Clioné»˜è®¤é…ç½®ç¼–è¯‘å‡ºæ¥çš„UIç•Œé¢çœ‹èµ·æ¥å¾ˆè€å¥—ï¼Œå°±åƒæ˜¯win2000çš„ç•Œé¢ã€‚ä½†æ˜¯å¦‚æœä½¿ç”¨Qt Creatorè¿è¡Œå°±æ²¡æœ‰é—®é¢˜ï¼Œæ˜¯ç°ä»£windowsçš„ç•Œé¢</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936509765371693650975967.png" alt="16936509765371693650975967.png"></p><h1 id="äºŒã€é—®é¢˜åŸå› "><a href="#äºŒã€é—®é¢˜åŸå› " class="headerlink" title="äºŒã€é—®é¢˜åŸå› "></a>äºŒã€é—®é¢˜åŸå› </h1><p>æœ€åç»è¿‡ä¸€ç•ªæœç´¢ï¼Œåœ¨stackoverflowä¸Šæ‰¾åˆ°äº†ç±»ä¼¼çš„é—®é¢˜ã€‚ä¸è¿‡æˆ‘è¿™é‡Œæä¾›ä¸€ä¸ªæ›´å¥½çš„è§£å†³æ–¹æ¡ˆã€‚</p><p>åŒ…æ‹¬SQLiteç­‰å…¶ä»–æ¨¡å—ä¼šæŠ¥é”™æ— æ³•åŠ è½½DLLé©±åŠ¨ï¼Œâ€œQSqlDatabase: QSQLITE driver not loadedâ€ï¼Œéƒ½ä¼šæ¶‰åŠåˆ°è¿™ä¸ªé—®é¢˜ï¼Œå°±æ˜¯ cmake-build-debug ç›®å½•ä¸‹çš„æ–‡ä»¶æ²¡æœ‰æ‹¿åˆ°Qtä¸­MinGWä¸‹çš„pluginsç›®å½•</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936509875381693650987433.png" alt="16936509875381693650987433.png"></p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936509955371693650995461.png" alt="16936509955371693650995461.png"></p><p> æ­¤æ—¶åªè¦æŠŠï¼ŒD:\Qt\Qt5.14.2\5.14.2\mingw73_64\pluginsç›®å½•ä¸‹çš„ä¸œè¥¿å¤åˆ¶åˆ°cmake-build-debugä¸‹é¢å°±å¯ä»¥äº†</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936510065371693651005841.png" alt="16936510065371693651005841.png"></p><p>ä¸è¿‡è¿™å¹¶ä¸èƒ½ä¸€åŠ³æ°¸é€¸ï¼Œé‡æ–°buildé¡¹ç›®ä¹‹åè¿˜æ˜¯éœ€è¦æ‰‹åŠ¨é…ç½® </p><h1 id="ä¸‰ã€è§£å†³æ–¹æ¡ˆ"><a href="#ä¸‰ã€è§£å†³æ–¹æ¡ˆ" class="headerlink" title="ä¸‰ã€è§£å†³æ–¹æ¡ˆ"></a>ä¸‰ã€è§£å†³æ–¹æ¡ˆ</h1><p>åœ¨CMakeLists.txtä¸­çš„if (WIN32)è¯­å¥æœ«å°¾ï¼Œæ·»åŠ ä¸‹é¢ä¸¤è¡Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">add_custom_command(TARGET $&#123;PROJECT_NAME&#125; POST_BUILD</span><br><span class="line">        COMMAND $&#123;CMAKE_COMMAND&#125; -E copy_directory &quot;$&#123;QT_INSTALL_PATH&#125;/plugins/&quot; &quot;$&lt;TARGET_FILE_DIR:$&#123;PROJECT_NAME&#125;&gt;/&quot;)</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936510165371693651016389.png" alt="16936510165371693651016389.png"></p><p> æ­¤æ—¶é‡æ–°buildé¡¹ç›®å†è¿è¡Œçš„æ—¶å€™ä¼šè‡ªåŠ¨æ£€æŸ¥å¯¹åº”çš„pluginsæ˜¯å¦å­˜åœ¨</p>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>chromeæµè§ˆå™¨ firefoxæµè§ˆå™¨æŒ‡å®šå‡ºå£ç½‘å¡è¿›è¡Œä¸Šç½‘ åŒç½‘å¡ä¸Šç½‘æ€ä¹ˆé…ç½®</title>
      <link href="/2022/chrome-browser-and-firefox-browser-specify-the-export-network-card-for-internet-access-how-to-configure-dual-network-card-for-internet-access/"/>
      <url>/2022/chrome-browser-and-firefox-browser-specify-the-export-network-card-for-internet-access-how-to-configure-dual-network-card-for-internet-access/</url>
      
        <content type="html"><![CDATA[<p>èƒŒæ™¯ï¼šå¼ºåˆ¶åº”ç”¨ç¨‹åºä½¿ç”¨ç‰¹å®šçš„ç½‘ç»œæ¥å£</p><p>æˆ‘æ­£åœ¨ä½¿ç”¨å¤šä¸ªç½‘ç»œæ¥å£ï¼ˆLAN å’Œæ— çº¿ï¼‰ï¼Œå¹¶ä¸”æˆ‘æ³¨æ„åˆ°æœ‰ä¸€ç§æ–¹æ³•(windowsä¸‹çš„è·ƒç‚¹æ•°)å¯ä»¥æ›´æ”¹é¦–é€‰æ¥å£çš„é¡ºåºã€‚æˆ‘å¦‚ä½•ä½¿ç”¨æœ‰çº¿ç½‘ç»œï¼ˆå®‰å…¨åœ°ï¼‰å·¥ä½œã€æ£€æŸ¥ç”µå­é‚®ä»¶ç­‰ï¼Œå¹¶ä½¿ç”¨æ— çº¿ VLAN è®¿é—®å…¶ä»–ä¸œè¥¿ï¼Ÿ</p><p>å¼€é—¨è§å±±ï¼Œéœ€è¦ç”¨åˆ°çš„å·¥å…·æœ‰ForceBindIP-Guiå’ŒForceBindIP</p><p>å…¶ä¸­ForceBindIP-Guiçš„ä¸‹è½½åœ°å€åœ¨è¿™é‡Œï¼š<a href="https://github.com/mhasanjb/ForceBindIP-Gui">mhasanjb&#x2F;ForceBindIP-Gui: A GUI For ForceBindIP (github.com)</a></p><p>ä½¿ç”¨æ–¹æ³•ï¼š</p><ol><li>chromeæµè§ˆå™¨</li></ol><p>è¿™ä¸ªæ ¹æ®readmeçš„è¯´æ˜ï¼Œå¥½åƒåªæœ‰è€ç‰ˆæœ¬æ‰èƒ½ç”¨äº†ï¼Œç°åœ¨æœ€æ–°çš„chromeç‰ˆæœ¬éƒ½100+</p><ol start="2"><li>firefoxæµè§ˆå™¨</li></ol><p>Firefox éœ€è¦å°† about:config?filter&#x3D;browser.launcherProcess.enabled é¦–é€‰é¡¹è®¾ç½®ä¸º falseï¼Œå¦åˆ™ ForceBindIP ä¼šé™„åŠ åˆ°å¯åŠ¨å™¨è€Œä¸æ˜¯å®é™…ç¨‹åºã€‚</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936512345391693651233887.png" alt="16936512345391693651233887.png"></p><p>é€‰æ‹©å‡ºå£ç½‘å¡å’ŒæŒ‡å®šç¨‹åºï¼Œç‚¹å‡»run applicationå³å¯</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936512455351693651245225.png" alt="16936512455351693651245225.png"></p><p> æ•ˆæœ</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936512565411693651256481.png" alt="16936512565411693651256481.png"></p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936512665391693651266038.png" alt="16936512665391693651266038.png"></p>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>viteä½¿ç”¨monaco-editoræ±‰åŒ–ï¼Œvue reactæ€ä¹ˆè®¾ç½®monaco-editorä¸­æ–‡</title>
      <link href="/2022/vite-uses-monaco-editor-chinese-how-does-vue-react-set-monaco-editor-chinese/"/>
      <url>/2022/vite-uses-monaco-editor-chinese-how-does-vue-react-set-monaco-editor-chinese/</url>
      
        <content type="html"><![CDATA[<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ’ä»¶è¿›è¡Œæ±‰åŒ–ï¼Œvite-plugin-monaco-editor-nls</p><p>ä¸è¿‡åœ¨æˆ‘ä½¿ç”¨çš„æ—¶å€™å¹¶æ²¡æœ‰æ±‰åŒ–æˆåŠŸï¼Œå‘ç°è¿™ä¸ªå·²ç»æ˜¯å¾ˆè€çš„åŒ…äº†ã€‚</p><p>äºæ˜¯è‡ªå·±ä¿®å¤äº†ä¸€ä¸‹prç»™ä½œè€…äº†</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936513475351693651346745.png" alt="16936513475351693651346745.png"></p><h1 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm add -D vite-plugin-monaco-editor-nls</span><br></pre></td></tr></table></figure><p>ç„¶åå®‰è£…è¯­è¨€åŒ…ã€‚ç”±äºæ’ä»¶è‡ªå¸¦çš„è¯­è¨€åŒ…å·²ç»å¾ˆè€çš„ï¼Œæ‰€ä»¥è¦å®‰è£…å®˜æ–¹æœ€æ–°çš„è¯­è¨€åŒ…ã€‚</p><p>ä½†æ˜¯å®˜æ–¹çš„è¯­è¨€åŒ…å¹¶æ²¡æœ‰æä¾›npmåŒ…ã€‚æ‰€ä»¥åªèƒ½å®‰è£…githubä»“åº“é“¾æ¥äº†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm add -D git+https://github.com/microsoft/vscode-loc.git</span><br></pre></td></tr></table></figure><blockquote><p>è¿™æ¡å‘½ä»¤æˆ‘åªå®‰è£…æˆåŠŸè¿‡ä¸€æ¬¡ã€‚åé¢å…¨éƒ¨éƒ½æ˜¯å¤±è´¥ã€‚é…ç½®å„ç§ä»£ç†ï¼Œæ­»æ´»ä¸‹è½½ä¸è¿‡æ¥ã€‚æœ€åæ²¡åŠæ³•åªèƒ½ä¸­è½¬ä¸€ä¸‹ã€‚ç”¨gitlabç»™cloneè¿‡æ¥ï¼ˆä¸å¾—ä¸è¯´ç äº‘çœŸçš„å‘ï¼Œå…‹éš†è¿™ä¸ªä»“åº“ä¸ç»™æ”¹å…¬å¼€æƒé™ï¼‰</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm add -D git+https://jihulab.com/james-curtis/vscode-loc</span><br></pre></td></tr></table></figure><p> ç„¶åé…ç½®ä¸€ä¸‹vite.config.tså°±å¤§åŠŸå‘Šæˆäº†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">import reactRefresh from &#x27;@vitejs/plugin-react-refresh&#x27;;</span><br><span class="line">import &#123;resolve&#125; from &#x27;path&#x27;;</span><br><span class="line">import &#123;defineConfig&#125; from &#x27;vite&#x27;;</span><br><span class="line">import MonacoEditorNlsPlugin, &#123;</span><br><span class="line">    esbuildPluginMonacoEditorNls,</span><br><span class="line">    Languages,</span><br><span class="line">&#125; from &#x27;vite-plugin-monaco-editor-nls&#x27;;</span><br><span class="line">import Inspect from &#x27;vite-plugin-inspect&#x27;;</span><br><span class="line"></span><br><span class="line">const zh_CN = require(&#x27;vscode-loc.git/i18n/vscode-language-pack-zh-hans/translations/main.i18n.json&#x27;)</span><br><span class="line"></span><br><span class="line">// https://vitejs.dev/config/</span><br><span class="line">export default defineConfig(&#123;</span><br><span class="line">    base: &#x27;./&#x27;,</span><br><span class="line">    resolve: &#123;</span><br><span class="line">        alias: &#123;</span><br><span class="line">            &#x27;@&#x27;: resolve(&#x27;./src&#x27;),</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    build: &#123;</span><br><span class="line">        sourcemap: true,</span><br><span class="line">    &#125;,</span><br><span class="line">    optimizeDeps: &#123;</span><br><span class="line">        /** vite ç‰ˆæœ¬éœ€è¦å¤§äºç­‰äº2.3.0 */</span><br><span class="line">        esbuildOptions: &#123;</span><br><span class="line">            plugins: [</span><br><span class="line">                esbuildPluginMonacoEditorNls(&#123;</span><br><span class="line">                    locale: Languages.zh_hans,</span><br><span class="line">                    /**</span><br><span class="line">                     * The weight of `localedata` is higher than that of `locale`</span><br><span class="line">                     */</span><br><span class="line">                    localeData: zh_CN.contents</span><br><span class="line">                &#125;),</span><br><span class="line">            ],</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    plugins: [</span><br><span class="line">        reactRefresh(),</span><br><span class="line">        Inspect(),</span><br><span class="line">        MonacoEditorNlsPlugin(&#123;</span><br><span class="line">            locale: Languages.zh_hans,</span><br><span class="line">            /**</span><br><span class="line">             * The weight of `localedata` is higher than that of `locale`</span><br><span class="line">             */</span><br><span class="line">            localeData: zh_CN.contents</span><br><span class="line">        &#125;),</span><br><span class="line">    ],</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>vue3 viteæ‰“åŒ…monaco-editorå‡ºç°å¾ˆå¤šä¸éœ€è¦çš„è¯­è¨€æ–‡ä»¶ï¼Œæ‰“åŒ…æ–‡ä»¶å¾ˆæ··ä¹±ã€‚vite vue3ä½¿ç”¨monaco-editoræ€ä¹ˆç²¾ç®€ä¼˜åŒ–</title>
      <link href="/2022/when-vue3-vite-packages-monaco-editor-there-are-many-unnecessary-language-files-and-the-packaged-files-are-very-confusing-how-to-simplify-and-optimize-vite-vue3-using-monaco-editor/"/>
      <url>/2022/when-vue3-vite-packages-monaco-editor-there-are-many-unnecessary-language-files-and-the-packaged-files-are-very-confusing-how-to-simplify-and-optimize-vite-vue3-using-monaco-editor/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¼˜åŒ–æ–¹æ³•"><a href="#ä¼˜åŒ–æ–¹æ³•" class="headerlink" title="ä¼˜åŒ–æ–¹æ³•"></a>ä¼˜åŒ–æ–¹æ³•</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import * as monaco from &#x27;monaco-editor&#x27;;</span><br><span class="line">// or import * as monaco from &#x27;monaco-editor/esm/vs/editor/editor.api&#x27;;</span><br><span class="line">// if shipping only a subset of the features &amp; languages is desired</span><br><span class="line"></span><br><span class="line">monaco.editor.create(document.getElementById(&#x27;container&#x27;), &#123;</span><br><span class="line">value: &#x27;console.log(&quot;Hello, world&quot;)&#x27;,</span><br><span class="line">language: &#x27;javascript&#x27;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>.åªéœ€è¦æŠŠ</p><blockquote><p>import * as Monaco from â€˜monaco-editorâ€™</p></blockquote><p>æ¢æˆ</p><blockquote><p>import * as Monaco from â€˜monaco-editor&#x2F;esm&#x2F;vs&#x2F;editor&#x2F;editor.apiâ€™</p></blockquote><p>å³å¯</p><p>æ–¹æ³•å‡ºå¤„ï¼š[<a href="https://github.com/microsoft/monaco-editor/tree/main/webpack-plugin#:~:text=if%20shipping%20only%20a%20subset%20of%20the%20features%20%26%20languages%20is%20desired]">https://github.com/microsoft/monaco-editor/tree/main/webpack-plugin#:~:text=if%20shipping%20only%20a%20subset%20of%20the%20features%20%26%20languages%20is%20desired]</a>(<a href="https://github.com/microsoft/monaco-editor/tree/main/webpack-plugin#:~:text=if">https://github.com/microsoft/monaco-editor/tree/main/webpack-plugin#:~:text=if</a> shipping only a subset of the features %26 languages is desired) </p><h1 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h1><blockquote><p>æ ¹æ®å®˜æ–¹æ–‡æ¡£æè¿°</p><p>By default, all languages shipped with the monaco-editor will be included.</p><p>é»˜è®¤æƒ…å†µä¸‹monaco-editorä¼šåŒ…å«æ‰€æœ‰çš„è¯­è¨€æ–‡ä»¶</p></blockquote><h1 id="ä¼˜åŒ–å‰æ•ˆæœ"><a href="#ä¼˜åŒ–å‰æ•ˆæœ" class="headerlink" title="ä¼˜åŒ–å‰æ•ˆæœ"></a>ä¼˜åŒ–å‰æ•ˆæœ</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line">&gt; vite build --config ./config/vite.config.prod.ts</span><br><span class="line"></span><br><span class="line">vite v3.0.4 building for production...                                                                                                                                                                                     12:23:56</span><br><span class="line">âœ“ 160 modules transformed.                                                                                                                                                                                                 12:24:35</span><br><span class="line">âœ“ 183 modules transformed.                                                                                                                                                                                                 12:24:36</span><br><span class="line">âœ“ 186 modules transformed.                                                                                                                                                                                                 12:24:41</span><br><span class="line">âœ“ 187 modules transformed.                                                                                                                                                                                                 12:24:42</span><br><span class="line">âœ“ 229 modules transformed.                                                                                                                                                                                                 12:24:46</span><br><span class="line">âœ“ 6391 modules transformed.                                                                                                                                                                                                12:25:13</span><br><span class="line">dist/assets/logo.b4229389.svg              20.28 KiB                                                                                                                                                                       12:25:18</span><br><span class="line">dist/assets/codicon.c99115f8.ttf           69.12 KiB                                                                                                                                                                       12:25:18</span><br><span class="line">dist/assets/editor.worker.55353356.js      166.90 KiB                                                                                                                                                                      12:25:18  </span><br><span class="line">dist/assets/json.worker.2be2570f.js        292.56 KiB                                                                                                                                                                      12:25:18  </span><br><span class="line">dist/assets/html.worker.3376e5b8.js        602.41 KiB                                                                                                                                                                      12:25:18  </span><br><span class="line">dist/assets/css.worker.1bba75ea.js         901.06 KiB                                                                                                                                                                      12:25:18  </span><br><span class="line">dist/assets/ts.worker.9acd5107.js          4777.10 KiB                                                                                                                                                                     12:25:18  </span><br><span class="line">dist/index.html                            0.68 KiB                                                                                                                                                                        12:25:18  </span><br><span class="line">dist/assets/azcli.4c9b6b47.js              1.07 KiB / gzip: 0.45 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/bat.8a420ace.js                2.04 KiB / gzip: 0.98 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/bicep.5032e09b.js              2.72 KiB / gzip: 1.08 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/apex.4a5ec4a4.js               4.10 KiB / gzip: 1.86 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/cameligo.00bc63f8.js           2.37 KiB / gzip: 1.07 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/coffee.54897858.js             3.75 KiB / gzip: 1.41 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/cpp.337468ce.js                5.56 KiB / gzip: 2.20 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/csp.aec2811b.js                1.63 KiB / gzip: 0.65 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/csharp.01a8eaa8.js             4.66 KiB / gzip: 1.82 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/css.4c22ed20.js                4.64 KiB / gzip: 1.48 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/dockerfile.de6a0f2c.js         2.07 KiB / gzip: 0.79 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/abap.6ba285e6.js               14.07 KiB / gzip: 5.34 KiB                                                                                                                                                      12:25:18  </span><br><span class="line">dist/assets/dart.50deccbd.js               4.39 KiB / gzip: 1.73 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/flow9.c44e3f2e.js              2.01 KiB / gzip: 0.96 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/clojure.bc79377e.js            9.66 KiB / gzip: 3.65 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/ecl.19ccc34b.js                5.46 KiB / gzip: 2.33 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/elixir.a6460ae7.js             9.77 KiB / gzip: 2.55 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/fsharp.d9204eef.js             3.15 KiB / gzip: 1.42 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/go.1e1292ae.js                 2.83 KiB / gzip: 1.25 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/graphql.900d9927.js            2.45 KiB / gzip: 1.13 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/handlebars.37474df0.js         6.85 KiB / gzip: 1.69 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/ini.75848fa5.js                1.32 KiB / gzip: 0.66 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/hcl.c0959a07.js                3.75 KiB / gzip: 1.58 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/html.b86df8d8.js               4.96 KiB / gzip: 1.46 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/javascript.cec1b257.js         1.15 KiB / gzip: 0.60 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/java.13c44e5c.js               3.39 KiB / gzip: 1.50 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/freemarker2.23a5c729.js        15.95 KiB / gzip: 4.15 KiB                                                                                                                                                      12:25:18  </span><br><span class="line">dist/assets/typescript.f4b5ff31.js         5.50 KiB / gzip: 2.21 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/kotlin.3399aeb6.js             3.60 KiB / gzip: 1.57 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/lexon.44f813b3.js              2.62 KiB / gzip: 1.04 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/julia.21f68d09.js              7.29 KiB / gzip: 2.69 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/less.b6aad23a.js               4.04 KiB / gzip: 1.52 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/lua.bbdfa9c0.js                2.31 KiB / gzip: 1.04 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/mips.148d2978.js               2.76 KiB / gzip: 1.19 KiB                                                                                                                                                       12:25:18</span><br><span class="line">dist/assets/m3.92f755b1.js                 2.99 KiB / gzip: 1.41 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/markdown.236ff8ef.js           3.94 KiB / gzip: 1.48 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/liquid.c200d198.js             4.10 KiB / gzip: 1.74 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/objective-c.67633c2a.js        2.59 KiB / gzip: 1.17 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/pascaligo.1c7de3c7.js          2.19 KiB / gzip: 1.03 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/msdax.f39564e2.js              5.04 KiB / gzip: 2.05 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/pascal.c9d19959.js             3.17 KiB / gzip: 1.50 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/pla.c3f817e8.js                1.88 KiB / gzip: 0.77 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/perl.140c1c72.js               8.30 KiB / gzip: 3.16 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/php.a9540a84.js                8.08 KiB / gzip: 2.15 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/mysql.fdc04fe1.js              11.23 KiB / gzip: 4.09 KiB                                                                                                                                                      12:25:18  </span><br><span class="line">dist/assets/powershell.d93de61d.js         3.43 KiB / gzip: 1.47 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/pgsql.1a3b46c8.js              13.33 KiB / gzip: 4.50 KiB                                                                                                                                                      12:25:18  </span><br><span class="line">dist/assets/postiats.8064247a.js           7.91 KiB / gzip: 2.49 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/protobuf.0ea0cf3d.js           9.07 KiB / gzip: 2.15 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/python.ae9bd45d.js             3.74 KiB / gzip: 1.66 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/pug.03a3b993.js                4.96 KiB / gzip: 1.74 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/r.1e4576a7.js                  3.30 KiB / gzip: 1.39 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/qsharp.c08b4fea.js             3.10 KiB / gzip: 1.46 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/powerquery.bc98d188.js         16.78 KiB / gzip: 4.88 KiB                                                                                                                                                      12:25:18  </span><br><span class="line">dist/assets/restructuredtext.992abef6.js   4.04 KiB / gzip: 1.46 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/redis.8da5f515.js              3.71 KiB / gzip: 1.58 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/sb.e7ab3b92.js                 2.03 KiB / gzip: 0.94 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/rust.349e1143.js               4.30 KiB / gzip: 1.91 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/razor.12f90da6.js              8.80 KiB / gzip: 2.35 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/scheme.d835dccb.js             1.97 KiB / gzip: 0.93 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/ruby.71d129bb.js               8.54 KiB / gzip: 2.64 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/scala.ef542eb6.js              7.39 KiB / gzip: 2.17 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/shell.4305d323.js              3.24 KiB / gzip: 1.31 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/sophia.69f82176.js             2.94 KiB / gzip: 1.31 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/scss.19caa34f.js               6.50 KiB / gzip: 1.84 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/st.3f9156a8.js                 7.46 KiB / gzip: 2.31 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/sql.5f2f7ebd.js                10.30 KiB / gzip: 3.89 KiB                                                                                                                                                      12:25:18  </span><br><span class="line">dist/assets/swift.575aa114.js              5.29 KiB / gzip: 2.15 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/sparql.1dcfd6e8.js             2.73 KiB / gzip: 1.27 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/tcl.50105b28.js                3.73 KiB / gzip: 1.47 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/redshift.4a60845d.js           11.76 KiB / gzip: 4.35 KiB                                                                                                                                                      12:25:18  </span><br><span class="line">dist/assets/solidity.212cde55.js           18.40 KiB / gzip: 4.48 KiB                                                                                                                                                      12:25:18  </span><br><span class="line">dist/assets/xml.4337ae7f.js                2.59 KiB / gzip: 1.06 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/twig.74745959.js               6.07 KiB / gzip: 1.62 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/systemverilog.a897e382.js      7.67 KiB / gzip: 2.82 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/yaml.7d8c6ae6.js               3.70 KiB / gzip: 1.33 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/vb.42b9f30d.js                 5.90 KiB / gzip: 2.14 KiB                                                                                                                                                       12:25:18  </span><br><span class="line">dist/assets/tsMode.b126b833.js             21.74 KiB / gzip: 6.27 KiB                                                                                                                                                      12:25:18  </span><br><span class="line">dist/assets/htmlMode.75dc5775.js           33.40 KiB / gzip: 8.79 KiB                                                                                                                                                      12:25:18  </span><br><span class="line">dist/assets/cssMode.64adcf2e.js            32.66 KiB / gzip: 8.65 KiB                                                                                                                                                      12:25:18  </span><br><span class="line">dist/assets/jsonMode.1a7b82cd.js           38.76 KiB / gzip: 10.77 KiB                                                                                                                                                     12:25:18  </span><br><span class="line">dist/assets/monaco.d7562f15.css            79.13 KiB / gzip: 13.34 KiB                                                                                                                                                     12:25:18  </span><br><span class="line">dist/assets/index.2d7343dc.js              161.36 KiB / gzip: 54.37 KiB                                                                                                                                                    12:25:18  </span><br><span class="line">dist/assets/index.1da917fa.css             355.96 KiB / gzip: 74.46 KiB                                                                                                                                                    12:25:18  </span><br><span class="line">dist/assets/core.8989ee89.js               539.72 KiB / gzip: 180.41 KiB                                                                                                                                                   12:25:18</span><br><span class="line">dist/assets/monaco.5273bca9.js             2600.87 KiB / gzip: 659.07 KiB                                                                                                                                                  12:25:18</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ä¸€å¨çš„è¯­è¨€éƒ½è¢«æ‰“åŒ…è¿›å»äº†ï¼Œä¸ç®¡æœ‰æ²¡æœ‰ç”¨åˆ°éƒ½åœ¨é‡Œé¢</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936514285391693651428183.png" alt="16936514285391693651428183.png"></p><h1 id="ä¼˜åŒ–åæ•ˆæœ"><a href="#ä¼˜åŒ–åæ•ˆæœ" class="headerlink" title="ä¼˜åŒ–åæ•ˆæœ"></a>ä¼˜åŒ–åæ•ˆæœ</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&gt; vite build --config ./config/vite.config.prod.ts</span><br><span class="line"></span><br><span class="line">vite v3.0.4 building for production...                                                                                                                                                                                     12:15:43</span><br><span class="line">âœ“ 160 modules transformed.                                                                                                                                                                                                 12:16:21</span><br><span class="line">âœ“ 185 modules transformed.                                                                                                                                                                                                 12:16:23</span><br><span class="line">âœ“ 186 modules transformed.                                                                                                                                                                                                 12:16:24</span><br><span class="line">âœ“ 187 modules transformed.                                                                                                                                                                                                 12:16:24</span><br><span class="line">âœ“ 229 modules transformed.                                                                                                                                                                                                 12:16:33</span><br><span class="line">âœ“ 6009 modules transformed.                                                                                                                                                                                                12:16:55</span><br><span class="line">dist/assets/logo.b4229389.svg           20.28 KiB                                                                                                                                                                          12:17:04</span><br><span class="line">dist/assets/codicon.c99115f8.ttf        69.12 KiB                                                                                                                                                                          12:17:04</span><br><span class="line">dist/assets/editor.worker.55353356.js   166.90 KiB                                                                                                                                                                         12:17:04  </span><br><span class="line">dist/assets/json.worker.2be2570f.js     292.56 KiB                                                                                                                                                                         12:17:04  </span><br><span class="line">dist/assets/html.worker.3376e5b8.js     602.41 KiB                                                                                                                                                                         12:17:04  </span><br><span class="line">dist/assets/css.worker.1bba75ea.js      901.06 KiB                                                                                                                                                                         12:17:04  </span><br><span class="line">dist/assets/ts.worker.9acd5107.js       4777.10 KiB                                                                                                                                                                        12:17:04  </span><br><span class="line">dist/index.html                         0.68 KiB                                                                                                                                                                           12:17:04  </span><br><span class="line">dist/assets/monaco.16ea583f.css         79.13 KiB / gzip: 13.36 KiB                                                                                                                                                        12:17:04  </span><br><span class="line">dist/assets/index.f40ca15f.js           161.36 KiB / gzip: 54.37 KiB                                                                                                                                                       12:17:04  </span><br><span class="line">dist/assets/index.1da917fa.css          355.96 KiB / gzip: 74.46 KiB                                                                                                                                                       12:17:04  </span><br><span class="line">dist/assets/core.8989ee89.js            539.72 KiB / gzip: 180.41 KiB                                                                                                                                                      12:17:04</span><br><span class="line">dist/assets/monaco.5c75dc57.js          1730.89 KiB / gzip: 440.94 KiB                                                                                                                                                     12:17:04</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936514445371693651443998.png" alt="16936514445371693651443998.png"></p>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>arco designä½¿ç”¨vite-plugin-style-importæŒ‰éœ€åŠ è½½menu-item æŠ¥é”™ cssæœªæ‰¾åˆ°</title>
      <link href="/2022/arco-design-uses-vite-plugin-style-import-to-load-menu-item-on-demand-and-reports-an-error-css-not-found/"/>
      <url>/2022/arco-design-uses-vite-plugin-style-import-to-load-menu-item-on-demand-and-reports-an-error-css-not-found/</url>
      
        <content type="html"><![CDATA[<p> æ ¹æ®å®˜ç½‘arco designæ•™ç¨‹</p><blockquote><p>æ‰‹åŠ¨å¯¼å…¥çš„æ–¹å¼æŒ‰éœ€åŠ è½½ç»„ä»¶</p></blockquote><p>è§£å†³æ–¹æ¡ˆï¼š</p><p>å°†å®˜ç½‘ç¤ºä¾‹æ”¹æˆå¦‚ä¸‹ï¼Œexcludeæ•°ç»„æ˜¯æ²¡æœ‰cssçš„ç»„ä»¶åç§°ã€‚å¦‚æœä¸æ¸…æ¥šç»„ä»¶åç§°å¯ä»¥åœ¨resolveStyleå‡½æ•°ä¸­console.logæ‰“å°ä¸€ä¸‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">createStyleImportPlugin</span>(&#123;</span><br><span class="line">      <span class="attr">libs</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">libraryName</span>: <span class="string">&#x27;@arco-design/web-vue&#x27;</span>,</span><br><span class="line">          <span class="attr">esModule</span>: <span class="literal">true</span>,</span><br><span class="line">          <span class="attr">resolveStyle</span>: <span class="function">(<span class="params">name</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> exclude = [<span class="string">&#x27;menu-item&#x27;</span>]</span><br><span class="line">            <span class="keyword">if</span> (exclude.<span class="title function_">includes</span>(name)) <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">            <span class="comment">// css</span></span><br><span class="line">            <span class="keyword">return</span> <span class="string">`@arco-design/web-vue/es/<span class="subst">$&#123;name&#125;</span>/style/css.js`</span></span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">      ],</span><br><span class="line">    &#125;),</span><br></pre></td></tr></table></figure><p>æŠ¥é”™ä¿¡æ¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[vite] Internal server error: Failed to resolve import &quot;D:/Programing/WebstormProjects/cow-Low-code/node_modules/@arco-design/web-vue/es/menu-item/style/css.js&quot; from &quot;src\views\HomeView.vue&quot;. Does the file exist?</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936515375371693651537473.png" alt="16936515375371693651537473.png"></p>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Nahimicåº”ç”¨ç¨‹åºåˆå§‹åŒ–å¤±è´¥</title>
      <link href="/2022/nahimic-application-failed-to-initialize/"/>
      <url>/2022/nahimic-application-failed-to-initialize/</url>
      
        <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936520965351693652095528.png" alt="16936520965351693652095528.png"></p><p>æ•…éšœæ˜¾ç¤ºå¦‚ä¸Šï¼š</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936521305381693652129574.png" alt="16936521305381693652129574.png"></p><p>è”æƒ³æœåŠ¡é‚£è¾¹æ‰¾åˆ° â€œRealtek Audio driver å£°å¡é©±åŠ¨â€</p><p>ä¸‹è½½ä¹‹åæ‰“å¼€ï¼Œä¸ç”¨å®‰è£…ç›´æ¥è§£å‹å°±å¥½äº†</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936521385351693652138042.png" alt="16936521385351693652138042.png"></p><p>æ‰¾åˆ°è§£å‹ç›®å½•ä¸‹é¢çš„</p><p>â€œSource\Thirdparty\Nahamic_831wâ€</p><p>åœ¨æˆ‘è¿™é‡Œæˆ‘çš„å®Œæ•´è·¯å¾„æ˜¯</p><p>â€œC:\Drivers\Realtek Audio Driver\20222507.19325299\Source\Thirdparty\Nahamic_831wâ€</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936521465351693652145762.png" alt="16936521465351693652145762.png"></p><p> è¿è¡Œä¸€ä¸‹è¿™ä¸ªä¿®å¤ç¨‹åº</p><p>â€œLenovo-NahimicRestoreTool-APO4-SWCv4.5.0.0-EXTv1.1.7.0.exeâ€</p><p>è¿è¡Œå®Œæˆä¹‹åä¼šæç¤ºé‡å¯ï¼Œé€‰æ‹©ä¸é‡å¯ã€‚</p><p>æ­¤æ—¶å¯ä»¥æ­£å¸¸æ‰“å¼€Nahimicå¹¶ä½¿ç”¨ï¼Œä¸”æœ‰æ•ˆæœã€‚ä½†æ˜¯é‡å¯ä¹‹ååˆå‡ºç°æ•…éšœäº†</p><p>è¿™ä¸ªæ—¶å€™çœ‹ä¸€ä¸‹Nahimicçš„æœåŠ¡å¯åŠ¨äº†æ²¡æœ‰</p><p>æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ï¼Œåˆ‡æ¢åˆ°æœåŠ¡é€‰é¡¹å¡ï¼ŒæŒ‰ä¸€ä¸‹é”®ç›˜çš„Nä¼šè‡ªåŠ¨è·³åˆ°Nå¼€å¤´çš„æœåŠ¡ä¸Šé¢ï¼Œæ‰¾åˆ°â€œNahimicServiceâ€</p><p>å‘ç°å¹¶æ²¡æœ‰å¯åŠ¨æœåŠ¡</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936521565351693652155665.png" alt="16936521565351693652155665.png"></p><p> é‚£ä¹ˆå°±æ‰¾åˆ°åŸå› äº†ã€‚ç°åœ¨å³é”®è¿™ä¸ªæœåŠ¡ï¼Œé€‰æ‹©æ‰“å¼€æœåŠ¡</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936521665351693652165846.png" alt="16936521665351693652165846.png"></p><p>åœ¨å¼¹å‡ºçš„çª—å£ä¸­æ‰¾åˆ°åŒåçš„æœåŠ¡ </p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936521765351693652176279.png" alt="16936521765351693652176279.png"></p><p> æŠŠåŸæœ¬çš„ç¦ç”¨æ”¹æˆâ€œè‡ªåŠ¨(å»¶è¿Ÿå¯åŠ¨)â€</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936521845391693652183779.png" alt="16936521845391693652183779.png"></p><p> ç„¶åå†å³é”®ç‚¹å‡»å¯åŠ¨å°±å®Œæˆäº†</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936521995341693652199139.png" alt="16936521995341693652199139.png"></p><p>æ­¤æ—¶é‡å¯ç”µè„‘ä¹Ÿæ˜¯ä¸€æ ·å¯ä»¥ç”¨çš„ </p>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>NVIDIA broadcast Appç‚¹å‡»é€‰æ‹©éº¦å…‹æºæ—¶å€™é—ªé€€ å´©æºƒæ€ä¹ˆè§£å†³</title>
      <link href="/2022/nvidia-broadcast-app-crashes-when-clicking-to-select-microphone-source-how-to-solve-the-crash/"/>
      <url>/2022/nvidia-broadcast-app-crashes-when-clicking-to-select-microphone-source-how-to-solve-the-crash/</url>
      
        <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936522995391693652298666.png" alt="16936522995391693652298666.png"> </p><p> ä¸€ç‚¹å‡»éº¦å…‹é£æºå°±ä¼šå´©æºƒçš„è§£å†³åŠæ³•</p><p> è¿›å…¥å£°éŸ³è®¾ç½®ï¼ŒæŠŠä¸éœ€è¦çš„éº¦å…‹é£å’Œè™šæ‹Ÿéº¦å…‹é£å…¨éƒ¨ç¦ç”¨äº†ï¼Œåªç•™ç‰©ç†éº¦å…‹é£ï¼Œç„¶ååœ¨ä¸€ä¸ªä¸ªæ‰“å¼€æ’æŸ¥ä¸€ä¸‹æ˜¯å“ªä¸ªéº¦å…‹é£çš„é—®é¢˜å³åˆ»</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936523065391693652306277.png" alt="16936523065391693652306277.png"></p><p>ç¦ç”¨ä¹‹å</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936523145351693652313727.png" alt="16936523145351693652313727.png"></p>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>element-plusæ‰“å¼€Dialogã€å›¾ç‰‡é¢„è§ˆå¯¼è‡´é¡µé¢æŠ–åŠ¨</title>
      <link href="/2022/element-plus-opens-dialog-image-preview-causes-page-shake/"/>
      <url>/2022/element-plus-opens-dialog-image-preview-causes-page-shake/</url>
      
        <content type="html"><![CDATA[<h4 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h4><p>ä½¿ç”¨<code>el-scollbar</code>ç»„ä»¶æ›¿ä»£æµè§ˆå™¨åœ¨bodyä¸Šçš„æ»šåŠ¨æ¡<br>åœ¨<code>App.vue</code>ä¸­å¥—ä¸Šè¿™ä¸ªç»„ä»¶ï¼Œæ‰€æœ‰é¡µé¢éƒ½æ˜¾ç¤ºåœ¨<code>RouterView</code>é‡Œé¢</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936523905371693652389843.png" alt="16936523905371693652389843.png"></p><h4 id="æŠ–åŠ¨æƒ…å†µï¼š"><a href="#æŠ–åŠ¨æƒ…å†µï¼š" class="headerlink" title="æŠ–åŠ¨æƒ…å†µï¼š"></a>æŠ–åŠ¨æƒ…å†µï¼š</h4><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936525975351fb2326de60440c09eaa21600c0e57c2.gif" alt="16936525975351fb2326de60440c09eaa21600c0e57c2.gif"></p><p>ä½†æ˜¯å‘ç°element-pluså®˜æ–¹æ–‡æ¡£é‡Œé¢çš„é¢„è§ˆå¹¶æ²¡æœ‰æŠ–åŠ¨ï¼Œäºæ˜¯å°±f12çœ‹äº†ä¸‹ä»–ä»¬æ˜¯å’‹å®ç°çš„ã€‚</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936526155351693652614788.png" alt="16936526155351693652614788.png"></p><p>å¯ä»¥çœ‹åˆ°è¿™é‡Œelementå®˜ç½‘æ˜¯ä½¿ç”¨äº†<a href="https://element-plus.org/zh-CN/component/scrollbar.html">scrollbar</a>ç»„ä»¶<br>äºæ˜¯æˆ‘ä¹Ÿå»ä½¿ç”¨è¿™ä¸ªç»„ä»¶<br><code>App.vue</code></p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936526315401693652631105.png" alt="16936526315401693652631105.png"></p><p>ä½†æ˜¯å‘ç°é—®é¢˜ä¾æ—§ã€‚ç»è¿‡ä¸€ç•ªæ’æŸ¥ï¼Œè¿™é‡Œè¿˜éœ€è¦è®¾ç½®ä¸€ä¸‹é«˜åº¦ï¼Œè¦è®©å¤–å±‚çš„å…ƒç´ é«˜åº¦å›ºå®šã€‚åªè¦å†…å±‚é«˜åº¦å¤§äºå¤–å±‚é«˜åº¦ï¼Œé‚£ä¹ˆ<code>el-scrollbar</code>å°±ä¼šäº§ç”Ÿæ»šåŠ¨æ¡ã€‚<br>ä½†æ˜¯è¦æ³¨æ„ä¸è¦è®©å¤–å±‚å…ƒç´ é«˜åº¦è¶…è¿‡100vhï¼Œæ¯”å¦‚è®¾ç½®120vhï¼Œè¿™ç§æƒ…å†µä¼šå‡ºç°ä¸¤ä¸ªæ»šåŠ¨æ¡ï¼Œå› ä¸ºscrollbarç»„ä»¶åªæ˜¯éšè—äº† è¢«è¯¥ç»„ä»¶åŒ…å«çš„ å®¹å™¨çš„æ»šåŠ¨æ¡ï¼Œå¹¶ä¸åŒ…æ‹¬åœ¨bodyä¸Šäº§ç”Ÿçš„æ»šåŠ¨æ¡</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936526425361693652641724.png" alt="16936526425361693652641724.png"></p><p>è¿™é‡Œelå®˜ç½‘çš„æ–¹æ³•æ˜¯å¯¹<code>el-scrollbar__wrap</code>è®¾ç½®äº†<code>height:100vh</code></p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936526555351693652655027.png" alt="16936526555351693652655027.png"></p><p>æˆ‘è¿™é‡Œä¸ºäº†ç®€ä¾¿èµ·è§ï¼Œå°±æŠŠ<code>el-scrollbar</code>è®¾ç½®æˆ100vhï¼Œå› ä¸ºä¸‹é¢çš„<code>el-scrollbar__wrap</code>æœ‰ä¸ª<code>height:100%</code>å±æ€§ä¼šç»§æ‰¿çˆ¶çº§é«˜åº¦ï¼Œæ‰€ä»¥æ•ˆæœå’Œä¸Šé¢ä¸€æ ·çš„<br><code>App.vue</code></p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936526665351693652665672.png" alt="16936526665351693652665672.png"></p><h4 id="ä¿®å¤æ•ˆæœ"><a href="#ä¿®å¤æ•ˆæœ" class="headerlink" title="ä¿®å¤æ•ˆæœ"></a>ä¿®å¤æ•ˆæœ</h4><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936527025354a69219b0f5c4c51b620182afd1b84b4.gif" alt="16936527025354a69219b0f5c4c51b620182afd1b84b4.gif"></p><p>å¦‚æœæµè§ˆå™¨æ»šåŠ¨æ¡å’Œscrollbarç»„ä»¶åŒæ—¶å‡ºç°çš„è¯ï¼Œå¯èƒ½åŸå› æ˜¯æ²¡æœ‰å»é™¤bodyçš„è¾¹è·</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936527279931693652727088.png" alt="16936527279931693652727088.png"></p><p>åœ¨<code>index.html</code>å»é™¤æ‰€æœ‰å…ƒç´ å†…å¤–è¾¹è·å°±å¥½äº†</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line"><span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line"><span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Clionæ€ä¹ˆåœ¨ä¸€ä¸ªé¡¹ç›®ä¸­ç¼–å†™Cå’ŒC++ä¸¤ç§è¯­è¨€</title>
      <link href="/2022/how-does-clion-write-c-and-c-in-one-project/"/>
      <url>/2022/how-does-clion-write-c-and-c-in-one-project/</url>
      
        <content type="html"><![CDATA[<p>å¦‚æœåœ¨Cæˆ–C++é¡¹ç›®ä¸­ç¼–å†™C++æˆ–Cä¼šæç¤º <code>CMake Error: CMake can not determine linker language for target:</code> </p><p>è§£å†³æ–¹æ¡ˆï¼š<br>ä¿®æ”¹æ ¹ç›®å½•ä¸‹é¢çš„<br><code>CMakeLists.txt</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cmake_minimum_required(VERSION 3.22)</span><br><span class="line">project(Algorithm C)</span><br><span class="line"></span><br><span class="line">set(CMAKE_C_STANDARD 11)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æŠŠå…¶ä¸­çš„ <code>project(Algorithm C)</code> åé¢é‚£ä¸ª <code>C</code> å»æ‰å°±å¯ä»¥äº†ã€‚(å¦‚æœæ˜¯C++é¡¹ç›®ï¼Œè¿™é‡Œåº”è¯¥æ˜¯ <code>CXX</code> )<br>å†™æˆè¿™æ · <code>project(Algorithm)</code> </p><p>ç„¶åå¦‚æœè¦æ·»åŠ C++æˆ–è€…Cè¯­è¨€æ ‡å‡†çš„è¯</p><ul><li>C++11æ ‡å‡† <code>set(CMAKE_CXX_STANDARD 11)</code></li><li>C11æ ‡å‡† <code>set(CMAKE_C_STANDARD 11)</code></li></ul><p>è‡³äºå•ç‹¬è·‘ä¸€ä¸ªæ–‡ä»¶çš„è¯ç”¨è¿™ä¸ªæ’ä»¶å°±å¥½äº† <code>C/C+â€‹+â€‹ Single File Execution</code></p>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>é˜¿é‡Œäº‘æ•ˆdevstudioï¼Œcodingç¼–è¯‘è¿è¡Œè°ƒè¯•C/C++</title>
      <link href="/2022/aliyun-effect-devstudio-coding-compile-and-run-debugging-c-c/"/>
      <url>/2022/aliyun-effect-devstudio-coding-compile-and-run-debugging-c-c/</url>
      
        <content type="html"><![CDATA[<p>äº‘æ•ˆdevstudioå¯ä»¥é€‰æ‹© <code>all in one</code> æˆ–è€… <code>c/c++</code> é¡¹ç›®ï¼Œcodingå¿…é¡»é€‰æ‹© <code>all in one</code>é¡¹ç›®æ‰è¡Œã€‚<br>åˆ›å»ºé¡¹ç›®ä¹‹åï¼Œé…ç½®å¥½ <code>launch.json</code> å’Œ <code>tasks.json</code> å°±å¯ä»¥è·‘äº†ã€‚</p><p><code>launch.json</code>ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.2.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;configurations&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="comment">//è¿™ä¸ªå¤§æ‹¬å·é‡Œæ˜¯æˆ‘ä»¬çš„â€˜è°ƒè¯•(Debug)â€™é…ç½®</span></span><br><span class="line">            <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Debug&quot;</span><span class="punctuation">,</span> <span class="comment">// é…ç½®åç§°</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cppdbg&quot;</span><span class="punctuation">,</span> <span class="comment">// é…ç½®ç±»å‹ï¼Œcppdbgå¯¹åº”cpptoolsæä¾›çš„è°ƒè¯•åŠŸèƒ½ï¼›å¯ä»¥è®¤ä¸ºæ­¤å¤„åªèƒ½æ˜¯cppdbg</span></span><br><span class="line">            <span class="attr">&quot;request&quot;</span><span class="punctuation">:</span> <span class="string">&quot;launch&quot;</span><span class="punctuation">,</span> <span class="comment">// è¯·æ±‚é…ç½®ç±»å‹ï¼Œå¯ä»¥ä¸ºlaunchï¼ˆå¯åŠ¨ï¼‰æˆ–attachï¼ˆé™„åŠ ï¼‰</span></span><br><span class="line">            <span class="attr">&quot;program&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;fileDirname&#125;/$&#123;fileBasenameNoExtension&#125;&quot;</span><span class="punctuation">,</span> <span class="comment">// å°†è¦è¿›è¡Œè°ƒè¯•çš„ç¨‹åºçš„è·¯å¾„</span></span><br><span class="line">            <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span> <span class="comment">// ç¨‹åºè°ƒè¯•æ—¶ä¼ é€’ç»™ç¨‹åºçš„å‘½ä»¤è¡Œå‚æ•°ï¼Œè¿™é‡Œè®¾ä¸ºç©ºå³å¯</span></span><br><span class="line">            <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;fileDirname&#125;&quot;</span><span class="punctuation">,</span> <span class="comment">// è°ƒè¯•ç¨‹åºæ—¶çš„å·¥ä½œç›®å½•ï¼Œæ­¤å¤„ä¸ºæºç æ–‡ä»¶æ‰€åœ¨ç›®å½•</span></span><br><span class="line">            <span class="attr">&quot;preLaunchTask&quot;</span><span class="punctuation">:</span> <span class="string">&quot;build&quot;</span> <span class="comment">// è°ƒè¯•å¼€å§‹å‰æ‰§è¡Œçš„ä»»åŠ¡ï¼Œæˆ‘ä»¬åœ¨è°ƒè¯•å‰è¦ç¼–è¯‘æ„å»ºã€‚ä¸tasks.jsonçš„labelç›¸å¯¹åº”ï¼Œåå­—è¦ä¸€æ ·</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p><code>tasks.json</code>ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;tasks&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span> <span class="comment">//è¿™ä¸ªå¤§æ‹¬å·é‡Œæ˜¯â€˜æ„å»ºï¼ˆbuildï¼‰â€™ä»»åŠ¡</span></span><br><span class="line">            <span class="attr">&quot;label&quot;</span><span class="punctuation">:</span> <span class="string">&quot;build&quot;</span><span class="punctuation">,</span> <span class="comment">//ä»»åŠ¡åç§°ï¼Œå¯ä»¥æ›´æ”¹ï¼Œä¸è¿‡ä¸å»ºè®®æ”¹</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;shell&quot;</span><span class="punctuation">,</span> <span class="comment">//ä»»åŠ¡ç±»å‹ï¼Œprocessæ˜¯vscæŠŠé¢„å®šä¹‰å˜é‡å’Œè½¬ä¹‰è§£æåç›´æ¥å…¨éƒ¨ä¼ ç»™commandï¼›shellç›¸å½“äºå…ˆæ‰“å¼€shellå†è¾“å…¥å‘½ä»¤ï¼Œæ‰€ä»¥argsè¿˜ä¼šç»è¿‡shellå†è§£æä¸€é</span></span><br><span class="line">            <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;gcc&quot;</span><span class="punctuation">,</span> <span class="comment">//ç¼–è¯‘å‘½ä»¤ï¼Œè¿™é‡Œæ˜¯gccï¼Œç¼–è¯‘c++çš„è¯æ¢æˆg++</span></span><br><span class="line">            <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span> <span class="comment">//æ–¹æ‹¬å·é‡Œæ˜¯ä¼ ç»™gccå‘½ä»¤çš„ä¸€ç³»åˆ—å‚æ•°ï¼Œç”¨äºå®ç°ä¸€äº›åŠŸèƒ½</span></span><br><span class="line">                <span class="string">&quot;$&#123;file&#125;&quot;</span><span class="punctuation">,</span> <span class="comment">//æŒ‡å®šè¦ç¼–è¯‘çš„æ˜¯å½“å‰æ–‡ä»¶</span></span><br><span class="line">                <span class="string">&quot;-o&quot;</span><span class="punctuation">,</span> <span class="comment">//æŒ‡å®šè¾“å‡ºæ–‡ä»¶çš„è·¯å¾„å’Œåç§°</span></span><br><span class="line">                <span class="string">&quot;$&#123;fileDirname&#125;/$&#123;fileBasenameNoExtension&#125;&quot;</span><span class="punctuation">,</span> <span class="comment">//æ‰¿æ¥ä¸Šä¸€æ­¥çš„-oï¼Œè®©å¯æ‰§è¡Œæ–‡ä»¶è¾“å‡ºåˆ°æºç æ–‡ä»¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹ä¸‹çš„binæ–‡ä»¶å¤¹å†…ï¼Œå¹¶ä¸”è®©å®ƒçš„åå­—å’Œæºç æ–‡ä»¶ç›¸åŒ</span></span><br><span class="line">                <span class="string">&quot;-g&quot;</span><span class="punctuation">,</span> <span class="comment">//ç”Ÿæˆå’Œè°ƒè¯•æœ‰å…³çš„ä¿¡æ¯</span></span><br><span class="line">                <span class="string">&quot;-Wall&quot;</span><span class="punctuation">,</span> <span class="comment">// å¼€å¯é¢å¤–è­¦å‘Š</span></span><br><span class="line">                <span class="string">&quot;-static-libgcc&quot;</span><span class="punctuation">,</span> <span class="comment">// é™æ€é“¾æ¥libgcc</span></span><br><span class="line">                <span class="comment">// &quot;-fexec-charset=GBK&quot;, // ç”Ÿæˆçš„ç¨‹åºä½¿ç”¨GBKç¼–ç ï¼Œä¸åŠ è¿™ä¸€æ¡ä¼šå¯¼è‡´Winä¸‹è¾“å‡ºä¸­æ–‡ä¹±ç </span></span><br><span class="line">                <span class="string">&quot;-std=c11&quot;</span> <span class="comment">// è¯­è¨€æ ‡å‡†ï¼Œå¯æ ¹æ®è‡ªå·±çš„éœ€è¦è¿›è¡Œä¿®æ”¹ï¼Œå†™c++è¦æ¢æˆc++çš„è¯­è¨€æ ‡å‡†ï¼Œæ¯”å¦‚c++11</span></span><br><span class="line">            <span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><blockquote><p>é…ç½®æ–‡ä»¶å‚è€ƒï¼š<br><a href="https://www.bilibili.com/read/cv15814739">https://www.bilibili.com/read/cv15814739</a></p></blockquote><p>æ³¨æ„è¿™é‡Œé˜¿é‡Œäº‘æ•ˆdevstudioè·Ÿæ­£å¸¸çš„vscodeå¥½åƒä¸ä¸€æ ·ï¼Œ<code>&quot;type&quot;: &quot;cppdbg&quot;</code> ä¼šæŠ¥é”™ï¼Œè¦æ”¹æˆ <code>&quot;type&quot;: &quot;lldb&quot;</code><br>æŠ¥é”™ï¼š<code>The debug type is not recognized. Make sure that you have a corresponding debug extension installed and that it is enabled.</code></p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936528309911693652830852.png" alt="16936528309911693652830852.png"></p><p>åˆ°è¿™é‡Œå°±å¯ä»¥è°ƒè¯•äº†ã€‚é˜¿é‡Œçš„ä½¿ç”¨ <code>å¼€å§‹æ‰§è¡Œ(ä¸è°ƒè¯•)</code> å¥½åƒå‡ºä¸æ¥ç»“æœã€‚codingçš„æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯å¾—å»æ‰æ–­ç‚¹æ‰èƒ½è·‘ï¼Œä¸ç„¶è¿˜æ˜¯ä¼šå¡æ–­ç‚¹ã€‚</p><h4 id="å¸¸è§é—®é¢˜"><a href="#å¸¸è§é—®é¢˜" class="headerlink" title="å¸¸è§é—®é¢˜"></a>å¸¸è§é—®é¢˜</h4><ol><li><code>launch.json</code> æŠ¥é”™ <code>Matches multiple schemas when only one must validate.</code><br>åˆ·æ–°ä¸€ä¸‹æµè§ˆå™¨å³å¯<br>å‚è€ƒï¼š<a href="https://blog.csdn.net/oh_futrue/article/details/104771914/">https://blog.csdn.net/oh_futrue/article/details/104771914/</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> é»˜è®¤ </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
</search>
