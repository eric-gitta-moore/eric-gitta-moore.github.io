<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>螺旋方阵使用C++的简单实现 | Eric Moore</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/latest/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/grids-responsive-min.min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/latest/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/latest/clipboard.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/toastr.js/latest/toastr.min.js"></script><link rel="stylesheet" href="//lib.baomitu.com/toastr.js/latest/toastr.min.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">螺旋方阵使用C++的简单实现</h1><a id="logo" href="/.">Eric Moore</a><p class="description">学海无涯，共同进步！</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a><a href="/guestbook/"><i class="fa fa-comments"> 留言</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">螺旋方阵使用C++的简单实现</h1><div class="post-meta">2022-01-29<span> | </span><span class="category"><a href="/categories/%E9%BB%98%E8%AE%A4/">默认</a></span><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span><span class="post-time"><span class="post-meta-item-text"> | </span><span class="post-meta-item-icon"><i class="fa fa-keyboard-o"></i><span class="post-count"> 2.2k</span><span class="post-meta-item-text"> 字</span></span></span><span class="post-time"> | <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i><span class="post-count"> 11</span><span class="post-meta-item-text"> 分钟</span></span></span></div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE"><span class="toc-text">题目</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E6%A0%B7%E4%BE%8B"><span class="toc-text">输入样例:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E5%88%86%E6%9E%90"><span class="toc-text">简单分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A1%AE%E5%AE%9A%E5%9C%88%E6%95%B0"><span class="toc-text">确定圈数:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A1%AE%E5%AE%9A%E6%AD%A5%E9%95%BF"><span class="toc-text">确定步长:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A1%AE%E5%AE%9A%E8%B5%B7%E7%82%B9%EF%BC%9A"><span class="toc-text">确定起点：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AC%E4%BB%A3%E7%A0%81"><span class="toc-text">AC代码</span></a></li></ol></div></div><div class="post-content"><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p>所谓“螺旋方阵”，是指对任意给定的N，将1到N×N的数字从左上角第1个格子开始，按顺时针螺旋方向顺序填入N×N的方阵里。本题要求构造这样的螺旋方阵。</p>
<p>输入格式：</p>
<p>输入在一行中给出一个正整数N（&lt;&#x3D;30）。</p>
<p>输出格式：</p>
<p>输出N×N的螺旋方阵。每行N个数字，每个数字占3位。</p>
<h3 id="输入样例"><a href="#输入样例" class="headerlink" title="输入样例:"></a>输入样例:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">5</span><br></pre></td></tr></table></figure>



<p>输出样例: </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">001 002 003 004 005</span><br><span class="line">016 017 018 019 006</span><br><span class="line">015 024 025 020 007</span><br><span class="line">014 023 022 021 008</span><br><span class="line">013 012 011 010 009</span><br></pre></td></tr></table></figure>



<p>输入样例:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">10</span><br></pre></td></tr></table></figure>



<p>输出样例:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">001 002 003 004 005 006 007 008 009 010</span><br><span class="line">036 037 038 039 040 041 042 043 044 011</span><br><span class="line">035 064 065 066 067 068 069 070 045 012</span><br><span class="line">034 063 084 085 086 087 088 071 046 013</span><br><span class="line">033 062 083 096 097 098 089 072 047 014</span><br><span class="line">032 061 082 095 100 099 090 073 048 015</span><br><span class="line">031 060 081 094 093 092 091 074 049 016</span><br><span class="line">030 059 080 079 078 077 076 075 050 017</span><br><span class="line">029 058 057 056 055 054 053 052 051 018</span><br><span class="line">028 027 026 025 024 023 022 021 020 019</span><br></pre></td></tr></table></figure>





<hr>
<h2 id="简单分析"><a href="#简单分析" class="headerlink" title="简单分析"></a>简单分析</h2><p>以输入5为例子</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">001 002 003 004 005</span><br><span class="line">016 017 018 019 006</span><br><span class="line">015 024 025 020 007</span><br><span class="line">014 023 022 021 008</span><br><span class="line">013 012 011 010 009</span><br><span class="line"></span><br><span class="line">第一圈开始，每一步四笔,也就是步长为4</span><br><span class="line">第一步：(0,0)起点</span><br><span class="line">001 002 003 004</span><br><span class="line">第二步：(0,4)起点</span><br><span class="line">001 002 003 004 005</span><br><span class="line">                006</span><br><span class="line">                007</span><br><span class="line">                008</span><br><span class="line">                </span><br><span class="line">第三步：(4,4)起点</span><br><span class="line">001 002 003 004 005</span><br><span class="line">                006</span><br><span class="line">                007</span><br><span class="line">                008</span><br><span class="line">    012 011 010 009</span><br><span class="line">第四步：(4,0)起点</span><br><span class="line">001 002 003 004 005</span><br><span class="line">016             006</span><br><span class="line">015             007</span><br><span class="line">014             008</span><br><span class="line">013 012 011 010 009</span><br><span class="line">第一圈结束</span><br><span class="line"></span><br><span class="line">第二圈开始，步长为2</span><br><span class="line">第一步：(1,1)起点</span><br><span class="line">001 002 003 004 005</span><br><span class="line">016 017 018     006</span><br><span class="line">015             007</span><br><span class="line">014             008</span><br><span class="line">013 012 011 010 009</span><br><span class="line">第二步：(1,3)起点</span><br><span class="line">001 002 003 004 005</span><br><span class="line">016 017 018 019 006</span><br><span class="line">015         020 007</span><br><span class="line">014             008</span><br><span class="line">013 012 011 010 009</span><br><span class="line">第三步：(3,3)起点</span><br><span class="line">001 002 003 004 005</span><br><span class="line">016 017 018 019 006</span><br><span class="line">015         020 007</span><br><span class="line">014     022 021 008</span><br><span class="line">013 012 011 010 009</span><br><span class="line">第四步：(1,3)起点</span><br><span class="line">001 002 003 004 005</span><br><span class="line">016 017 018 019 006</span><br><span class="line">015 024     020 007</span><br><span class="line">014 023 022 021 008</span><br><span class="line">013 012 011 010 009</span><br><span class="line">第二圈结束</span><br><span class="line"></span><br><span class="line">第三圈开始，步长为1</span><br><span class="line">第一步：</span><br><span class="line">001 002 003 004 005</span><br><span class="line">016 017 018 019 006</span><br><span class="line">015 024 025 020 007</span><br><span class="line">014 023 022 021 008</span><br><span class="line">013 012 011 010 009</span><br><span class="line">第二步：</span><br><span class="line">001 002 003 004 005</span><br><span class="line">016 017 018 019 006</span><br><span class="line">015 024 025 020 007</span><br><span class="line">014 023 022 021 008</span><br><span class="line">013 012 011 010 009</span><br><span class="line">第三步：</span><br><span class="line">001 002 003 004 005</span><br><span class="line">016 017 018 019 006</span><br><span class="line">015 024 025 020 007</span><br><span class="line">014 023 022 021 008</span><br><span class="line">013 012 011 010 009</span><br><span class="line">第四步：</span><br><span class="line">001 002 003 004 005</span><br><span class="line">016 017 018 019 006</span><br><span class="line">015 024 025 020 007</span><br><span class="line">014 023 022 021 008</span><br><span class="line">013 012 011 010 009</span><br><span class="line">第三圈结束</span><br></pre></td></tr></table></figure>



<p> 以6为例子</p>
<blockquote>
<p>001 002 003 004 005 006</p>
<p> 020 021 022 023 024 007</p>
<p> 019 032 033 034 025 008</p>
<p> 018 031 036 035 026 009</p>
<p> 017 030 029 028 027 010</p>
<p> 016 015 014 013 012 011</p>
<p>第一圈开始，每一步五笔，也就是步长为5</p>
<p> 第一步：(0,0)起点</p>
<p> 001 002 003 004 005</p>
<p> 第二步：(0,5)起点</p>
<p> 001 002 003 004 005 006</p>
<pre><code>               007

               008

               009

               010
         
     
</code></pre>
<p> 第三步：(5,5)起点</p>
<p> 001 002 003 004 005 006</p>
<pre><code>               007

               008

               009

               010

 015 014 013 012 011
</code></pre>
<p> 第四步：(5,0)起点</p>
<p> 001 002 003 004 005 006</p>
<p> 020               007</p>
<p> 019               008</p>
<p> 018               009</p>
<p> 017               010</p>
<p> 016 015 014 013 012 011</p>
<p> 第一圈结束</p>
<p>第二圈开始，步长为3</p>
<p> 第一步：(1,1)起点</p>
<p> 001 002 003 004 005 006</p>
<p> 020 021 022 023    007</p>
<p> 019               008</p>
<p> 018               009</p>
<p> 017               010</p>
<p> 016 015 014 013 012 011</p>
<p> 第二步：(1,4)起点</p>
<p> 001 002 003 004 005 006</p>
<p> 020 021 022 023 024 007</p>
<p> 019           025 008</p>
<p> 018           026 009</p>
<p> 017               010</p>
<p> 016 015 014 013 012 011</p>
<p> 第三步：(4,4)起点</p>
<p> 001 002 003 004 005 006</p>
<p> 020 021 022 023 024 007</p>
<p> 019           025 008</p>
<p> 018           026 009</p>
<p> 017    029 028 027 010</p>
<p> 016 015 014 013 012 011</p>
<p> 第四步：(4,1)起点</p>
<p> 001 002 003 004 005 006</p>
<p> 020 021 022 023 024 007</p>
<p> 019 032        025 008</p>
<p> 018 031        026 009</p>
<p> 017 030 029 028 027 010</p>
<p> 016 015 014 013 012 011</p>
<p> 第二圈结束</p>
<p>第三圈开始，步长为1</p>
<p> 第一步：(2,2)起点</p>
<p> 001 002 003 004 005 006</p>
<p> 020 021 022 023 024 007</p>
<p> 019 032 033    025 008</p>
<p> 018 031        026 009</p>
<p> 017 030 029 028 027 010</p>
<p> 016 015 014 013 012 011</p>
<p> 第二步：(2,3)起点</p>
<p> 001 002 003 004 005 006</p>
<p> 020 021 022 023 024 007</p>
<p> 019 032 033 034 025 008</p>
<p> 018 031        026 009</p>
<p> 017 030 029 028 027 010</p>
<p> 016 015 014 013 012 011</p>
<p> 第三步：(3,3)起点</p>
<p> 001 002 003 004 005 006</p>
<p> 020 021 022 023 024 007</p>
<p> 019 032 033 034 025 008</p>
<p> 018 031    035 026 009</p>
<p> 017 030 029 028 027 010</p>
<p> 016 015 014 013 012 011</p>
<p> 第四步：(3,2)起点</p>
<p> 001 002 003 004 005 006</p>
<p> 020 021 022 023 024 007</p>
<p> 019 032 033 034 025 008</p>
<p> 018 031 036 035 026 009</p>
<p> 017 030 029 028 027 010</p>
<p> 016 015 014 013 012 011</p>
<p> 第三圈结束</p>
</blockquote>
<p>从上面可以看到四步一个圈，那就只需要确定圈数，步长，起点即可</p>
<p>那现在可以大体把代码格式写出来了</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> count = <span class="number">1</span>;<span class="comment">//填空格时候计数的</span></span><br><span class="line"><span class="type">int</span> map[n][n];</span><br><span class="line"><span class="built_in">memset</span>(map, <span class="number">0</span>, <span class="built_in">sizeof</span>(map));</span><br><span class="line"><span class="type">int</span> length;<span class="comment">//步长</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> cycle = <span class="number">0</span>; cycle &lt; 圈数; cycle++) &#123;</span><br><span class="line">    length=确定这一圈的步长</span><br><span class="line">    第一步→</span><br><span class="line">    第二步↓</span><br><span class="line">    第三步←</span><br><span class="line">    第四步↑</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="确定圈数"><a href="#确定圈数" class="headerlink" title="确定圈数:"></a>确定圈数:</h3><p>先看圈数5<em>5和6</em>6都是三圈，那么  圈数  就是</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(n % 2 == 0 ? n : n + 1) / 2</span><br></pre></td></tr></table></figure>



<h3 id="确定步长"><a href="#确定步长" class="headerlink" title="确定步长:"></a>确定步长:</h3><p>从5*5中可以看到步长是4，2，1</p>
<p>4，2很好确定关系，减了2。2，1就不好确定关系了</p>
<p>先不管，再来看下6*6是什么情况</p>
<p> 从5*5中可以看到步长是5，3，1</p>
<p>这个就很好，都是减了2，那5*5最后一圈步长为1的就是特殊了</p>
<p>那么步长公式就是</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">n - 2 * cycle - 1</span><br></pre></td></tr></table></figure>



<p> 这时候再回过头来看下刚刚的特殊情况这个步长是多少，</p>
<p>当cycle走到最后一圈的时候，即cycle&#x3D;2（cycle取值是 第0圈，第1圈，第2圈）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">5 - 2 * 2 - 1</span><br></pre></td></tr></table></figure>



<p> 步长等于0，那按我们写的代码模板，就需要后面的四步一步都不执行，所以我们在第一步之前判断一下length就好了</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> count = <span class="number">1</span>;<span class="comment">//填空格时候计数的</span></span><br><span class="line"><span class="type">int</span> map[n][n];</span><br><span class="line"><span class="built_in">memset</span>(map, <span class="number">0</span>, <span class="built_in">sizeof</span>(map));</span><br><span class="line"><span class="type">int</span> length;<span class="comment">//步长</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> cycle = <span class="number">0</span>; cycle &lt; 圈数; cycle++) &#123;</span><br><span class="line">    length=确定这一圈的步长</span><br><span class="line">    <span class="keyword">if</span> (length == <span class="number">0</span>) &#123;</span><br><span class="line">        直接确定中间数字</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    第一步→</span><br><span class="line">    第二步↓</span><br><span class="line">    第三步←</span><br><span class="line">    第四步↑</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="确定起点："><a href="#确定起点：" class="headerlink" title="确定起点："></a>确定起点：</h3><p>每一圈一共四步，那一共有四个起点</p>
<p>以6*6为例</p>
<p>每次<strong>第一步</strong>的坐标分别为(0,0)，(1,1)，(2,2)，注：（横，纵）</p>
<p>001 002 003 004 005 006<br> 020 021 022 023 024 007<br> 019 032 033 034 025 008<br> 018 031 036 035 026 009<br> 017 030 029 028 027 010<br> 016 015 014 013 012 011</p>
<p>那坐标和圈数的关系，由此可以判断坐标为(cycle,cycle)</p>
<p>每次<strong>第二步</strong>的坐标分别为(0,5)，(1,4)，(2,3)，注：（横，纵）</p>
<p>001 002 003 004 005 006<br> 020 021 022 023 024 007<br> 019 032 033 034 025 008<br> 018 031 036 035 026 009<br> 017 030 029 028 027 010<br> 016 015 014 013 012 011</p>
<p>那坐标和圈数的关系，由此可以判断坐标为(cycle,n-1-cycle)</p>
<p>每次<strong>第三步</strong>的坐标分别为(5,5)，(4,4)，(3,3)，注：（横，纵）</p>
<p>001 002 003 004 005 006<br> 020 021 022 023 024 007<br> 019 032 033 034 025 008<br> 018 031 036 035 026 009<br> 017 030 029 028 027 010<br> 016 015 014 013 012 011</p>
<p>那坐标和圈数的关系，由此可以判断坐标为(n-1-cycle,n-1-cycle)</p>
<p>每次<strong>第四步</strong>的坐标分别为(0,5)，(1,4)，(2,3)，注：（横，纵）</p>
<p>001 002 003 004 005 006<br> 020 021 022 023 024 007<br> 019 032 033 034 025 008<br> 018 031 036 035 026 009<br> 017 030 029 028 027 010<br> 016 015 014 013 012 011</p>
<p>那坐标和圈数的关系，由此可以判断坐标为(cycle,n-1-cycle)</p>
<hr>
<p>到此为止就可以把刚刚的代码模板补全了</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> count = <span class="number">1</span>;<span class="comment">//填空格时候计数的</span></span><br><span class="line"><span class="type">int</span> map[n][n];</span><br><span class="line"><span class="built_in">memset</span>(map, <span class="number">0</span>, <span class="built_in">sizeof</span>(map));</span><br><span class="line"><span class="type">int</span> length;<span class="comment">//步长</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> cycle = <span class="number">0</span>; cycle &lt; (n % <span class="number">2</span> == <span class="number">0</span> ? n : n + <span class="number">1</span>) / <span class="number">2</span>; cycle++) &#123;</span><br><span class="line">    length = n - <span class="number">2</span> * cycle - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (length == <span class="number">0</span>) &#123;</span><br><span class="line">        map[n / <span class="number">2</span>][n / <span class="number">2</span>] = count++;</span><br><span class="line">        <span class="comment">//这种情况的话肯定就是奇数，n/2一定就是中间那个，小数直接扔掉了</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> pos = cycle, cnt = <span class="number">0</span>; cnt &lt; length; ++cnt) &#123;</span><br><span class="line">        map[cycle][pos++<span class="comment">/*右移*/</span>] = count++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> pos = cycle, cnt = <span class="number">0</span>; cnt &lt; length; ++cnt) &#123;</span><br><span class="line">        map[pos++<span class="comment">/*下移*/</span>][n - <span class="number">1</span> - cycle] = count++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> pos = n - <span class="number">1</span> - cycle, cnt = <span class="number">0</span>; cnt &lt; length; ++cnt) &#123;</span><br><span class="line">        map[n - <span class="number">1</span> - cycle][pos--<span class="comment">/*左移*/</span>] = count++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> pos = n - <span class="number">1</span> - cycle, cnt = <span class="number">0</span>; cnt &lt; length; ++cnt) &#123;</span><br><span class="line">        map[pos--<span class="comment">/*上移*/</span>][cycle] = count++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>之后就是打印整个数组了</p>
<hr>
<h2 id="AC代码"><a href="#AC代码" class="headerlink" title="AC代码"></a>AC代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;iostream&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;memory&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> count = <span class="number">1</span>;<span class="comment">//填空格时候计数的</span></span><br><span class="line">    <span class="type">int</span> map[n][n];</span><br><span class="line">    <span class="built_in">memset</span>(map, <span class="number">0</span>, <span class="built_in">sizeof</span>(map));</span><br><span class="line">    <span class="type">int</span> length;<span class="comment">//步长</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> cycle = <span class="number">0</span>; cycle &lt; (n % <span class="number">2</span> == <span class="number">0</span> ? n : n + <span class="number">1</span>) / <span class="number">2</span>; cycle++) &#123;</span><br><span class="line">        length = n - <span class="number">2</span> * cycle - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (length == <span class="number">0</span>) &#123;</span><br><span class="line">            map[n / <span class="number">2</span>][n / <span class="number">2</span>] = count++;</span><br><span class="line">            <span class="comment">//这种情况的话肯定就是奇数，n/2一定就是中间那个，小数直接扔掉了</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> pos = cycle, cnt = <span class="number">0</span>; cnt &lt; length; ++cnt) &#123;</span><br><span class="line">            map[cycle][pos++<span class="comment">/*右移*/</span>] = count++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> pos = cycle, cnt = <span class="number">0</span>; cnt &lt; length; ++cnt) &#123;</span><br><span class="line">            map[pos++<span class="comment">/*下移*/</span>][n - <span class="number">1</span> - cycle] = count++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> pos = n - <span class="number">1</span> - cycle, cnt = <span class="number">0</span>; cnt &lt; length; ++cnt) &#123;</span><br><span class="line">            map[n - <span class="number">1</span> - cycle][pos--<span class="comment">/*左移*/</span>] = count++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> pos = n - <span class="number">1</span> - cycle, cnt = <span class="number">0</span>; cnt &lt; length; ++cnt) &#123;</span><br><span class="line">            map[pos--<span class="comment">/*上移*/</span>][cycle] = count++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i != <span class="number">0</span>) &#123;</span><br><span class="line">            cout &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (j != <span class="number">0</span>) &#123;</span><br><span class="line">                cout &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%03d&quot;</span>, map[i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div><div class="tags"></div><div class="post-nav"><a class="pre" href="/2022/windows-uses-wifi-direct-to-connect-to-mobile-phones-and-other-devices/">windows使用WiFi-direct连接手机等设备</a><a class="next" href="/2022/output-character-diamond/">输出字符菱形</a></div><script src="https://utteranc.es/client.js" repo="eric-gitta-moore/eric-gitta-moore.github.io" issue-term="pathname" theme="github-light" crossorigin="anonymous" async></script></div></div></div><div class="pure-u-1 pure-u-md-1-4"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="author-info"><a class="info-avatar" href="/about/" title="关于"><img class="nofancybox" src="https://avatars.githubusercontent.com/eric-gitta-moore"/></a><p>To be a better man.</p><a class="info-icon" href="https://twitter.com/james_curtis_oh" title="Twitter" target="_blank" style="margin-inline:5px"> <i class="fa fa-twitter-square" style="margin-inline:5px"></i></a><a class="info-icon" href="mailto:jamescurtis@foxmail.com" title="Email" target="_blank" style="margin-inline:5px"> <i class="fa fa-envelope-square" style="margin-inline:5px"></i></a><a class="info-icon" href="https://github.com/eric-gitta-moore" title="Github" target="_blank" style="margin-inline:5px"> <i class="fa fa-github-square" style="margin-inline:5px"></i></a><a class="info-icon" href="/atom.xml" title="RSS" target="_blank" style="margin-inline:5px"> <i class="fa fa-rss-square" style="margin-inline:5px"></i></a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/">技术分享</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E7%A0%94%E7%A9%B6/">技术研究</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E7%A0%94%E7%A9%B6/%E7%BD%91%E7%BB%9C%E8%B0%83%E8%AF%95/">网络调试</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%BB%98%E8%AE%A4/">默认</a><span class="category-list-count">107</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Cloudflare/" style="font-size: 15px;">Cloudflare</a> <a href="/tags/R2/" style="font-size: 15px;">R2</a> <a href="/tags/CORS/" style="font-size: 15px;">CORS</a> <a href="/tags/%E5%B0%8F%E7%B1%B3/" style="font-size: 15px;">小米</a> <a href="/tags/%E5%A6%99%E4%BA%AB/" style="font-size: 15px;">妙享</a> <a href="/tags/mDNS/" style="font-size: 15px;">mDNS</a> <a href="/tags/%E7%BD%91%E7%BB%9C/" style="font-size: 15px;">网络</a> <a href="/tags/Wireshark/" style="font-size: 15px;">Wireshark</a> <a href="/tags/macOS/" style="font-size: 15px;">macOS</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2025/hyperconnect-connection-problems-and-mdns-packet-capture-analysis-of-millet-internet-service/">小米互联服务 HyperConnect 连接问题及 mDNS 抓包分析</a></li><li class="post-list-item"><a class="post-list-link" href="/2025/cloudflare-r2-s3api-cors-blocked/">cloudflare r2 s3api 被拦截 提示 CORS 跨域</a></li><li class="post-list-item"><a class="post-list-link" href="/2024/implement-rtx-voice-effect-on-mac-mac-voice-isolation-and-noise-reduction-tool/">mac上实现RTX-Voice效果，mac语音隔离降噪工具</a></li><li class="post-list-item"><a class="post-list-link" href="/2024/how-to-debug-napi-rs-debug-node-cpp-rust-module-vscode-debug-napi-rs/">napi-rs 怎么调试，调试 .node cpp/rust 模块，vscode调试napi-rs</a></li><li class="post-list-item"><a class="post-list-link" href="/2024/the-number-of-compliance-submatrices-in-the-matrix/">矩阵中合规子矩阵的数量</a></li><li class="post-list-item"><a class="post-list-link" href="/2024/another-paradigm-p-limit-implements-byte-interview-questions/">另一种范式的 p-limit 实现 ｜ 字节面试题</a></li><li class="post-list-item"><a class="post-list-link" href="/2024/web-online-gpu-stress-stress-test-what-works-with-grilled-chicken/">web在线gpu stress压力测试烤鸡是什么原理</a></li><li class="post-list-item"><a class="post-list-link" href="/2024/100-lines-implement-the-promise-aplus/">100 行实现 Promise Aplus</a></li><li class="post-list-item"><a class="post-list-link" href="/2024/ebpf-ecapture-principle-of-certificate-free-packet-capture/">eBPF/eCapture 免证书抓包原理解析</a></li><li class="post-list-item"><a class="post-list-link" href="/2024/description-of-whistle-plug-in-capabilities-combo-replacement/">Whistle 插件能力介绍 & 实现 combo 替换</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="/" title="中文博客" target="_blank">中文博客</a><ul></ul><a href="/en" title="EN Blog" target="_blank">EN Blog</a><ul></ul><a href="https://github.com/eric-gitta-moore" title="GitHub" target="_blank">GitHub</a><ul></ul><a href="https://eric-gitta-moore.github.io/css-handbook/" title="CSS 参考手册" target="_blank">CSS 参考手册</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2025 <a href="/." rel="nofollow">Eric Moore.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.js"></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0"></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.css"><link rel="stylesheet" type="text/css" href="/css/search.css?v=1.0.0"><script type="text/javascript" src="/js/search.js?v=1.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
  search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/copycode.js?v=1.0.0" successtext="复制成功！"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="/css/external.css?v=1.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>