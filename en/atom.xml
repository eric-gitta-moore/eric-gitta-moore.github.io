<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>James Curtis</title>
  
  <subtitle>Endless learning, progress together!</subtitle>
  <link href="https://james-curtis.github.io/en/atom.xml" rel="self"/>
  
  <link href="https://james-curtis.github.io/en/"/>
  <updated>2023-12-15T03:58:52.141Z</updated>
  <id>https://james-curtis.github.io/en/</id>
  
  <author>
    <name>John Doe</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>NDI HX Camera apk | NewTek NDI apk</title>
    <link href="https://james-curtis.github.io/en/2023/ndi-hx-camera-apk-newtek-ndi-apk/"/>
    <id>https://james-curtis.github.io/en/2023/ndi-hx-camera-apk-newtek-ndi-apk/</id>
    <published>2023-09-28T06:03:32.000Z</published>
    <updated>2023-12-15T03:58:52.141Z</updated>
    
    <content type="html"><![CDATA[<p>Google Play: <a href="https://play.google.com/store/apps/details?id=com.newtek.ndi.hxcam">https://play.google.com/store/apps/details?id=com.newtek.ndi.hxcam</a></p><p>Official NDI Â® Camera. Turn your phone or tablet into a real-time video production camera.</p><p>NDI Â® (Network Device Interface) is a low latency IP video protocol developed specifically for professional live video production and widely supported by many manufacturersâ€™ broadcast systems.</p><p>NDI Â® The HX camera turns your Android imaging device into a high-quality wireless video and audio source for NDI enabled broadcast systems and software on the same network. And NDI Â® When combined with tools (ndi. tv&#x2F;tools), a video system that supports NDI * will automatically recognize the output of your device, which can be mixed into live performances and even used as a network camera.</p><p>*Note: Support for NDI v.4 or higher is required.</p><p>basic feature </p><p>Easy to use</p><p>â€¢ Front&#x2F;rear camera selection</p><p>Auto focus, auto focus lock or tap to focus</p><p>Automatic exposure, automatic exposure lock</p><p>Manual exposure compensation</p><p>â€¢ Light on&#x2F;off (on supporting devices)</p><p>â€¢ Audio muting</p><p>â€¢ Optional grid coverage</p><p>Advanced features</p><p>â€¢ HI bandwidth (up to 4K), medium (up to 1080p), and standard (640x480) modes</p><p>Simple pinching and scaling</p><p>â€¢ Automatic NDI device identification</p><p>â€¢ Connection notifications and prompts (broadcast&#x2F;preview) display</p><p>support</p><p>â€¢ NDI Forum <a href="https://forums.newtek.com/forumdisplay.php/360-NDI-%28Network">https://forums.newtek.com/forumdisplay.php/360-NDI-%28Network</a> -Device Interface% 29</p><h2 id="Download"><a href="#Download" class="headerlink" title="Download"></a>Download</h2><ul><li><a href="https://github.com/james-curtis/attachment/releases/download/ndi/NDI.HX.Camera_1.28.apk">https://github.com/james-curtis/attachment/releases/download/ndi/NDI.HX.Camera_1.28.apk</a></li><li><a href="https://github.com/james-curtis/attachment/releases/download/ndi/NewTek.NDI_1.1.apk">https://github.com/james-curtis/attachment/releases/download/ndi/NewTek.NDI_1.1.apk</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Google Play: &lt;a href=&quot;https://play.google.com/store/apps/details?id=com.newtek.ndi.hxcam&quot;&gt;https://play.google.com/store/apps/details?id=c</summary>
      
    
    
    
    <category term="é»˜è®¤" scheme="https://james-curtis.github.io/en/categories/%E9%BB%98%E8%AE%A4/"/>
    
    
  </entry>
  
  <entry>
    <title>Windows é‡æ–°æ˜ å°„ CapsLock å¤§å†™é”å®šåˆ° Ctrl</title>
    <link href="https://james-curtis.github.io/en/2023/windows-remaps-capslock-to-ctrl/"/>
    <id>https://james-curtis.github.io/en/2023/windows-remaps-capslock-to-ctrl/</id>
    <published>2023-09-02T05:16:43.000Z</published>
    <updated>2023-12-15T03:58:52.141Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Windows-é‡æ–°æ˜ å°„-CapsLock-å¤§å†™é”å®šåˆ°-Ctrl"><a href="#Windows-é‡æ–°æ˜ å°„-CapsLock-å¤§å†™é”å®šåˆ°-Ctrl" class="headerlink" title="Windows é‡æ–°æ˜ å°„ CapsLock å¤§å†™é”å®šåˆ° Ctrl"></a>Windows é‡æ–°æ˜ å°„ CapsLock å¤§å†™é”å®šåˆ° Ctrl</h1><p>æœ¬è¦ç‚¹ä¸­çš„è¿™äº›æ–¹æ³•é€‚ç”¨äºæˆ‘çš„ç¾å›½é”®ç›˜å¸ƒå±€ã€‚æˆ‘ä¸ç¡®å®šå…¶ä»–å¸ƒå±€ã€‚å¦‚æœå‡ºç°é—®é¢˜ï¼Œè¯·æ¢å¤æ‚¨çš„æ›´æ”¹ï¼›åˆ é™¤æ‚¨åˆ›å»ºçš„æ³¨å†Œè¡¨é¡¹ï¼ˆå¹¶é‡æ–°å¯åŠ¨ï¼‰ã€‚</p><p>å¼ºçƒˆæ¨è æ–¹æ³•5 <code>ctrl2cap</code>ï¼Œå› ä¸ºä¸ä¼šå½±å“ <code>FastGestures</code> çš„è§¦æ§æ¿ä¸‰æŒ‡æ»‘åŠ¨</p><h2 id="æ–¹æ³•1-é€šè¿‡-regedit-æ‰‹åŠ¨ä¿®æ”¹"><a href="#æ–¹æ³•1-é€šè¿‡-regedit-æ‰‹åŠ¨ä¿®æ”¹" class="headerlink" title="æ–¹æ³•1.é€šè¿‡ regedit æ‰‹åŠ¨ä¿®æ”¹"></a>æ–¹æ³•1.é€šè¿‡ regedit æ‰‹åŠ¨ä¿®æ”¹</h2><p>åœ¨ <code>regedit</code> ä¸­å¯¼èˆªåˆ° <code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Keyboard Layout</code> å¹¶åœ¨åä¸º <code>Scancode Map</code> ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„äºŒè¿›åˆ¶å€¼ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">00 00 00 00 00 00 00 00 02 00 00 00 1d 00 3a 00 00 00 00 00</span><br></pre></td></tr></table></figure><p>ä¿å­˜ã€‚é‡å¯ã€‚å®Œæ¯•ã€‚</p><blockquote><p>å‚è€ƒï¼š</p><ul><li><p><a href="https://renenyffenegger.ch/notes/Windows/registry/tree/HKEY_LOCAL_MACHINE/System/CurrentControlSet/Control/Keyboard-Layout/index">Registry: HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Keyboard Layout (renenyffenegger.ch)</a></p></li><li><p><a href="https://superuser.com/a/1264295">https://superuser.com/a/1264295</a></p></li></ul></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Windows Registry Editor Version 5.00</span><br><span class="line"></span><br><span class="line">; è¿™ä¸€ä¸²åå…­è¿›åˆ¶æ•°æ®åˆ†ä¸ºäº”ç»„ï¼Œæ¯ç»„å››ä¸ªå­—èŠ‚:</span><br><span class="line">;   00,00,00,00,\    header ç‰ˆæœ¬ (å›ºå®šå€¼ 00000000)</span><br><span class="line">;   00,00,00,00,\    header flags (å›ºå®šå€¼ 00000000)</span><br><span class="line">;   04,00,00,00,\    # è¯¥æ–‡æœ¬æè¿°äº†ä¸€ç»„æ¡ç›®ï¼ˆåœ¨æ­¤æƒ…å†µä¸‹æ˜¯3ä¸ªï¼‰ï¼Œä»¥åŠä¸€ä¸ªç©ºç»ˆæ­¢ç¬¦è¡Œã€‚</span><br><span class="line">;                    æ¯ä¸ªæ¡ç›®éƒ½ç”±ä¸€ä¸ª2å­—èŠ‚çš„é…å¯¹ç»„æˆï¼šè¦å‘é€çš„é”®ç å’Œè¦å‘é€çš„é”®ç›˜æŒ‰é”®ã€‚</span><br><span class="line">;                    æ¯ä¸ªæ¡ç›®æŒ‰ç…§â€œæœ€ä¸é‡è¦å­—èŠ‚ï¼Œæœ€é‡è¦å­—èŠ‚â€çš„é¡ºåºæ’åˆ—ï¼Œä¾‹å¦‚ 0x1234 å˜ä¸º 34,12</span><br><span class="line">;   1d,00,3a,00,\    å‘é€ LEFT CTRL (0x001d) code å½“ç”¨æˆ·æŒ‰ä¸‹ CAPS LOCK key (0x003a) </span><br><span class="line">;   38,00,1d,00,\    å‘é€ LEFT ALT (0x0038) code å½“ç”¨æˆ·æŒ‰ä¸‹ LEFT CTRL key (0x001d) </span><br><span class="line">;   3a,00,38,00,\    å‘é€ CAPS LOCK (0x003a) code å½“ç”¨æˆ·æŒ‰ä¸‹ LEFT ALT key (0x0038) </span><br><span class="line">;   00,00,00,00      NULL ç»ˆæ­¢ç¬¦</span><br><span class="line"></span><br><span class="line">[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Keyboard Layout]</span><br><span class="line">&quot;Scancode Map&quot;=hex:00,00,00,00,\</span><br><span class="line">                   00,00,00,00,\</span><br><span class="line">                   04,00,00,00,\</span><br><span class="line">                   1d,00,3a,00,\</span><br><span class="line">                   38,00,1d,00,\</span><br><span class="line">                   3a,00,38,00,\</span><br><span class="line">                   00,00,00,00</span><br></pre></td></tr></table></figure><h2 id="æ–¹æ³•-2-åˆ›å»ºæ‚¨è‡ªå·±çš„æ³¨å†Œè¡¨é¡¹æ–‡ä»¶"><a href="#æ–¹æ³•-2-åˆ›å»ºæ‚¨è‡ªå·±çš„æ³¨å†Œè¡¨é¡¹æ–‡ä»¶" class="headerlink" title="æ–¹æ³• 2. åˆ›å»ºæ‚¨è‡ªå·±çš„æ³¨å†Œè¡¨é¡¹æ–‡ä»¶"></a>æ–¹æ³• 2. åˆ›å»ºæ‚¨è‡ªå·±çš„æ³¨å†Œè¡¨é¡¹æ–‡ä»¶</h2><p>åˆ›å»ºä¸€ä¸ªæ–°çš„ <code>.reg</code> æ–‡ä»¶å¹¶å°†å…¶å‘½åä¸ºæœ‰æ„ä¹‰çš„åç§°ï¼Œä¾‹å¦‚ <code>capstoctrl.reg</code> ã€‚ç¼–è¾‘æ–‡ä»¶å¹¶ç²˜è´´ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Windows Registry Editor Version 5.00</span><br><span class="line"></span><br><span class="line">[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Keyboard Layout]</span><br><span class="line">&quot;Scancode Map&quot;=hex:00,00,00,00,00,00,00,00,02,00,00,00,1d,00,3a,00,00,00,00,00</span><br></pre></td></tr></table></figure><p>ä¿å­˜ã€‚è¿è¡Œè¯¥æ–‡ä»¶ã€‚é‡å¯ã€‚å®Œæ¯•ã€‚</p><h2 id="æ–¹æ³•-3-é€šè¿‡-PowerShellï¼ˆä»¥ç®¡ç†å‘˜èº«ä»½ï¼‰"><a href="#æ–¹æ³•-3-é€šè¿‡-PowerShellï¼ˆä»¥ç®¡ç†å‘˜èº«ä»½ï¼‰" class="headerlink" title="æ–¹æ³• 3. é€šè¿‡ PowerShellï¼ˆä»¥ç®¡ç†å‘˜èº«ä»½ï¼‰"></a>æ–¹æ³• 3. é€šè¿‡ PowerShellï¼ˆä»¥ç®¡ç†å‘˜èº«ä»½ï¼‰</h2><p>ä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€ PowerShell (Win + X)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$hexified = &quot;00,00,00,00,00,00,00,00,02,00,00,00,1d,00,3a,00,00,00,00,00&quot;.Split(&#x27;,&#x27;) | % &#123; &quot;0x$_&quot;&#125;;</span><br><span class="line"></span><br><span class="line">$kbLayout = &#x27;HKLM:\System\CurrentControlSet\Control\Keyboard Layout&#x27;;</span><br><span class="line"></span><br><span class="line">New-ItemProperty -Path $kbLayout -Name &quot;Scancode Map&quot; -PropertyType Binary -Value ([byte[]]$hexified);</span><br></pre></td></tr></table></figure><p>ä¿å­˜ã€‚è¿è¡Œè¯¥æ–‡ä»¶ã€‚é‡å¯ã€‚å®Œæ¯•ã€‚</p><h2 id="æ–¹æ³•-4-Microsoft-PowerToys"><a href="#æ–¹æ³•-4-Microsoft-PowerToys" class="headerlink" title="æ–¹æ³• 4. Microsoft PowerToys"></a>æ–¹æ³• 4. Microsoft PowerToys</h2><p>å°è¯•ä¸€ä¸‹ PowerToys ä¸ä»…å¯ä»¥é‡æ–°æ˜ å°„å¤§å†™é”å®šé”®ï¼Œè¿˜å¯ä»¥é‡æ–°æ˜ å°„å…¶ä»–é”®ã€‚ Microsoft PowerToysï¼šè‡ªå®šä¹‰ Windows 10 çš„å®ç”¨ç¨‹åºã€‚</p><p>Microsoft PowerToysï¼šé”®ç›˜ç®¡ç†å™¨ä½¿æ‚¨èƒ½å¤Ÿé‡æ–°å®šä¹‰é”®ç›˜ä¸Šçš„æŒ‰é”®ã€‚</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936313430601693631342489.png" alt="16936313430601693631342489.png"></p><blockquote><p>ä»¥ä¸Šæ–¹æ³•éƒ½æœ‰é—®é¢˜ï¼Œå¦‚æœä½ è¿˜ä½¿ç”¨å…¶ä»–ä¾èµ– <code>ctrl</code> çš„è½¯ä»¶å¯èƒ½å°±ä¼šå‡ºé—®é¢˜ã€‚</p><p>è¿™äº›è½¯ä»¶å¦‚æœéœ€è¦ç›‘å¬åŸå§‹æŒ‰é”®ï¼Œæ˜¯ä¾æ—§å¯ä»¥ç›‘å¬åˆ° <code>caps</code> æŒ‰ä¸‹ã€‚è¿™ä¸ªæ—¶å€™åœ¨ sysinternals å·¥å…·ç®±æœ‰ä¸€ä¸ªå« <code>ctrl2cap</code> çš„å·¥å…·</p></blockquote><h2 id="æ–¹æ³•5-Ctrl2Cap-é©±åŠ¨çº§ä¿®æ”¹"><a href="#æ–¹æ³•5-Ctrl2Cap-é©±åŠ¨çº§ä¿®æ”¹" class="headerlink" title="æ–¹æ³•5. Ctrl2Cap é©±åŠ¨çº§ä¿®æ”¹"></a>æ–¹æ³•5. Ctrl2Cap é©±åŠ¨çº§ä¿®æ”¹</h2><blockquote><p>å‡ºå¤„ï¼š<a href="https://learn.microsoft.com/zh-cn/sysinternals/downloads/ctrl2cap">Ctrl2cap - Sysinternals | Microsoft Learn</a></p></blockquote><p>Ctrl2cap æ˜¯ä¸€ä¸ªå†…æ ¸æ¨¡å¼è®¾å¤‡é©±åŠ¨ç¨‹åºï¼Œç”¨äºç­›é€‰ç³»ç»Ÿçš„é”®ç›˜ç±»é©±åŠ¨ç¨‹åºï¼Œä»¥ä¾¿å°† caps-lock å­—ç¬¦è½¬æ¢ä¸º control å­—ç¬¦ã€‚ åƒæˆ‘è¿™æ ·ä» UNIX è¿ç§»åˆ° NT çš„äººä¹ æƒ¯äºå°† control é”®ç½®äºæ ‡å‡†ç”µè„‘é”®ç›˜ä¸Š caps-lock é”®çš„ä½ç½®ï¼Œå› æ­¤è¿™æ ·çš„å®ç”¨å·¥å…·å¯¹äºæˆ‘ä»¬çš„ç¼–è¾‘å·¥ä½œè‡³å…³é‡è¦ã€‚</p><p><strong>å®‰è£…</strong></p><ul><li>æ‰“å¼€ç®¡ç†å‘˜ cmdï¼Œæˆ–è€… ç®¡ç†å‘˜ powershell</li><li>ä»è§£å‹ç¼© Ctrl2cap æ–‡ä»¶çš„ç›®å½•ä¸­è¿è¡Œå‘½ä»¤ <code>Ctrl2cap.exe /install</code> ä»¥å®‰è£… Ctrl2capã€‚ è‹¥è¦å¸è½½ï¼Œ<code>ctrl2cap /uninstall</code></li></ul><p><strong>Ctrl2cap çš„å·¥ä½œåŸç†</strong></p><p>åœ¨ NT 4 ä¸Šï¼ŒCtrlcap å®é™…ä¸Šç›¸å½“ç®€å•ã€‚ å®ƒåªæ˜¯å°†è‡ªèº«é™„åŠ åˆ°é”®ç›˜ç±»é©±åŠ¨ç¨‹åºï¼Œä»¥ä¾¿æ•è·é”®ç›˜è¯»å–è¯·æ±‚ã€‚ å¯¹äºæ¯ä¸ªè¯·æ±‚ï¼Œå®ƒéƒ½ä¼šå‘å¸ƒä¸€ä¸ª I&#x2F;O å®Œæˆå›è°ƒï¼Œæ­¤æ—¶å®ƒä¼šæŸ¥çœ‹è¿”å›çš„æ‰«æä»£ç ã€‚ å¦‚æœå®ƒæ°å¥½æ˜¯ caps-lockï¼Œåˆ™ ctrl2cap å°†å…¶æ›´æ”¹ä¸ºleft-controlã€‚</p><p>åœ¨ Win2K ä¸Šï¼ŒCtrl2cap æ˜¯ä¸€ä¸ª WDM ç­›é€‰å™¨é©±åŠ¨ç¨‹åºï¼Œå®ƒåœ¨é”®ç›˜ç±»è®¾å¤‡ä¹‹ä¸Šçš„é”®ç›˜ç±»è®¾å¤‡å †æ ˆä¸­åˆ†å±‚ã€‚ è¿™ä¸ Win2K DDK çš„ kbfiltr ç¤ºä¾‹å½¢æˆå¯¹æ¯”ï¼Œåè€…å°†è‡ªå·±åˆ†å±‚åœ¨ i8042 ç«¯å£è®¾å¤‡å’Œé”®ç›˜ç±»è®¾å¤‡ä¹‹é—´ã€‚ å‡ºäºä»¥ä¸‹å‡ ä¸ªåŸå› ï¼Œæˆ‘é€‰æ‹©åœ¨é”®ç›˜ç±»è®¾å¤‡ä¸Šåˆ†å±‚ï¼š</p><ul><li>è¿™æ„å‘³ç€ Ctrl2cap IRP_MJ_READ æ‹¦æˆªå’Œæ“ä½œä»£ç åœ¨ NT 4 å’Œ Win2K ç‰ˆæœ¬ä¹‹é—´å…±äº«ã€‚</li><li>æˆ‘ä¸éœ€è¦æä¾› INF æ–‡ä»¶ï¼Œä¹Ÿä¸éœ€è¦è®©ç”¨æˆ·é€šè¿‡è®¾å¤‡ç®¡ç†å™¨æ¥å®‰è£… Ctrl2cap - æˆ‘åªéœ€ä¿®æ”¹ç›¸åº”çš„æ³¨å†Œè¡¨å€¼ï¼ˆé”®ç›˜ç±»è®¾å¤‡çš„ HKLM\System\CurrentControlSet\Control\Class UpperFilters å€¼ï¼‰ã€‚</li></ul><p>æˆ‘çš„æ–¹æ³•çš„ç¼ºç‚¹æ˜¯ï¼ˆè¿™æ˜¯ä¸€ä¸ªä¼˜ç‚¹è¿˜æ˜¯ç¼ºç‚¹ï¼Œå–å†³äºä½ çš„è§‚ç‚¹ï¼‰ï¼š</p><ul><li>ç”±äºæˆ‘æ²¡æœ‰é€šè¿‡è®¾å¤‡ç®¡ç†å™¨ä½¿ç”¨ INF æ–‡ä»¶è¿›è¡Œå®‰è£…ï¼Œå› æ­¤ä¸ä¼šè­¦å‘Šç”¨æˆ· Ctrl2cap é©±åŠ¨ç¨‹åºæ–‡ä»¶æœªç”± Microsoft è¿›è¡Œæ•°å­—ç­¾åã€‚</li></ul><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘è§‰å¾—ä¼˜ç‚¹å¤§äºç¼ºç‚¹ã€‚ ä½†æ˜¯ï¼Œåœ¨ä¸º Ctrl2cap ä¸Šçš„ Win2K é”®ç›˜ç­›é€‰å™¨å»ºæ¨¡ä¹‹å‰ï¼Œæˆ‘å¼ºçƒˆå»ºè®®ä½ å­¦ä¹  Win2K DDK ä¸­çš„ kbfiltr ç¤ºä¾‹ã€‚ Kbfiltr åœ¨é”®è¾“å…¥åºåˆ—ä¸­çš„æ‹¦æˆªç‚¹ä½¿ kbfiltr å¯ä»¥è½»æ¾åœ°å°†å‡»é”®æ³¨å…¥è¾“å…¥æµã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://learn.microsoft.com/zh-cn/sysinternals/downloads/ctrl2cap">Ctrl2cap - Sysinternals | Microsoft Learn</a></li><li><a href="https://superuser.com/a/1389340">https://superuser.com/a/1389340</a></li><li><a href="https://gist.github.com/joshschmelzle/5e88dabc71014d7427ff01bca3fed33d">Remap Caps Lock to Control on Windows 10 (github.com)</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Windows-é‡æ–°æ˜ å°„-CapsLock-å¤§å†™é”å®šåˆ°-Ctrl&quot;&gt;&lt;a href=&quot;#Windows-é‡æ–°æ˜ å°„-CapsLock-å¤§å†™é”å®šåˆ°-Ctrl&quot; class=&quot;headerlink&quot; title=&quot;Windows é‡æ–°æ˜ å°„ CapsLock å¤§å†™é”å®šåˆ° </summary>
      
    
    
    
    <category term="é»˜è®¤" scheme="https://james-curtis.github.io/en/categories/%E9%BB%98%E8%AE%A4/"/>
    
    
  </entry>
  
  <entry>
    <title>WSL Ubuntu ä¸­é root çš„æ™®é€šç”¨æˆ·æ€ä¹ˆç›´æ¥æ‰§è¡Œ Docker å‘½ä»¤</title>
    <link href="https://james-curtis.github.io/en/2023/how-can-non-root-ordinary-users-directly-execute-docker-commands-in-wsl-ubuntu/"/>
    <id>https://james-curtis.github.io/en/2023/how-can-non-root-ordinary-users-directly-execute-docker-commands-in-wsl-ubuntu/</id>
    <published>2023-09-01T15:19:01.000Z</published>
    <updated>2023-12-15T03:58:52.141Z</updated>
    
    <content type="html"><![CDATA[<p>dockeréœ€è¦rootæƒé™ï¼Œå¦‚æœå¸Œæœ›érootç”¨æˆ·ç›´æ¥ä½¿ç”¨dockerå‘½ä»¤ï¼Œè€Œä¸æ˜¯ä½¿ç”¨sudoï¼Œå¯ä»¥é€‰æ‹©å°†è¯¥ç”¨æˆ·åŠ å…¥åˆ°dockerç”¨æˆ·ç»„ã€‚</p><p><code>sudo groupadd docker</code>ï¼šæ·»åŠ åˆ°groupaddç”¨æˆ·ç»„ï¼ˆå·²ç»æœ‰dockerç”¨æˆ·ç»„ï¼Œæ‰€ä»¥å¯ä»¥ä¸ç”¨å†æ–°å¢dockerç”¨æˆ·ç»„ï¼‰</p><p><code>sudo gpasswd -a $USER docker</code>ï¼šæ·»åŠ å½“å‰ç”¨æˆ·åˆ°dockerç»„</p><p><code>newgrp docker</code>ï¼šæ›´æ–°dockerç”¨æˆ·ç»„</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;dockeréœ€è¦rootæƒé™ï¼Œå¦‚æœå¸Œæœ›érootç”¨æˆ·ç›´æ¥ä½¿ç”¨dockerå‘½ä»¤ï¼Œè€Œä¸æ˜¯ä½¿ç”¨sudoï¼Œå¯ä»¥é€‰æ‹©å°†è¯¥ç”¨æˆ·åŠ å…¥åˆ°dockerç”¨æˆ·ç»„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sudo groupadd docker&lt;/code&gt;ï¼šæ·»åŠ åˆ°groupaddç”¨æˆ·ç»„ï¼ˆå·²ç»æœ‰dockerç”¨</summary>
      
    
    
    
    <category term="é»˜è®¤" scheme="https://james-curtis.github.io/en/categories/%E9%BB%98%E8%AE%A4/"/>
    
    
  </entry>
  
  <entry>
    <title>åœ¨ WSL2 ä¸­ä½¿ç”¨ NVIDIA Docker è¿›è¡Œå…¨æ ˆå¼€å‘å’Œæ·±åº¦å­¦ä¹  TensorFlow pytorch GPU åŠ é€Ÿ</title>
    <link href="https://james-curtis.github.io/en/2023/full-stack-development-and-deep-learning-tensorflow-pytorch-gpu-acceleration-using-nvidia-docker-in-wsl2/"/>
    <id>https://james-curtis.github.io/en/2023/full-stack-development-and-deep-learning-tensorflow-pytorch-gpu-acceleration-using-nvidia-docker-in-wsl2/</id>
    <published>2023-08-31T03:13:32.000Z</published>
    <updated>2023-12-15T03:58:52.141Z</updated>
    
    <content type="html"><![CDATA[<h2 id="0-èƒŒæ™¯"><a href="#0-èƒŒæ™¯" class="headerlink" title="0. èƒŒæ™¯"></a>0. èƒŒæ™¯</h2><h3 id="0-1-èµ·æº"><a href="#0-1-èµ·æº" class="headerlink" title="0.1 èµ·æº"></a>0.1 èµ·æº</h3><ul><li>ç”Ÿäº§ç¯å¢ƒéƒ½æ˜¯åœ¨ k8d pod ä¸­è¿è¡Œï¼Œç›´æ¥åœ¨å®¹å™¨ä¸­å¼€å‘ä¸å¥½å˜›ï¼Ÿ</li><li>æ¯æ¬¡æ¢ç”µè„‘ï¼Œéƒ½è¦é…é…é…ï¼Œå‘¸å‘¸å‘¸</li><li>æ–°ç”µè„‘åªå®‰è£…æ—¥å¸¸ç”¨çš„è½¯ä»¶ä¸å¥½å˜›ï¼Œç¯å¢ƒå˜é‡é…é…é…ï¼Œå„ç§æ—¥å¸¸è½¯ä»¶å’Œå¼€å‘è½¯ä»¶åˆ°å¤„æ‹‰ğŸ’©</li><li>è™šæ‹Ÿæœºå‘—ï¼Œæ€ä¹ˆè°ƒç”¨ GPU æ˜¯ä¸ªé—®é¢˜ï¼Œhyper-v å¥½åƒæ˜¯å¯ä»¥é­”æ”¹é…ç½®å®ç°ï¼Œåˆå¾—æ”¹æ”¹æ”¹ã€‚æ”¹å¥½äº†æœ¬åœ°èƒ½è·‘äº†ï¼Œç”Ÿäº§ç»™ä½ æŠ¥é”™æŠ¥é”™é”™é”™é”™</li><li>åˆ°å¤„æ‹‰ğŸ’©ï¼Œæ–‡ä»¶å¼„ä¹±äº†æ€ä¹ˆåŠï¼Œå®¹å™¨ç›´æ¥é”€æ¯é‡å»ºå°±å®Œäº‹ï¼Œåˆ†åˆ†é’Ÿè§£å†³ã€‚ç”µè„‘é‡è£…å†é…ç¯å¢ƒä¹Ÿé­ä¸ä½</li></ul><h3 id="0-2-å®¹å™¨åŒ–å¼€å‘ä¹‹å"><a href="#0-2-å®¹å™¨åŒ–å¼€å‘ä¹‹å" class="headerlink" title="0.2. å®¹å™¨åŒ–å¼€å‘ä¹‹å"></a>0.2. å®¹å™¨åŒ–å¼€å‘ä¹‹å</h3><ul><li>å®¿ä¸»æœºç”µè„‘éšä¾¿æ¢ï¼Œéšä¾¿é‡è£…ã€‚é‡è£…ä¹‹åæˆ‘åªè¦ <code>ä¸Šç½‘</code> + <code>wsl --install</code> + <code>get docker</code> + <code>docker compose up -d</code> å°±å®Œäº‹äº†</li><li>æ¢ macOSï¼Ÿæ²¡äº‹ï¼Œ<code>docker compsoe up -d</code></li><li>æ¢ Windowsï¼Ÿæ²¡äº‹ï¼Œ<code>docker compose up -d</code></li><li>æ²¡ç”µè„‘ï¼Ÿæ²¡äº‹ï¼Œæå°è¿œç¨‹æœºå­ <code>ssh</code> +  <code>docker compose up -d</code></li><li>ç”µè„‘ç‚¸äº†ï¼Ÿæ²¡äº‹ï¼Œæ‰€æœ‰ git ä¿®æ”¹éƒ½åœ¨è¿œç«¯æœ‰ä¸€ä»½ã€‚å¼€å‘ç¯å¢ƒæ¢å°æœºå­ <code>docker compose up -d</code> ç»§ç»­</li></ul><h3 id="0-3-ä¸è¶³"><a href="#0-3-ä¸è¶³" class="headerlink" title="0.3 ä¸è¶³"></a>0.3 ä¸è¶³</h3><ul><li>å¦‚æœæ˜¯åš k8s å¼€å‘çš„ï¼Œä¼°è®¡ä¸è¡Œï¼Œèµ·æœ¬åœ°é›†ç¾¤å»ºè®®ç”¨ vagrantã€‚æœ¬è´¨ä¸Šä¸€ä¸ªå®¹å™¨æ ¹æœ¬æ— æ³•è§£å†³è¿™ä¸ªé—®é¢˜</li><li>å¦‚æœæ²¡æœ‰æœºå™¨ä¸æ”¯æŒ <code>systemd</code> æ²¡æ³•æï¼Œæ¯”å¦‚å…¬å¸åªç»™æä¾›å¼€å‘å®¹å™¨ç¯å¢ƒï¼ˆåªèƒ½æ“ä½œç»™ä½ çš„å®¹å™¨ï¼‰ï¼Œè¿™ä¸ªæƒ…å†µä¸‹ç›®å‰æ­£åœ¨è§£å†³ï¼Œä½¿ç”¨ ansible é‡å†™ Dockerfile é‡Œé¢çš„è„šæœ¬ï¼Œæ‘†è„±å®¹å™¨é™åˆ¶ã€‚ä¸»è¦åŒºåˆ«å°±æ˜¯ç¯å¢ƒå®‰è£…è¿‡ç¨‹åœ¨æœ¬åœ°è¿˜æ˜¯åœ¨è¿œç«¯</li></ul><h2 id="1-å‰ç½®æ¡ä»¶"><a href="#1-å‰ç½®æ¡ä»¶" class="headerlink" title="1. å‰ç½®æ¡ä»¶"></a>1. å‰ç½®æ¡ä»¶</h2><h3 id="1-1-å®‰è£…ç³»ç»Ÿ"><a href="#1-1-å®‰è£…ç³»ç»Ÿ" class="headerlink" title="1.1. å®‰è£…ç³»ç»Ÿ"></a>1.1. å®‰è£…ç³»ç»Ÿ</h3><p>Windows 10 ç‰ˆæœ¬ 2004 åŠæ›´é«˜ç‰ˆæœ¬ï¼ˆå†…éƒ¨ç‰ˆæœ¬ 19041 åŠæ›´é«˜ç‰ˆæœ¬ï¼‰æˆ– Windows 11</p><p><strong>è·³è¿‡</strong></p><h3 id="1-2-å¤„ç†å¥½ç½‘ç»œç¯å¢ƒ"><a href="#1-2-å¤„ç†å¥½ç½‘ç»œç¯å¢ƒ" class="headerlink" title="1.2. å¤„ç†å¥½ç½‘ç»œç¯å¢ƒ"></a>1.2. å¤„ç†å¥½ç½‘ç»œç¯å¢ƒ</h3><p>å®‰è£…è¿‡ç¨‹ä¸­éœ€è¦è®¿é—®å›½é™…ç½‘ç»œï¼Œè‡ªè¡Œå¤„ç†å¥½ã€‚å»ºè®®å¼€å¯ tun æ¨¡å¼</p><h2 id="2-å‡†å¤‡-WSL"><a href="#2-å‡†å¤‡-WSL" class="headerlink" title="2. å‡†å¤‡ WSL"></a>2. å‡†å¤‡ WSL</h2><h3 id="2-1-å®‰è£…-WSL"><a href="#2-1-å®‰è£…-WSL" class="headerlink" title="2.1. å®‰è£… WSL"></a>2.1. å®‰è£… WSL</h3><p>åœ¨ç®¡ç†å‘˜æ¨¡å¼ä¸‹æ‰“å¼€ PowerShell æˆ– Windows å‘½ä»¤æç¤ºç¬¦</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --install</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆï¼Œé‡å¯ç”µè„‘</p><h3 id="2-2-é¦–æ¬¡æ‰“å¼€-WSL"><a href="#2-2-é¦–æ¬¡æ‰“å¼€-WSL" class="headerlink" title="2.2. é¦–æ¬¡æ‰“å¼€ WSL"></a>2.2. é¦–æ¬¡æ‰“å¼€ WSL</h3><p>é‡å¯å®Œæˆåï¼Œæ‰“å¼€ powershellï¼Œè¾“å…¥</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶åº”è¯¥ä¼šæç¤ºä¸º Linux å‘è¡Œç‰ˆåˆ›å»ºâ€œç”¨æˆ·åâ€å’Œâ€œå¯†ç â€</p><blockquote><p>å¦‚æœè¿™é‡Œæç¤ºæ²¡æœ‰å®‰è£… Linux å‘è¡Œç‰ˆï¼Œé‚£ä¹ˆè¿™é‡Œå¯ä»¥å†æ¬¡æ‰§è¡Œ <code>wsl --install</code>ï¼Œä¼šè‡ªåŠ¨å®‰è£… Ubuntu 22.04 LTS</p></blockquote><h3 id="2-3-è®¾ç½®-root-å¯†ç "><a href="#2-3-è®¾ç½®-root-å¯†ç " class="headerlink" title="2.3. è®¾ç½® root å¯†ç "></a>2.3. è®¾ç½® root å¯†ç </h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo passwd</span><br></pre></td></tr></table></figure><h3 id="2-4-æ¢æº"><a href="#2-4-æ¢æº" class="headerlink" title="2.4. æ¢æº"></a>2.4. æ¢æº</h3><p>åˆ‡æ¢åˆ° root ç”¨æˆ·ï¼Œæ‰§è¡Œä¸‹é¢å‘½ä»¤æ¢æº</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> &lt;&lt;<span class="string">&#x27;EOF&#x27;</span> &gt; /etc/apt/sources.list</span><br><span class="line"><span class="comment"># é»˜è®¤æ³¨é‡Šäº†æºç é•œåƒä»¥æé«˜ apt update é€Ÿåº¦ï¼Œå¦‚æœ‰éœ€è¦å¯è‡ªè¡Œå–æ¶ˆæ³¨é‡Š</span></span><br><span class="line">deb https://mirror.nju.edu.cn/ubuntu/ jammy main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirror.nju.edu.cn/ubuntu/ jammy main restricted universe multiverse</span></span><br><span class="line">deb https://mirror.nju.edu.cn/ubuntu/ jammy-updates main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirror.nju.edu.cn/ubuntu/ jammy-updates main restricted universe multiverse</span></span><br><span class="line">deb https://mirror.nju.edu.cn/ubuntu/ jammy-backports main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirror.nju.edu.cn/ubuntu/ jammy-backports main restricted universe multiverse</span></span><br><span class="line"></span><br><span class="line">deb https://mirror.nju.edu.cn/ubuntu/ jammy-security main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirror.nju.edu.cn/ubuntu/ jammy-security main restricted universe multiverse</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># deb http://security.ubuntu.com/ubuntu/ jammy-security main restricted universe multiverse</span></span><br><span class="line"><span class="comment"># # deb-src http://security.ubuntu.com/ubuntu/ jammy-security main restricted universe multiverse</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é¢„å‘å¸ƒè½¯ä»¶æºï¼Œä¸å»ºè®®å¯ç”¨</span></span><br><span class="line"><span class="comment"># deb https://mirror.nju.edu.cn/ubuntu/ jammy-proposed main restricted universe multiverse</span></span><br><span class="line"><span class="comment"># # deb-src https://mirror.nju.edu.cn/ubuntu/ jammy-proposed main restricted universe multiverse</span></span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><blockquote><p>å‡ºå¤„ï¼šå—äº¬å¤§å­¦é•œåƒç«™ -&gt; <a href="https://mirror.nju.edu.cn/mirrorz-help/ubuntu/?mirror=NJU">https://mirror.nju.edu.cn/mirrorz-help/ubuntu/?mirror=NJU</a></p></blockquote><h3 id="2-5-ï¼ˆå¯é€‰ï¼‰è¿ç§»-WSL-ç£ç›˜ç›®å½•"><a href="#2-5-ï¼ˆå¯é€‰ï¼‰è¿ç§»-WSL-ç£ç›˜ç›®å½•" class="headerlink" title="2.5.ï¼ˆå¯é€‰ï¼‰è¿ç§» WSL ç£ç›˜ç›®å½•"></a>2.5.ï¼ˆå¯é€‰ï¼‰è¿ç§» WSL ç£ç›˜ç›®å½•</h3><p>è¿™é‡Œä»¥è¿ç§»åˆ° <code>D:\hyper-v\ubu1\ubu1.vhdx</code> ä¸ºä¾‹</p><h3 id="2-6-è®¾ç½®é»˜è®¤ç”¨æˆ·"><a href="#2-6-è®¾ç½®é»˜è®¤ç”¨æˆ·" class="headerlink" title="2.6. è®¾ç½®é»˜è®¤ç”¨æˆ·"></a>2.6. è®¾ç½®é»˜è®¤ç”¨æˆ·</h3><p>æŠŠ <code>ä½ çš„ç”¨æˆ·å</code> æ›¿æ¢æˆä½ è®¾ç½®çš„ç”¨æˆ·åï¼Œç„¶ååœ¨ WSL ä¸­æ‰§è¡Œ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="built_in">echo</span> <span class="string">&quot;[user]\ndefault=ä½ çš„ç”¨æˆ·å&quot;</span> &gt;&gt; /etc/wsl.conf</span><br></pre></td></tr></table></figure><p>æ¯”å¦‚æˆ‘çš„ç”¨æˆ·åæ˜¯ <code>linux</code>ï¼Œé‚£ä¹ˆæˆ‘æ‰§è¡Œçš„å‘½ä»¤å°±æ˜¯ <code>sudo echo &quot;[user]\ndefault=linux&quot; &gt;&gt; /etc/wsl.conf</code></p><h3 id="2-7-å¯¼å‡ºç£ç›˜é•œåƒ"><a href="#2-7-å¯¼å‡ºç£ç›˜é•œåƒ" class="headerlink" title="2.7. å¯¼å‡ºç£ç›˜é•œåƒ"></a>2.7. å¯¼å‡ºç£ç›˜é•œåƒ</h3><p>åœ¨ Windows poweshell ä¸­æ‰§è¡Œ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --<span class="built_in">export</span> Ubuntu d:\hyper-v\ubu1\ubu1.vhdx --vhd</span><br></pre></td></tr></table></figure><h3 id="2-8-åˆ é™¤åŸç³»ç»Ÿ"><a href="#2-8-åˆ é™¤åŸç³»ç»Ÿ" class="headerlink" title="2.8. åˆ é™¤åŸç³»ç»Ÿ"></a>2.8. åˆ é™¤åŸç³»ç»Ÿ</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --unregister Ubuntu</span><br></pre></td></tr></table></figure><h3 id="2-9-å¯¼å…¥æ–°ç³»ç»Ÿ"><a href="#2-9-å¯¼å…¥æ–°ç³»ç»Ÿ" class="headerlink" title="2.9. å¯¼å…¥æ–°ç³»ç»Ÿ"></a>2.9. å¯¼å…¥æ–°ç³»ç»Ÿ</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --import-in-place ubu1 d:\hyper-v\ubu1\ubu1.vhdx</span><br></pre></td></tr></table></figure><h2 id="3-é…ç½®-NVIDIA-Docker"><a href="#3-é…ç½®-NVIDIA-Docker" class="headerlink" title="3. é…ç½® NVIDIA Docker"></a>3. é…ç½® NVIDIA Docker</h2><h3 id="3-1-å®‰è£…-Docker"><a href="#3-1-å®‰è£…-Docker" class="headerlink" title="3.1. å®‰è£… Docker"></a>3.1. å®‰è£… Docker</h3><blockquote><p>å‚è€ƒï¼šdocker å®˜ç½‘ å’Œ å—äº¬å¤§å­¦é•œåƒ -&gt; <a href="https://mirror.nju.edu.cn/mirrorz-help/docker-ce/?mirror=NJU">https://mirror.nju.edu.cn/mirrorz-help/docker-ce/?mirror=NJU</a></p></blockquote><p>åœ¨ powershell ä¸­è¾“å…¥ <code>wsl</code>ï¼Œè¿›å…¥ WSL ä¸­ï¼Œæ‰§è¡Œ</p><p>é¦–å…ˆå®‰è£…ä¾èµ–ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install ca-certificates curl gnupg</span><br></pre></td></tr></table></figure><p>ä¿¡ä»» Docker çš„ GPG å…¬é’¥å¹¶æ·»åŠ ä»“åº“ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo install -m 0755 -d /etc/apt/keyrings</span><br><span class="line">curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg</span><br><span class="line">sudo <span class="built_in">chmod</span> a+r /etc/apt/keyrings/docker.gpg</span><br><span class="line"><span class="built_in">echo</span> \</span><br><span class="line">  <span class="string">&quot;deb [arch=<span class="subst">$(dpkg --print-architecture)</span> signed-by=/etc/apt/keyrings/docker.gpg] https://mirror.nju.edu.cn/docker-ce/linux/ubuntu \</span></span><br><span class="line"><span class="string">  &quot;</span>$(. /etc/os-release &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$VERSION_CODENAME</span>&quot;</span>)<span class="string">&quot; stable&quot;</span> | \</span><br><span class="line">  sudo <span class="built_in">tee</span> /etc/apt/sources.list.d/docker.list &gt; /dev/null</span><br></pre></td></tr></table></figure><p>æœ€åå®‰è£… Docker</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin</span><br></pre></td></tr></table></figure><h3 id="3-2-é…ç½®æ™®é€šç”¨æˆ·ç›´æ¥ä½¿ç”¨-Docker-å‘½ä»¤"><a href="#3-2-é…ç½®æ™®é€šç”¨æˆ·ç›´æ¥ä½¿ç”¨-Docker-å‘½ä»¤" class="headerlink" title="3.2. é…ç½®æ™®é€šç”¨æˆ·ç›´æ¥ä½¿ç”¨ Docker å‘½ä»¤"></a>3.2. é…ç½®æ™®é€šç”¨æˆ·ç›´æ¥ä½¿ç”¨ Docker å‘½ä»¤</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo gpasswd -a <span class="variable">$USER</span> docker</span><br><span class="line">newgrp docker</span><br></pre></td></tr></table></figure><h3 id="3-3-å®‰è£…-NVIDIA-æ”¯æŒ"><a href="#3-3-å®‰è£…-NVIDIA-æ”¯æŒ" class="headerlink" title="3.3 å®‰è£… NVIDIA æ”¯æŒ"></a>3.3 å®‰è£… NVIDIA æ”¯æŒ</h3><blockquote><p>å‚è€ƒï¼šå¾®è½¯ WSL å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://learn.microsoft.com/zh-cn/windows/wsl/tutorials/gpu-compute">https://learn.microsoft.com/zh-cn/windows/wsl/tutorials/gpu-compute</a></p></blockquote><p>é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤ä¸º NVIDIA å®¹å™¨å·¥å…·åŒ…è®¾ç½®ç¨³å®šå­˜å‚¨åº“ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">distribution=$(. /etc/os-release;<span class="built_in">echo</span> $ID<span class="variable">$VERSION_ID</span>)</span><br><span class="line">curl -s -L https://nvidia.github.io/nvidia-docker/gpgkey | sudo gpg --dearmor -o /usr/share/keyrings/nvidia-docker-keyring.gpg</span><br><span class="line">curl -s -L https://nvidia.github.io/nvidia-docker/<span class="variable">$distribution</span>/nvidia-docker.list | sed <span class="string">&#x27;s#deb https://#deb [signed-by=/usr/share/keyrings/nvidia-docker-keyring.gpg] https://#g&#x27;</span> | sudo <span class="built_in">tee</span> /etc/apt/sources.list.d/nvidia-docker.list</span><br></pre></td></tr></table></figure><p>å®‰è£… NVIDIA è¿è¡Œæ—¶åŒ…å’Œä¾èµ–é¡¹</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install -y nvidia-docker2</span><br></pre></td></tr></table></figure><h3 id="3-4-Docker-æ¢æº"><a href="#3-4-Docker-æ¢æº" class="headerlink" title="3.4 Docker æ¢æº"></a>3.4 Docker æ¢æº</h3><blockquote><p>å‚è€ƒï¼šå—äº¬å¤§å­¦é•œåƒ</p></blockquote><p>ä¿®æ”¹é…ç½®æ–‡ä»¶</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nano /etc/docker/daemon.json</span><br></pre></td></tr></table></figure><p>æ­£å¸¸èµ°åˆ°è¿™ä¸€æ­¥åº”è¯¥æ˜¯è¿™æ ·çš„</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16934842593104adf16cae3f4c17cb676b650e7ab189a.png" alt="16934842593104adf16cae3f4c17cb676b650e7ab189a.png"></p><br/><p>æ·»åŠ ä¸€è¡Œ</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">,</span><span class="attr">&quot;registry-mirrors&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;https://docker.nju.edu.cn/&quot;</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><br/><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/169348443613133713cbe8c88e63ec50c28abeb2a443e.png" alt="169348443613133713cbe8c88e63ec50c28abeb2a443e.png"></p><br/><p>æŒ‰ä¸‹ <code>ctrl+o</code> å†æŒ‰ä¸‹ <code>å›è½¦</code> ä¿å­˜æ–‡ä»¶</p><p>å†æŒ‰ä¸‹ <code>ctrl+x</code> é€€å‡ºç¼–è¾‘å™¨</p><p>æ£€æŸ¥ä¸€ä¸‹ç»“æœï¼Œ<code>cat /etc/docker/daemon.json</code></p><br/><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/1693484492129119f80574646149e30461fa3f60246fc.png" alt="1693484492129119f80574646149e30461fa3f60246fc.png"></p><br/><p>é‡å¯ Docker</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure><h2 id="4-æ‹‰å–-è¿è¡Œ-Docker-é•œåƒ"><a href="#4-æ‹‰å–-è¿è¡Œ-Docker-é•œåƒ" class="headerlink" title="4. æ‹‰å– &amp; è¿è¡Œ Docker é•œåƒ"></a>4. æ‹‰å– &amp; è¿è¡Œ Docker é•œåƒ</h2><blockquote><p>è¿™ä¸ªå…¨æ ˆå¼€å‘é•œåƒæ˜¯æˆ‘è‡ªå·±æ„å»ºçš„<br>Dockfile åœ¨ GitHub ä»“åº“è¿™é‡Œ <a href="https://github.com/james-curtis/code-os-debian">https://github.com/james-curtis/code-os-debian</a><br>åŒ…å«äº†</p><ul><li>zsh</li><li>ohmyzsh</li><li>powerlevel10k</li><li>ä¸­æ–‡è¯­è¨€åŒ…ï¼Œgui ä¸‹å¾®è½¯é›…é»‘å­—ä½“æ”¯æŒ</li><li>nodejsã€nvm</li><li>openssh</li><li>c++</li><li>wslg é€ä¼ åˆ° Windows æ¯æœºæ”¯æŒ</li><li>Pythonã€condaã€pdm<br> temurin 8ã€11ã€17 jdkï¼Œjenv<br> docker cli<br> TensorFlow<br> pytorch<br> cuda 11.8ã€cudatoolkit</li></ul></blockquote><h3 id="4-1-æ‹‰å–é•œåƒ"><a href="#4-1-æ‹‰å–é•œåƒ" class="headerlink" title="4.1. æ‹‰å–é•œåƒ"></a>4.1. æ‹‰å–é•œåƒ</h3><p>ç”±äºé•œåƒè¾ƒå¤§ï¼Œå»ºè®®å•ç‹¬æ‹‰å–</p><ul><li>GPU æ”¯æŒé•œåƒï¼ˆ9.94 GBï¼‰ï¼š<code>jamescurtisfoxmail/code-os:latest-gpu</code></li><li>ä»… CPU æ”¯æŒé•œåƒï¼ˆ2.77 GBï¼‰ï¼š<code>jamescurtisfoxmail/code-os:latest</code></li></ul><p>è¿™é‡Œä»¥ GPU æ”¯æŒé•œåƒä¸ºä¾‹</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull jamescurtisfoxmail/code-os:latest-gpu</span><br></pre></td></tr></table></figure><h3 id="4-2-ä¸‹è½½-compose-é…ç½®"><a href="#4-2-ä¸‹è½½-compose-é…ç½®" class="headerlink" title="4.2. ä¸‹è½½ compose é…ç½®"></a>4.2. ä¸‹è½½ compose é…ç½®</h3><p>ä¸‹è½½ Docker compose é…ç½®</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/james-curtis/code-os-debian.git</span><br></pre></td></tr></table></figure><h3 id="4-3-å¯åŠ¨-Docker-compose"><a href="#4-3-å¯åŠ¨-Docker-compose" class="headerlink" title="4.3. å¯åŠ¨ Docker compose"></a>4.3. å¯åŠ¨ Docker compose</h3><p>å¯åŠ¨ docker compose</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> code-os-debian/docker/wsl/</span><br><span class="line">bash run-gpu.sh</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°å·²ç»å¯åŠ¨æˆåŠŸäº†<br><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/1693484526128a07ecfed1340e7d02b919f23da9378c3.png" alt="1693484526128a07ecfed1340e7d02b919f23da9378c3.png"></p><h2 id="5-æ£€éªŒæˆæœ"><a href="#5-æ£€éªŒæˆæœ" class="headerlink" title="5. æ£€éªŒæˆæœ"></a>5. æ£€éªŒæˆæœ</h2><p>å…ˆè¿›å…¥ Docker å®¹å™¨</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> .gpu-envrc</span><br><span class="line">docker compose <span class="built_in">exec</span> os zsh</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/1693484539128fb39edd4cc37214c59b3cfd33a419119.png" alt="1693484539128fb39edd4cc37214c59b3cfd33a419119.png"></p><blockquote><p>å¦‚æœå­—ä½“ä¹±ç ï¼Œåº”è¯¥æ˜¯æ²¡æœ‰é…ç½® powerlevel10k çš„ <code>MesloLGS NF</code> å­—ä½“æ”¯æŒã€‚</p><p>æˆ‘ä½¿ç”¨çš„ç»ˆç«¯æ˜¯ <code>tabby</code> å…¨å¹³å°æ”¯æŒ    </p><p> <img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/169348454912865a864d5c148fa2d05c1ef3a0f4cd041.png" alt="169348454912865a864d5c148fa2d05c1ef3a0f4cd041.png"></p><p>åœ¨é¡¹ç›®ä¸­æœ‰è¿™å‡ ä¸ªå­—ä½“ï¼Œå¤åˆ¶åˆ° <code>c:\windows\fonts</code> ä¸­å³å¯</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/1693484558129f5fa68a6adf756a7251eddb9cf098e08.png" alt="1693484558129f5fa68a6adf756a7251eddb9cf098e08.png"></p></blockquote><h3 id="5-1-æ£€æµ‹-wslg-æ”¯æŒ"><a href="#5-1-æ£€æµ‹-wslg-æ”¯æŒ" class="headerlink" title="5.1. æ£€æµ‹ wslg æ”¯æŒ"></a>5.1. æ£€æµ‹ wslg æ”¯æŒ</h3><p><code>xeyes</code> ä¼šæ˜¾ç¤ºä¸€ä¸ªè·Ÿéšé¼ æ ‡çš„å°çœ¼ç›</p><p><code>xclock</code> æ˜¯æ˜¾ç¤ºä¸€ä¸ªæ—¶é’Ÿ</p><br/><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16934845681289dc2fb94f291f99e9c92fb8286d1299e.png" alt="16934845681289dc2fb94f291f99e9c92fb8286d1299e.png"></p><h3 id="5-2-æ£€æµ‹-NVIDIA-æ”¯æŒ"><a href="#5-2-æ£€æµ‹-NVIDIA-æ”¯æŒ" class="headerlink" title="5.2. æ£€æµ‹ NVIDIA æ”¯æŒ"></a>5.2. æ£€æµ‹ NVIDIA æ”¯æŒ</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvidia-smi</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16934845861283b76e4afea48293b2be2659a6259389e.png" alt="16934845861283b76e4afea48293b2be2659a6259389e.png"><br>æˆ‘è¿™é‡Œæ˜¾ç¤ºå‡ºäº†æ¯æœºçš„ 3060ï¼Œè¯´æ˜ Docker å·²ç»æ£€æµ‹åˆ°è¿™å¼ æ˜¾å¡</p><h3 id="5-3-æ£€æµ‹-TensorFlowæ”¯æŒ"><a href="#5-3-æ£€æµ‹-TensorFlowæ”¯æŒ" class="headerlink" title="5.3. æ£€æµ‹ TensorFlowæ”¯æŒ"></a>5.3. æ£€æµ‹ TensorFlowæ”¯æŒ</h3><h4 id="5-3-1-TensorFlow-CPU"><a href="#5-3-1-TensorFlow-CPU" class="headerlink" title="5.3.1 TensorFlow CPU"></a>5.3.1 TensorFlow CPU</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 -c <span class="string">&quot;import tensorflow as tf; print(tf.reduce_sum(tf.random.normal([1000, 1000])))&quot;</span></span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/1693484594155ce96a3ea90d8dd75ead62cb469ca6561.png" alt="1693484594155ce96a3ea90d8dd75ead62cb469ca6561.png"></p><p>æ‰“å°å‡ºäº†å¼ é‡</p><h4 id="5-3-2-TensorFlow-GPU"><a href="#5-3-2-TensorFlow-GPU" class="headerlink" title="5.3.2 TensorFlow GPU"></a>5.3.2 TensorFlow GPU</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 -c <span class="string">&quot;import tensorflow as tf; print(tf.config.list_physical_devices(&#x27;GPU&#x27;))&quot;</span></span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/1693484602126dce0e8a22b6a116b0332392835e9010e.png" alt="1693484602126dce0e8a22b6a116b0332392835e9010e.png"></p><p>å¯ä»¥çœ‹åˆ° TensorFlow ä¹Ÿæ£€æµ‹åˆ°äº†æ˜¾å¡</p><h4 id="5-3-3-å®‰è£…-kaggle-cli"><a href="#5-3-3-å®‰è£…-kaggle-cli" class="headerlink" title="5.3.3 å®‰è£… kaggle cli"></a>5.3.3 å®‰è£… kaggle cli</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install kaggle</span><br></pre></td></tr></table></figure><p>ç™»å½• kaggle ä¸‹è½½ç™»å½•å‡­æ®ï¼Œä¸‹è½½åˆ° <code>~/.kaggle/kaggle.json</code></p><blockquote><p>å®˜æ–¹æ•™ç¨‹ <a href="https://github.com/Kaggle/kaggle-api#api-credentials">https://github.com/Kaggle/kaggle-api#api-credentials</a></p></blockquote><p>è®¾ç½®æƒé™</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> 600 ~/.kaggle/kaggle.json</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/1693484611126002ed3169310ad3a2442ea36491ac828.png" alt="1693484611126002ed3169310ad3a2442ea36491ac828.png"></p><h4 id="5-3-4-æ£€æµ‹-TensorFlow-GPU-è´Ÿè½½æ”¯æŒ"><a href="#5-3-4-æ£€æµ‹-TensorFlow-GPU-è´Ÿè½½æ”¯æŒ" class="headerlink" title="5.3.4 æ£€æµ‹ TensorFlow GPU è´Ÿè½½æ”¯æŒ"></a>5.3.4 æ£€æµ‹ TensorFlow GPU è´Ÿè½½æ”¯æŒ</h4><p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ kaggle cli ä¸‹è½½æ¯”èµ›ä¸­åˆ«äººæäº¤çš„ä»£ç è¿›è¡Œæµ‹è¯•ï¼Œ<a href="https://www.kaggle.com/code/hassanamin/tensorflow-mnist-gpu-tutorial">https://www.kaggle.com/code/hassanamin/tensorflow-mnist-gpu-tutorial</a></p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16934846191270cd4adf205ebd8790e2b4bde76166a2b.png" alt="16934846191270cd4adf205ebd8790e2b4bde76166a2b.png"><br>å¤åˆ¶ä¸‹è½½å‘½ä»¤</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/1693484626126a7990a1e7044a3bb5a2054ec07eb7c8a.png" alt="1693484626126a7990a1e7044a3bb5a2054ec07eb7c8a.png"></p><p><strong>å¯åŠ¨ openssh-server</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service ssh start</span><br></pre></td></tr></table></figure><p>è¾“å…¥å¯†ç  <code>linux</code> </p><blockquote><p>é»˜è®¤ç”¨æˆ·å’Œå¯†ç éƒ½æ˜¯ <code>linux</code></p><p><code>root</code> ç”¨æˆ·åä¹Ÿæ˜¯ <code>linux</code></p></blockquote><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16934846331264737dece647d08f3fd827674cb12bd7b.png" alt="16934846331264737dece647d08f3fd827674cb12bd7b.png"></p><p><strong>æ‰“å¼€ vscode è¿›è¡Œè¿œç¨‹è¿æ¥</strong><br>éœ€è¦å…ˆä¸‹è½½è¿œç¨‹å¼€å‘æ’ä»¶ <code>ms-vscode-remote.vscode-remote-extensionpack</code></p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16934846411276154d21eb0a904f597d3fcb891ce5345.png" alt="16934846411276154d21eb0a904f597d3fcb891ce5345.png"></p><p>ç‚¹å‡»å·¦ä¸‹è§’çš„è“æ ‡ï¼Œä¼šå¼¹å‡ºå‘½ä»¤åˆ—è¡¨ï¼Œé€‰æ‹© <code>Connect to host</code></p><br/><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/1693484662126f34f5829cb9c8ae47ed3eba65b933212.png" alt="1693484662126f34f5829cb9c8ae47ed3eba65b933212.png"></p><br/><p>ç›´æ¥è¿æ¥ <code>localhost</code> å³å¯</p><br/><blockquote><p>ä¸ºä»€ä¹ˆå¯ä»¥ç›´æ¥é€šè¿‡ <code>localhost</code> è¿æ¥æœ‰ä¸¤ä¸ªåŸå› </p><ol><li>å¾®è½¯æ”¯æŒå®¿ä¸»æœºç›´æ¥è®¿é—® WSL çš„ç›‘å¬ç«¯å£</li><li>docker compose ä¸­è®¾ç½®çš„ <code>network</code> ç±»å‹æ˜¯ <code>host</code>ï¼Œä¹Ÿå°±æ˜¯å’Œ WSL å…¬ç”¨ä¸€ä¸ªç½‘ç»œ</li></ol></blockquote><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/1693484685126844afa00df2604630c9f9dc7df47533a.png" alt="1693484685126844afa00df2604630c9f9dc7df47533a.png"></p><p>ç‚¹å‡»å³ä¾§çš„ <code>Connect</code> </p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16934846901241578876302c28e81b0e1922330432b6f.png" alt="16934846901241578876302c28e81b0e1922330432b6f.png"><br>ä¼šæç¤ºé€‰æ‹©å¹³å°å’Œè¾“å…¥å¯†ç </p><p>å®Œæˆä¹‹åå³å¯è¿›è¡Œè¿œç¨‹å¼€å‘</p><p><strong>è¿›å…¥åˆšåˆš kaggle çš„é¡¹ç›®</strong></p><p>è¿™é‡Œç”±äºçš„åˆšåˆšæˆ‘ä¸‹è½½çš„ç›®å½•æ˜¯ <code>/tmp/kaggle/tf</code> æ‰€ä»¥è¿™é‡Œæˆ‘éœ€è¦æ‰“å¼€è¿™ä¸ªç›®å½•</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/1693484697124b68c65ea075ddb3ca0f4bae8f94dfaa2.png" alt="1693484697124b68c65ea075ddb3ca0f4bae8f94dfaa2.png"><br><strong>å®‰è£…æ’ä»¶</strong><br>éœ€è¦å®‰è£…çš„æ’ä»¶æœ‰</p><ul><li>donjayamanne.python-extension-pack</li><li>donjayamanne.python-extension-pack</li></ul><p>å®‰è£…å®Œæˆä¹‹åéœ€è¦åŠ è½½çª—å£</p><p><strong>é€‰æ‹©è¿è¡Œç¯å¢ƒ</strong><br>é€‰æ‹© conda Python3.9 ä½œä¸ºè¿è¡Œç¯å¢ƒ<br><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16934847051258ce5bc169a1945be5f4a05805a73f026.png" alt="16934847051258ce5bc169a1945be5f4a05805a73f026.png"><br>é€ä¸ªå•å…ƒæ ¼è¿è¡Œè¯•è¯•æ•ˆæœ</p><p>å¯ä»¥çœ‹åˆ°æ£€æµ‹åˆ° GPU äº†<br><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/1693484713124268cedbf858fe22cf23a9d8a0a0b15c6.png" alt="1693484713124268cedbf858fe22cf23a9d8a0a0b15c6.png"><br>å¯ä»¥çœ‹åˆ°æˆåŠŸè°ƒç”¨å®¿ä¸»æœºæ˜¾å¡<br><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16934847201250b779cecd0e73850fd2689ddf9d169cc.png" alt="16934847201250b779cecd0e73850fd2689ddf9d169cc.png"><br>ä¸è¿‡ä¼¼ä¹æ²¡æœ‰ä½¿å¾—æ˜¾å¡æ»¡è½½</p><h3 id="5-4-æ£€æµ‹-pytorch-cuda-æ”¯æŒ"><a href="#5-4-æ£€æµ‹-pytorch-cuda-æ”¯æŒ" class="headerlink" title="5.4. æ£€æµ‹ pytorch cuda æ”¯æŒ"></a>5.4. æ£€æµ‹ pytorch cuda æ”¯æŒ</h3><p>åœ¨ WSL ä¸­æ‰§è¡Œ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 -c <span class="string">&quot;import torch;print(torch.cuda.is_available());&quot;</span></span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/169348472712535ea23e934d88048e2c6c8dab35c3aea.png" alt="169348472712535ea23e934d88048e2c6c8dab35c3aea.png"></p><blockquote><p>è¿™é‡Œæˆ‘è¿˜æ²¡æœ‰æ¢ vscode çš„ç»ˆç«¯å­—ä½“ï¼Œæ‰€ä»¥ä¹±ç äº†ï¼Œå¿½ç•¥å³å¯</p></blockquote><h4 id="5-4-1-æ£€æµ‹-pytorch-GPU-è´Ÿè½½æ”¯æŒ"><a href="#5-4-1-æ£€æµ‹-pytorch-GPU-è´Ÿè½½æ”¯æŒ" class="headerlink" title="5.4.1 æ£€æµ‹ pytorch GPU è´Ÿè½½æ”¯æŒ"></a>5.4.1 æ£€æµ‹ pytorch GPU è´Ÿè½½æ”¯æŒ</h4><p>å¯¹äº pytorchï¼Œè¿™é‡Œä½¿ç”¨ <a href="https://www.kaggle.com/code/lyhue1991/pytorch-gpu-examples%EF%BC%8C%E4%BD%9C%E4%B8%BA%E6%B5%8B%E8%AF%95">https://www.kaggle.com/code/lyhue1991/pytorch-gpu-examplesï¼Œä½œä¸ºæµ‹è¯•</a> demo</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/1693484734124b153e92b893a5c208c7eb054b3154899.png" alt="1693484734124b153e92b893a5c208c7eb054b3154899.png"></p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/1693484743125e0d3a43375a635fe2a488d29b8a0c0ea.png" alt="1693484743125e0d3a43375a635fe2a488d29b8a0c0ea.png"></p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/169348475112489327abd58292ac9fc75036ecd4b132e.png" alt="169348475112489327abd58292ac9fc75036ecd4b132e.png"></p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/169348476212373dcb403f84c118c1e16e48e6bf352ad.png" alt="169348476212373dcb403f84c118c1e16e48e6bf352ad.png"><br>å¯ä»¥çœ‹åˆ°æˆåŠŸè°ƒåº¦ GPU</p><h3 id="6-æ£€æŸ¥-nodejs"><a href="#6-æ£€æŸ¥-nodejs" class="headerlink" title="6. æ£€æŸ¥ nodejs"></a>6. æ£€æŸ¥ nodejs</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line">nvm list</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16934847731247a5f0ca36fe146f3fa6985adb40d9a4c.png" alt="16934847731247a5f0ca36fe146f3fa6985adb40d9a4c.png"></p><h3 id="7-æ£€æŸ¥-java"><a href="#7-æ£€æŸ¥-java" class="headerlink" title="7. æ£€æŸ¥ java"></a>7. æ£€æŸ¥ java</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">java -version</span><br><span class="line">javac -version</span><br><span class="line">jenv versions</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/1693484779123aaba208a8173522f6b82e93ac2a64cb9.png" alt="1693484779123aaba208a8173522f6b82e93ac2a64cb9.png"></p><h3 id="8-æ£€æŸ¥-c"><a href="#8-æ£€æŸ¥-c" class="headerlink" title="8. æ£€æŸ¥ c++"></a>8. æ£€æŸ¥ c++</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">g++ -v</span><br><span class="line">gcc -v</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/169348478612341eb734dbd75537dc43fba98abb4c225.png" alt="169348478612341eb734dbd75537dc43fba98abb4c225.png"></p><h3 id="9-å®¹å™¨å·"><a href="#9-å®¹å™¨å·" class="headerlink" title="9. å®¹å™¨å·"></a>9. å®¹å™¨å·</h3><p>åœ¨ Dockerfile ä¸­æœ‰å†™åˆ°</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># =========== é…ç½® å®¹å™¨å· =============</span></span><br><span class="line"><span class="keyword">VOLUME</span><span class="language-bash"> [ <span class="string">&quot;/mnt/workspace&quot;</span>, <span class="string">&quot;/mnt/data&quot;</span> ]</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸¤ä¸ªç›®å½•éƒ½æ˜¯æŒä¹…åŒ–çš„ï¼Œä¹Ÿå°±æ˜¯ docker å®¹å™¨é”€æ¯ä¹‹åï¼Œåªæœ‰è¿™ä¸¤ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶ä¸ä¼šæ¸…ç†ï¼ˆé‡å¯ä¸å½±å“ï¼‰</p><p>å…¶ä¸­ <code>/mnt/workspace</code> æ˜¯æ˜ å°„åˆ° WSL ä¸­çš„ï¼ŒIO æ€§èƒ½æ¯”è¾ƒå·®</p><p><code>/mnt/data</code> æ˜¯æ²¡æœ‰æ˜ å°„çš„å®¹å™¨å·ï¼ŒIO æ€§èƒ½è¾ƒå¥½ï¼Œå»ºè®®é¡¹ç›®éƒ½æ”¾åˆ°è¯¥ç›®å½•ä¸‹</p><p>è‡³äº <code>/home/linux</code> ç”¨æˆ·ç›®å½•ä¸‹çš„æ–‡ä»¶å¯ä»¥è‡ªå·±åˆ›å»ºå¹¶æ˜ å°„å®¹å™¨å·</p><h2 id="6-å‚è€ƒæ–‡æ¡£"><a href="#6-å‚è€ƒæ–‡æ¡£" class="headerlink" title="6. å‚è€ƒæ–‡æ¡£"></a>6. å‚è€ƒæ–‡æ¡£</h2><ul><li><a href="https://learn.microsoft.com/zh-cn/windows/wsl/install">https://learn.microsoft.com/zh-cn/windows/wsl/install</a></li><li><a href="https://docs.docker.com/engine/install/ubuntu/">https://docs.docker.com/engine/install/ubuntu/</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;0-èƒŒæ™¯&quot;&gt;&lt;a href=&quot;#0-èƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;0. èƒŒæ™¯&quot;&gt;&lt;/a&gt;0. èƒŒæ™¯&lt;/h2&gt;&lt;h3 id=&quot;0-1-èµ·æº&quot;&gt;&lt;a href=&quot;#0-1-èµ·æº&quot; class=&quot;headerlink&quot; title=&quot;0.1</summary>
      
    
    
    
    <category term="é»˜è®¤" scheme="https://james-curtis.github.io/en/categories/%E9%BB%98%E8%AE%A4/"/>
    
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://james-curtis.github.io/en/2023/hello-world/"/>
    <id>https://james-curtis.github.io/en/2023/hello-world/</id>
    <published>2023-08-30T10:52:47.000Z</published>
    <updated>2023-12-15T03:58:52.141Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot;&gt;documentation&lt;/a&gt; for</summary>
      
    
    
    
    <category term="é»˜è®¤" scheme="https://james-curtis.github.io/en/categories/%E9%BB%98%E8%AE%A4/"/>
    
    
  </entry>
  
  <entry>
    <title>debian æ€ä¹ˆä¿®æ”¹ man help ä¸ºä¸­æ–‡ï¼Œwsl æ€ä¹ˆä¿®æ”¹æ˜¾ç¤ºè¯­è¨€ä¸ºä¸­æ–‡</title>
    <link href="https://james-curtis.github.io/en/2023/how-to-change-man-help-to-chinese-in-debian-how-to-change-the-display-language-of-wsl-to-chinese/"/>
    <id>https://james-curtis.github.io/en/2023/how-to-change-man-help-to-chinese-in-debian-how-to-change-the-display-language-of-wsl-to-chinese/</id>
    <published>2023-08-03T08:47:35.000Z</published>
    <updated>2023-12-15T03:58:52.141Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨Debian 12ç³»ç»Ÿä¸­ï¼Œè¦å°†ç³»ç»Ÿè¯­è¨€å’ŒManå¸®åŠ©æ‰‹å†Œè®¾ç½®ä¸ºä¸­æ–‡ï¼Œéœ€è¦æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</p><ol><li><p>å®‰è£…ä¸­æ–‡è¯­è¨€åŒ…ï¼š<br>é¦–å…ˆï¼Œæ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨å¹¶å®‰è£…ä¸­æ–‡è¯­è¨€åŒ…ã€‚æ‰“å¼€ç»ˆç«¯å¹¶è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install locales</span><br></pre></td></tr></table></figure></li><li><p>é…ç½®æœ¬åœ°åŒ–è®¾ç½®ï¼š<br>å®‰è£…å®Œæˆåï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤é‡æ–°é…ç½®æœ¬åœ°åŒ–è®¾ç½®ï¼Œå¹¶é€‰æ‹©ä¸­æ–‡è¯­è¨€åŒ…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo dpkg-reconfigure locales</span><br></pre></td></tr></table></figure><p>åœ¨é€‰æ‹©ç•Œé¢ä¸­ï¼Œé€‰ä¸­<code>zh_CN.UTF-8</code>ï¼ˆä¸­æ–‡ç®€ä½“ï¼‰å’Œå…¶ä»–ä½ å¸Œæœ›æ”¯æŒçš„è¯­è¨€è®¾ç½®ã€‚ç„¶åæŒ‰ç©ºæ ¼é”®é€‰ä¸­ï¼Œä½¿ç”¨æ–¹å‘é”®ç§»åŠ¨åˆ°â€OKâ€å¹¶æŒ‰ä¸‹å›è½¦é”®ã€‚</p></li><li><p>è®¾ç½®ç³»ç»Ÿé»˜è®¤è¯­è¨€ï¼š<br>åœ¨ç»ˆç«¯ä¸­ç¼–è¾‘ä½ çš„bashé…ç½®æ–‡ä»¶ï¼ˆå¦‚<code>.bashrc</code>æˆ–<code>.bash_profile</code>ï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano ~/.bashrc</span><br></pre></td></tr></table></figure><p>åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ä»¥ä¸‹è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> LC_ALL=zh_CN.UTF-8</span><br><span class="line"><span class="built_in">export</span> LANG=zh_CN.UTF-8</span><br></pre></td></tr></table></figure><p>æŒ‰ä¸‹ <code>Ctrl+X</code>ï¼Œç„¶åè¾“å…¥ <code>Y</code> ä¿å­˜æ›´æ”¹å¹¶é€€å‡ºç¼–è¾‘å™¨ã€‚</p></li><li><p>ä½¿è®¾ç½®ç”Ÿæ•ˆï¼š<br>è¾“å…¥ä»¥ä¸‹å‘½ä»¤ä½¿é…ç½®æ–‡ä»¶çš„æ›´æ”¹ç”Ÿæ•ˆï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure></li><li><p>å®‰è£…ä¸­æ–‡Manå¸®åŠ©æ‰‹å†Œï¼š<br>å®‰è£…ä¸­æ–‡Manå¸®åŠ©æ‰‹å†Œçš„è½¯ä»¶åŒ…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install manpages-zh</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹ä¸­æ–‡Manå¸®åŠ©æ‰‹å†Œï¼š<br>ç°åœ¨ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>man</code>å‘½ä»¤æŸ¥çœ‹ä¸­æ–‡çš„Manå¸®åŠ©æ‰‹å†Œäº†ã€‚ä¾‹å¦‚ï¼Œè¦æŸ¥çœ‹<code>ls</code>å‘½ä»¤çš„ä¸­æ–‡Manå¸®åŠ©æ‰‹å†Œï¼Œå¯ä»¥è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">man <span class="built_in">ls</span></span><br></pre></td></tr></table></figure><p>ç¡®ä¿ç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºç°åœ¨ä»¥ä¸­æ–‡æ˜¾ç¤ºï¼Œå¹¶æ­£ç¡®è§£æå’Œå¤„ç†ä¸­æ–‡å­—ç¬¦ã€‚</p></li></ol><hr><p>å¦‚æœæƒ³é»˜è®¤æ˜¯è‹±æ–‡ï¼Œåœ¨éœ€è¦æ—¶å€™åˆ‡æ¢åˆ°ä¸­æ–‡çš„è¯ï¼Œå¯ä»¥æŠŠè®¾ç½®ç¯å¢ƒå˜é‡çš„ä¸¤æ¡è¯­å¥å†™åˆ°å…¶ä»–æ–‡ä»¶æ¯”å¦‚ <code>.zhcnrc</code> åœ¨éœ€è¦ä½¿ç”¨ä¸­æ–‡çš„æ—¶å€™ï¼Œä½¿ç”¨ <code>source ~/.zhcnrc</code> å‘½ä»¤å³å¯åˆ‡æ¢</p><p>è¦åˆ¤æ–­æ˜¯å¦åˆ‡æ¢æˆåŠŸï¼Œå¯ä»¥ä½¿ç”¨ <code>locales</code> å‘½ä»¤æŸ¥çœ‹</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;åœ¨Debian 12ç³»ç»Ÿä¸­ï¼Œè¦å°†ç³»ç»Ÿè¯­è¨€å’ŒManå¸®åŠ©æ‰‹å†Œè®¾ç½®ä¸ºä¸­æ–‡ï¼Œéœ€è¦æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;å®‰è£…ä¸­æ–‡è¯­è¨€åŒ…ï¼š&lt;br&gt;é¦–å…ˆï¼Œæ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨å¹¶å®‰è£…ä¸­æ–‡è¯­è¨€åŒ…ã€‚æ‰“å¼€ç»ˆç«¯å¹¶è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight bash</summary>
      
    
    
    
    <category term="é»˜è®¤" scheme="https://james-curtis.github.io/en/categories/%E9%BB%98%E8%AE%A4/"/>
    
    
  </entry>
  
  <entry>
    <title>vimæ€ä¹ˆä½¿ç”¨ï¼Œvimä½¿ç”¨æ•™ç¨‹ï¼Œvimtutoræ€ä¹ˆåˆ‡æ¢ä¸­æ–‡ æ±‰åŒ–</title>
    <link href="https://james-curtis.github.io/en/2023/how-to-use-vim-vim-usage-tutorial-how-to-switch-vimtutor-to-chinese-and-chinese/"/>
    <id>https://james-curtis.github.io/en/2023/how-to-use-vim-vim-usage-tutorial-how-to-switch-vimtutor-to-chinese-and-chinese/</id>
    <published>2023-08-02T11:26:52.000Z</published>
    <updated>2023-12-15T03:58:52.141Z</updated>
    
    <content type="html"><![CDATA[<h1 id="vimæ€ä¹ˆä½¿ç”¨ï¼Œvimä½¿ç”¨æ•™ç¨‹ï¼Œvimtutoræ€ä¹ˆåˆ‡æ¢ä¸­æ–‡-æ±‰åŒ–"><a href="#vimæ€ä¹ˆä½¿ç”¨ï¼Œvimä½¿ç”¨æ•™ç¨‹ï¼Œvimtutoræ€ä¹ˆåˆ‡æ¢ä¸­æ–‡-æ±‰åŒ–" class="headerlink" title="vimæ€ä¹ˆä½¿ç”¨ï¼Œvimä½¿ç”¨æ•™ç¨‹ï¼Œvimtutoræ€ä¹ˆåˆ‡æ¢ä¸­æ–‡ æ±‰åŒ–"></a>vimæ€ä¹ˆä½¿ç”¨ï¼Œvimä½¿ç”¨æ•™ç¨‹ï¼Œvimtutoræ€ä¹ˆåˆ‡æ¢ä¸­æ–‡ æ±‰åŒ–</h1><h1 id="vim-ä½¿ç”¨"><a href="#vim-ä½¿ç”¨" class="headerlink" title="vim ä½¿ç”¨"></a>vim ä½¿ç”¨</h1><blockquote><p>åœ¨å®‰è£…äº† vim çš„ unix ç³»ç»Ÿä¸‹å¯ä»¥ä½¿ç”¨ <code>vimtutor zh_cn</code> å¼€å¯ä¸‹é¢çš„æ•™ç¨‹</p></blockquote><h2 id="åºè¨€"><a href="#åºè¨€" class="headerlink" title="åºè¨€"></a>åºè¨€</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">===============================================================================</span><br><span class="line">=      æ¬¢     è¿     é˜…     è¯»   ã€Š V I M  æ•™  ç¨‹ ã€‹   â€”â€”      ç‰ˆæœ¬ 1.7       =</span><br><span class="line">===============================================================================</span><br><span class="line"></span><br><span class="line">     Vim æ˜¯ä¸€ä¸ªå…·æœ‰å¾ˆå¤šå‘½ä»¤çš„åŠŸèƒ½éå¸¸å¼ºå¤§çš„ç¼–è¾‘å™¨ã€‚é™äºç¯‡å¹…ï¼Œåœ¨æœ¬æ•™ç¨‹å½“ä¸­</span><br><span class="line">     å°±ä¸è¯¦ç»†ä»‹ç»äº†ã€‚æœ¬æ•™ç¨‹çš„è®¾è®¡ç›®æ ‡æ˜¯è®²è¿°ä¸€äº›å¿…è¦çš„åŸºæœ¬å‘½ä»¤ï¼Œè€ŒæŒæ¡å¥½è¿™</span><br><span class="line">     äº›å‘½ä»¤ï¼Œæ‚¨å°±èƒ½å¤Ÿå¾ˆå®¹æ˜“åœ°å°† Vim å½“ä½œä¸€ä¸ªé€šç”¨ç¼–è¾‘å™¨æ¥ä½¿ç”¨äº†ã€‚</span><br><span class="line"></span><br><span class="line">     å®Œæˆæœ¬æ•™ç¨‹çš„å†…å®¹å¤§çº¦éœ€è¦25-30åˆ†é’Ÿï¼Œå–å†³äºæ‚¨è®­ç»ƒçš„æ—¶é—´ã€‚</span><br><span class="line"></span><br><span class="line">     æ³¨æ„ï¼š</span><br><span class="line">     æ¯ä¸€èŠ‚çš„å‘½ä»¤æ“ä½œå°†ä¼šæ›´æ”¹æœ¬æ–‡ã€‚æ¨èæ‚¨å¤åˆ¶æœ¬æ–‡çš„ä¸€ä¸ªå‰¯æœ¬ï¼Œç„¶ååœ¨å‰¯æœ¬ä¸Š</span><br><span class="line">     è¿›è¡Œè®­ç»ƒ(å¦‚æœæ‚¨æ˜¯é€šè¿‡&quot;vimtutor&quot;æ¥å¯åŠ¨æ•™ç¨‹çš„ï¼Œé‚£ä¹ˆæœ¬æ–‡å°±å·²ç»æ˜¯å‰¯æœ¬äº†)ã€‚</span><br><span class="line"></span><br><span class="line">     åˆ‡è®°ä¸€ç‚¹ï¼šæœ¬æ•™ç¨‹çš„è®¾è®¡æ€è·¯æ˜¯åœ¨ä½¿ç”¨ä¸­è¿›è¡Œå­¦ä¹ çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ‚¨éœ€è¦é€šè¿‡</span><br><span class="line">     æ‰§è¡Œå‘½ä»¤æ¥å­¦ä¹ å®ƒä»¬æœ¬èº«çš„æ­£ç¡®ç”¨æ³•ã€‚å¦‚æœæ‚¨åªæ˜¯é˜…è¯»è€Œä¸æ“ä½œï¼Œé‚£ä¹ˆæ‚¨å¯èƒ½</span><br><span class="line">     ä¼šå¾ˆå¿«é—å¿˜è¿™äº›å‘½ä»¤çš„ï¼</span><br><span class="line"></span><br><span class="line">     å¥½äº†ï¼Œç°åœ¨è¯·ç¡®å®šæ‚¨çš„Shift-Lock(å¤§å°å†™é”å®šé”®)è¿˜æ²¡æœ‰æŒ‰ä¸‹ï¼Œç„¶åæŒ‰é”®ç›˜ä¸Š</span><br><span class="line">     çš„å­—æ¯é”® j è¶³å¤Ÿå¤šæ¬¡æ¥ç§»åŠ¨å…‰æ ‡ï¼Œç›´åˆ°ç¬¬ä¸€èŠ‚çš„å†…å®¹èƒ½å¤Ÿå®Œå…¨å……æ»¡å±å¹•ã€‚</span><br></pre></td></tr></table></figure><h2 id="ç¬¬ä¸€è®²ç¬¬ä¸€èŠ‚ï¼šç§»åŠ¨å…‰æ ‡"><a href="#ç¬¬ä¸€è®²ç¬¬ä¸€èŠ‚ï¼šç§»åŠ¨å…‰æ ‡" class="headerlink" title="ç¬¬ä¸€è®²ç¬¬ä¸€èŠ‚ï¼šç§»åŠ¨å…‰æ ‡"></a>ç¬¬ä¸€è®²ç¬¬ä¸€èŠ‚ï¼šç§»åŠ¨å…‰æ ‡</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">             ** è¦ç§»åŠ¨å…‰æ ‡ï¼Œè¯·ä¾ç…§è¯´æ˜åˆ†åˆ«æŒ‰ä¸‹ hã€jã€kã€l é”®ã€‚ **</span><br><span class="line"></span><br><span class="line">             ^</span><br><span class="line">             k              æç¤ºï¼š h çš„é”®ä½äºå·¦è¾¹ï¼Œæ¯æ¬¡æŒ‰ä¸‹å°±ä¼šå‘å·¦ç§»åŠ¨ã€‚</span><br><span class="line">       &lt; h       l &gt;               l çš„é”®ä½äºå³è¾¹ï¼Œæ¯æ¬¡æŒ‰ä¸‹å°±ä¼šå‘å³ç§»åŠ¨ã€‚</span><br><span class="line">             j                     j é”®çœ‹èµ·æ¥å¾ˆè±¡ä¸€æ”¯å°–ç«¯æ–¹å‘æœä¸‹çš„ç®­å¤´ã€‚</span><br><span class="line">             v</span><br><span class="line"></span><br><span class="line">  1. è¯·éšæ„åœ¨å±å¹•å†…ç§»åŠ¨å…‰æ ‡ï¼Œç›´è‡³æ‚¨è§‰å¾—èˆ’æœä¸ºæ­¢ã€‚</span><br><span class="line"></span><br><span class="line">  2. æŒ‰ä¸‹ä¸‹è¡Œé”®(j)ï¼Œç›´åˆ°å‡ºç°å…‰æ ‡é‡å¤ä¸‹è¡Œã€‚</span><br><span class="line"></span><br><span class="line">---&gt; ç°åœ¨æ‚¨åº”è¯¥å·²ç»å­¦ä¼šå¦‚ä½•ç§»åŠ¨åˆ°ä¸‹ä¸€è®²å§ã€‚</span><br><span class="line"></span><br><span class="line">  3. ç°åœ¨è¯·ä½¿ç”¨ä¸‹è¡Œé”®ï¼Œå°†å…‰æ ‡ç§»åŠ¨åˆ°ç¬¬ä¸€è®²ç¬¬äºŒèŠ‚ã€‚</span><br><span class="line"></span><br><span class="line">æç¤ºï¼šå¦‚æœæ‚¨ä¸æ•¢ç¡®å®šæ‚¨æ‰€æŒ‰ä¸‹çš„å­—æ¯ï¼Œè¯·æŒ‰ä¸‹&lt;ESC&gt;é”®å›åˆ°æ­£å¸¸(Normal)æ¨¡å¼ã€‚</span><br><span class="line">      ç„¶åå†æ¬¡ä»é”®ç›˜è¾“å…¥æ‚¨æƒ³è¦çš„å‘½ä»¤ã€‚</span><br><span class="line"></span><br><span class="line">æç¤ºï¼šå…‰æ ‡é”®åº”å½“ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œçš„ã€‚ä½†æ˜¯ä½¿ç”¨hjklé”®ï¼Œåœ¨ä¹ æƒ¯ä¹‹åæ‚¨å°±èƒ½å¤Ÿæ›´å¿«</span><br><span class="line">      åœ°åœ¨å±å¹•å†…å››å¤„ç§»åŠ¨å…‰æ ‡ã€‚çœŸçš„æ˜¯è¿™æ ·ï¼</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong></p><p><code>hjkl</code>å¹¶ä¸æ˜¯ç‰¹å®šå•è¯çš„ç¼©å†™ã€‚è¿™äº›å­—ç¬¦<code>h</code>ã€<code>j</code>ã€<code>k</code>ã€<code>l</code>ä»…ä»…æ˜¯ä¸ºäº†æ–¹ä¾¿åœ¨Vimç¼–è¾‘å™¨ä¸­è¡¨ç¤ºä¸Šä¸‹å·¦å³æ–¹å‘è€Œé€‰å®šçš„æŒ‰é”®ã€‚å®ƒä»¬æ²¡æœ‰ç‰¹å®šçš„å«ä¹‰æˆ–å•è¯èƒŒåçš„ç¼©å†™ã€‚</p><h2 id="ç¬¬ä¸€è®²ç¬¬äºŒèŠ‚ï¼šVIMçš„è¿›å…¥å’Œé€€å‡º"><a href="#ç¬¬ä¸€è®²ç¬¬äºŒèŠ‚ï¼šVIMçš„è¿›å…¥å’Œé€€å‡º" class="headerlink" title="ç¬¬ä¸€è®²ç¬¬äºŒèŠ‚ï¼šVIMçš„è¿›å…¥å’Œé€€å‡º"></a>ç¬¬ä¸€è®²ç¬¬äºŒèŠ‚ï¼šVIMçš„è¿›å…¥å’Œé€€å‡º</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">  !! ç‰¹åˆ«æç¤ºï¼šæ•¬è¯·é˜…è¯»æœ¬ä¸€èŠ‚çš„å®Œæ•´å†…å®¹ï¼Œç„¶åå†æ‰§è¡Œä»¥ä¸‹æ‰€è®²è§£çš„å‘½ä»¤ã€‚</span><br><span class="line"></span><br><span class="line">  1. æŒ‰&lt;ESC&gt;é”®(è¿™æ˜¯ä¸ºäº†ç¡®ä¿æ‚¨å¤„åœ¨æ­£å¸¸æ¨¡å¼)ã€‚</span><br><span class="line"></span><br><span class="line">  2. ç„¶åè¾“å…¥ï¼š                 :q! &lt;å›è½¦&gt;</span><br><span class="line">     è¿™ç§æ–¹å¼çš„é€€å‡ºç¼–è¾‘å™¨ä¼šä¸¢å¼ƒæ‚¨è¿›å…¥ç¼–è¾‘å™¨ä»¥æ¥æ‰€åšçš„æ”¹åŠ¨ã€‚</span><br><span class="line"></span><br><span class="line">  3. å¦‚æœæ‚¨çœ‹åˆ°äº†å‘½ä»¤è¡Œæç¤ºç¬¦ï¼Œè¯·è¾“å…¥èƒ½å¤Ÿå¸¦æ‚¨å›åˆ°æœ¬æ•™ç¨‹çš„å‘½ä»¤ï¼Œé‚£å°±æ˜¯ï¼š</span><br><span class="line">     vimtutor &lt;å›è½¦&gt;</span><br><span class="line"></span><br><span class="line">  4. å¦‚æœæ‚¨è‡ªä¿¡å·²ç»ç‰¢ç‰¢è®°ä½äº†è¿™äº›æ­¥éª¤çš„è¯ï¼Œè¯·ä»æ­¥éª¤1æ‰§è¡Œåˆ°æ­¥éª¤3é€€å‡ºï¼Œç„¶</span><br><span class="line">     åå†æ¬¡è¿›å…¥ç¼–è¾‘å™¨ã€‚</span><br><span class="line"></span><br><span class="line">æç¤ºï¼š :q! &lt;å›è½¦&gt; ä¼šä¸¢å¼ƒæ‚¨æ‰€åšçš„ä»»ä½•æ”¹åŠ¨ã€‚å‡ è®²ä¹‹åæ‚¨å°†å­¦ä¼šå¦‚ä½•ä¿å­˜æ”¹åŠ¨åˆ°æ–‡ä»¶ã€‚</span><br><span class="line"></span><br><span class="line">  5. å°†å…‰æ ‡ä¸‹ç§»åˆ°ç¬¬ä¸€è®²ç¬¬ä¸‰èŠ‚ã€‚</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong></p><p><code>q</code> æ˜¯ <code>quit</code>ï¼ˆé€€å‡ºï¼‰å•è¯ç¼©å†™</p><h2 id="ç¬¬ä¸€è®²ç¬¬ä¸‰èŠ‚ï¼šæ–‡æœ¬ç¼–è¾‘ä¹‹åˆ é™¤"><a href="#ç¬¬ä¸€è®²ç¬¬ä¸‰èŠ‚ï¼šæ–‡æœ¬ç¼–è¾‘ä¹‹åˆ é™¤" class="headerlink" title="ç¬¬ä¸€è®²ç¬¬ä¸‰èŠ‚ï¼šæ–‡æœ¬ç¼–è¾‘ä¹‹åˆ é™¤"></a>ç¬¬ä¸€è®²ç¬¬ä¸‰èŠ‚ï¼šæ–‡æœ¬ç¼–è¾‘ä¹‹åˆ é™¤</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">   ** åœ¨æ­£å¸¸(Normal)æ¨¡å¼ä¸‹ï¼Œå¯ä»¥æŒ‰ä¸‹ x é”®æ¥åˆ é™¤å…‰æ ‡æ‰€åœ¨ä½ç½®çš„å­—ç¬¦ã€‚**</span><br><span class="line"></span><br><span class="line">  1. è¯·å°†å…‰æ ‡ç§»åŠ¨åˆ°æœ¬èŠ‚ä¸­ä¸‹é¢æ ‡è®°æœ‰ ---&gt; çš„é‚£ä¸€è¡Œã€‚</span><br><span class="line"></span><br><span class="line">  2. ä¸ºäº†ä¿®æ­£è¾“å…¥é”™è¯¯ï¼Œè¯·å°†å…‰æ ‡ç§»è‡³å‡†å¤‡åˆ é™¤çš„å­—ç¬¦çš„ä½ç½®å¤„ã€‚</span><br><span class="line"></span><br><span class="line">  3. ç„¶åæŒ‰ä¸‹ x é”®å°†é”™è¯¯å­—ç¬¦åˆ é™¤æ‰ã€‚</span><br><span class="line"></span><br><span class="line">  4. é‡å¤æ­¥éª¤2åˆ°æ­¥éª¤4ï¼Œç›´åˆ°å¥å­ä¿®æ­£ä¸ºæ­¢ã€‚</span><br><span class="line"></span><br><span class="line">---&gt; The ccow jumpedd ovverr thhe mooon.</span><br><span class="line"></span><br><span class="line">  5. å¥½äº†ï¼Œè¯¥è¡Œå·²ç»ä¿®æ­£äº†ï¼Œä¸‹é¢æ˜¯ç¬¬ä¸€è®²ç¬¬å››èŠ‚ã€‚</span><br><span class="line"></span><br><span class="line">ç‰¹åˆ«æç¤ºï¼šåœ¨æµè§ˆæœ¬æ•™ç¨‹æ—¶ï¼Œä¸è¦å¼ºè¡Œè®°å¿†ã€‚è®°ä½ä¸€ç‚¹ï¼šåœ¨ä½¿ç”¨ä¸­å­¦ä¹ ã€‚</span><br></pre></td></tr></table></figure><h2 id="ç¬¬ä¸€è®²ç¬¬å››èŠ‚ï¼šæ–‡æœ¬ç¼–è¾‘ä¹‹æ’å…¥"><a href="#ç¬¬ä¸€è®²ç¬¬å››èŠ‚ï¼šæ–‡æœ¬ç¼–è¾‘ä¹‹æ’å…¥" class="headerlink" title="ç¬¬ä¸€è®²ç¬¬å››èŠ‚ï¼šæ–‡æœ¬ç¼–è¾‘ä¹‹æ’å…¥"></a>ç¬¬ä¸€è®²ç¬¬å››èŠ‚ï¼šæ–‡æœ¬ç¼–è¾‘ä¹‹æ’å…¥</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">         ** åœ¨æ­£å¸¸æ¨¡å¼ä¸‹ï¼Œå¯ä»¥æŒ‰ä¸‹ i é”®æ¥æ’å…¥æ–‡æœ¬ã€‚**</span><br><span class="line"></span><br><span class="line">  1. è¯·å°†å…‰æ ‡ç§»åŠ¨åˆ°æœ¬èŠ‚ä¸­ä¸‹é¢æ ‡è®°æœ‰ ---&gt; çš„ç¬¬ä¸€è¡Œã€‚</span><br><span class="line"></span><br><span class="line">  2. ä¸ºäº†ä½¿å¾—ç¬¬ä¸€è¡Œå†…å®¹é›·åŒäºç¬¬äºŒè¡Œï¼Œè¯·å°†å…‰æ ‡ç§»è‡³æ–‡æœ¬ç¬¬ä¸€ä¸ªå‡†å¤‡æ’å…¥å­—ç¬¦</span><br><span class="line">     çš„ä½ç½®ã€‚</span><br><span class="line"></span><br><span class="line">  3. ç„¶åæŒ‰ä¸‹ i é”®ï¼Œæ¥ç€è¾“å…¥å¿…è¦çš„æ–‡æœ¬å­—ç¬¦ã€‚</span><br><span class="line"></span><br><span class="line">  4. æ¯ä¸ªé”™è¯¯ä¿®æ­£å®Œæ¯•åï¼Œè¯·æŒ‰ä¸‹ &lt;ESC&gt; é”®è¿”å›æ­£å¸¸æ¨¡å¼ã€‚</span><br><span class="line">     é‡å¤æ­¥éª¤2è‡³æ­¥éª¤4ä»¥ä¾¿ä¿®æ­£å¥å­ã€‚</span><br><span class="line"></span><br><span class="line">---&gt; There is text misng this .</span><br><span class="line">---&gt; There is some text missing from this line.</span><br><span class="line"></span><br><span class="line">  5. å¦‚æœæ‚¨å¯¹æ–‡æœ¬æ’å…¥æ“ä½œå·²ç»å¾ˆæ»¡æ„ï¼Œè¯·æ¥ç€é˜…è¯»ä¸‹é¢çš„ç¬¬ä¸€è®²ç¬¬äº”èŠ‚ã€‚</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong></p><p><code>i</code> æ˜¯ <code>insert</code>ï¼ˆæ’å…¥ï¼‰å•è¯çš„ç¼©å†™</p><p>Ié”®ï¼ˆå°å†™ï¼‰ï¼šåœ¨å½“å‰å…‰æ ‡æ‰€åœ¨å­—ç¬¦çš„å‰é¢è¿›å…¥æ’å…¥æ¨¡å¼ã€‚</p><p>æŒ‰ä¸‹Ié”®åï¼Œå…‰æ ‡ä¼šä¿æŒåœ¨å½“å‰å­—ç¬¦çš„ä½ç½®ï¼Œç„¶åä½ å¯ä»¥å¼€å§‹è¾“å…¥æ–°çš„æ–‡æœ¬ã€‚è¿™å¯¹äºåœ¨è¡Œçš„ä»»ä½•ä½ç½®å¼€å§‹æ·»åŠ å†…å®¹å¾ˆæœ‰ç”¨ã€‚</p><h2 id="ç¬¬ä¸€è®²ç¬¬äº”èŠ‚ï¼šæ–‡æœ¬ç¼–è¾‘ä¹‹æ·»åŠ "><a href="#ç¬¬ä¸€è®²ç¬¬äº”èŠ‚ï¼šæ–‡æœ¬ç¼–è¾‘ä¹‹æ·»åŠ " class="headerlink" title="ç¬¬ä¸€è®²ç¬¬äº”èŠ‚ï¼šæ–‡æœ¬ç¼–è¾‘ä¹‹æ·»åŠ "></a>ç¬¬ä¸€è®²ç¬¬äº”èŠ‚ï¼šæ–‡æœ¬ç¼–è¾‘ä¹‹æ·»åŠ </h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">                        ** æŒ‰ A é”®ä»¥æ·»åŠ æ–‡æœ¬ã€‚ **</span><br><span class="line"></span><br><span class="line">  1. ç§»åŠ¨å…‰æ ‡åˆ°ä¸‹é¢ç¬¬ä¸€ä¸ªæ ‡è®°æœ‰ ---&gt; çš„ä¸€è¡Œã€‚</span><br><span class="line">     å…‰æ ‡æ”¾åœ¨é‚£ä¸€è¡Œçš„å“ªä¸ªå­—ç¬¦ä¸Šå¹¶ä¸é‡è¦ã€‚</span><br><span class="line"></span><br><span class="line">  2. æŒ‰ A é”®è¾“å…¥å¿…è¦çš„æ·»åŠ å†…å®¹ã€‚</span><br><span class="line"></span><br><span class="line">  3. æ–‡æœ¬æ·»åŠ å®Œæ¯•åï¼ŒæŒ‰ &lt;ESC&gt; é”®å›åˆ°æ­£å¸¸æ¨¡å¼ã€‚</span><br><span class="line"></span><br><span class="line">  4. ç§»åŠ¨å…‰æ ‡åˆ°ä¸‹é¢ç¬¬äºŒä¸ªæ ‡è®°æœ‰ ---&gt; çš„ä¸€è¡Œã€‚é‡å¤æ­¥éª¤2å’Œæ­¥éª¤3ä»¥æ”¹æ­£è¿™ä¸ªå¥å­ã€‚</span><br><span class="line"></span><br><span class="line">---&gt; There is some text missing from th</span><br><span class="line">     There is some text missing from this line.</span><br><span class="line">---&gt; There is also some text miss</span><br><span class="line">     There is also some text missing here.</span><br><span class="line"></span><br><span class="line">  5. å½“æ‚¨å¯¹æ·»åŠ æ–‡æœ¬æ“ä½œæ„Ÿåˆ°æ»¡æ„æ—¶ï¼Œè¯·ç»§ç»­å­¦ä¹ ç¬¬ä¸€è®²ç¬¬å…­èŠ‚ã€‚</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong></p><p><code>a</code> æ˜¯ <code>append</code>ï¼ˆæ·»åŠ ï¼‰å•è¯çš„ç¼©å†™</p><p>Aé”®ï¼ˆå°å†™ï¼‰ï¼šåœ¨å½“å‰å…‰æ ‡æ‰€åœ¨å­—ç¬¦çš„åé¢è¿›å…¥æ’å…¥æ¨¡å¼ã€‚</p><p>æŒ‰ä¸‹Aé”®åï¼Œå…‰æ ‡ä¼šç§»åŠ¨åˆ°å½“å‰è¡Œçš„æœ«å°¾ï¼Œç„¶åä½ å¯ä»¥å¼€å§‹è¾“å…¥æ–°çš„æ–‡æœ¬ã€‚è¿™å¯¹äºåœ¨è¡Œçš„æœ«å°¾æ·»åŠ å†…å®¹å¾ˆæ–¹ä¾¿ã€‚</p><h2 id="ç¬¬ä¸€è®²ç¬¬å…­èŠ‚ï¼šç¼–è¾‘æ–‡ä»¶"><a href="#ç¬¬ä¸€è®²ç¬¬å…­èŠ‚ï¼šç¼–è¾‘æ–‡ä»¶" class="headerlink" title="ç¬¬ä¸€è®²ç¬¬å…­èŠ‚ï¼šç¼–è¾‘æ–‡ä»¶"></a>ç¬¬ä¸€è®²ç¬¬å…­èŠ‚ï¼šç¼–è¾‘æ–‡ä»¶</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">                  ** ä½¿ç”¨ :wq ä»¥ä¿å­˜æ–‡ä»¶å¹¶é€€å‡ºã€‚ **</span><br><span class="line"></span><br><span class="line">ç‰¹åˆ«æç¤ºï¼šåœ¨æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ä¹‹å‰ï¼Œè¯·å…ˆè¯»å®Œæ•´ä¸ªå°èŠ‚ï¼</span><br><span class="line"></span><br><span class="line">1. å¦‚æ‚¨åœ¨ç¬¬ä¸€è®²ç¬¬äºŒèŠ‚ä¸­æ‰€åšçš„é‚£æ ·é€€å‡ºæœ¬æ•™ç¨‹ï¼š :q!</span><br><span class="line">   æˆ–è€…ï¼Œå¦‚æœæ‚¨å¯ä»¥è®¿é—®å¦ä¸€ä¸ªç»ˆç«¯ï¼Œè¯·åœ¨é‚£é‡Œæ‰§è¡Œä»¥ä¸‹æ“ä½œã€‚</span><br><span class="line"></span><br><span class="line">2. åœ¨ shell çš„æç¤ºç¬¦ä¸‹è¾“å…¥å‘½ä»¤ï¼š vim tutor &lt;å›è½¦&gt;</span><br><span class="line">   &#x27;vim&#x27;æ˜¯å¯åŠ¨ Vim ç¼–è¾‘å™¨çš„å‘½ä»¤ï¼Œ&#x27;tutor&#x27;æ˜¯æ‚¨å¸Œæœ›ç¼–è¾‘çš„æ–‡ä»¶çš„åå­—ã€‚</span><br><span class="line">   è¯·ä½¿ç”¨ä¸€ä¸ªå¯ä»¥æ”¹åŠ¨çš„æ–‡ä»¶ã€‚</span><br><span class="line"></span><br><span class="line">3. ä½¿ç”¨æ‚¨åœ¨å‰é¢çš„æ•™ç¨‹ä¸­å­¦åˆ°çš„å‘½ä»¤æ’å…¥åˆ é™¤æ–‡æœ¬ã€‚</span><br><span class="line"></span><br><span class="line">4. ä¿å­˜æ”¹åŠ¨è¿‡çš„æ–‡ä»¶å¹¶é€€å‡º Vimï¼ŒæŒ‰è¿™äº›é”®ï¼š :wq  &lt;å›è½¦&gt;</span><br><span class="line"></span><br><span class="line">5. å¦‚æœæ‚¨åœ¨æ­¥éª¤1ä¸­å·²ç»é€€å‡º vimtutorï¼Œè¯·é‡å¯ vimtutor ç§»åŠ¨åˆ°ä¸‹é¢çš„å°ç»“ä¸€èŠ‚ã€‚</span><br><span class="line"></span><br><span class="line">6. é˜…è¯»å®Œä»¥ä¸Šæ­¥éª¤ï¼Œå¼„æ‡‚å®ƒä»¬çš„æ„ä¹‰ï¼Œç„¶ååœ¨å®è·µä¸­è¿›è¡Œç»ƒä¹ ã€‚</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong><br><code>:wq</code> ä¸­çš„ <code>w</code> æ˜¯ <code>write</code>ï¼ˆå†™å…¥ï¼‰çš„ç¼©å†™</p><h2 id="ç¬¬ä¸€è®²å°ç»“"><a href="#ç¬¬ä¸€è®²å°ç»“" class="headerlink" title="ç¬¬ä¸€è®²å°ç»“"></a>ç¬¬ä¸€è®²å°ç»“</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">  1. å…‰æ ‡åœ¨å±å¹•æ–‡æœ¬ä¸­çš„ç§»åŠ¨æ—¢å¯ä»¥ç”¨ç®­å¤´é”®ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ hjkl å­—æ¯é”®ã€‚</span><br><span class="line">         h (å·¦ç§»)       j (ä¸‹è¡Œ)       k (ä¸Šè¡Œ)     l (å³ç§»)</span><br><span class="line"></span><br><span class="line">  2. æ¬²è¿›å…¥ Vim ç¼–è¾‘å™¨(ä»å‘½ä»¤è¡Œæç¤ºç¬¦)ï¼Œè¯·è¾“å…¥ï¼švim æ–‡ä»¶å &lt;å›è½¦&gt;</span><br><span class="line"></span><br><span class="line">  3. æ¬²é€€å‡º Vim ç¼–è¾‘å™¨ï¼Œè¯·è¾“å…¥ &lt;ESC&gt;   :q!   &lt;å›è½¦&gt; æ”¾å¼ƒæ‰€æœ‰æ”¹åŠ¨ã€‚</span><br><span class="line">                      æˆ–è€…è¾“å…¥ &lt;ESC&gt;   :wq   &lt;å›è½¦&gt; ä¿å­˜æ”¹åŠ¨ã€‚</span><br><span class="line"></span><br><span class="line">  4. åœ¨æ­£å¸¸æ¨¡å¼ä¸‹åˆ é™¤å…‰æ ‡æ‰€åœ¨ä½ç½®çš„å­—ç¬¦ï¼Œè¯·æŒ‰ï¼š x</span><br><span class="line"></span><br><span class="line">  5. æ¬²æ’å…¥æˆ–æ·»åŠ æ–‡æœ¬ï¼Œè¯·è¾“å…¥ï¼š</span><br><span class="line"></span><br><span class="line">         i   è¾“å…¥æ¬²æ’å…¥æ–‡æœ¬   &lt;ESC&gt;             åœ¨å…‰æ ‡å‰æ’å…¥æ–‡æœ¬</span><br><span class="line">         A   è¾“å…¥æ¬²æ·»åŠ æ–‡æœ¬   &lt;ESC&gt;             åœ¨ä¸€è¡Œåæ·»åŠ æ–‡æœ¬</span><br><span class="line"></span><br><span class="line">ç‰¹åˆ«æç¤ºï¼šæŒ‰ä¸‹ &lt;ESC&gt; é”®ä¼šå¸¦æ‚¨å›åˆ°æ­£å¸¸æ¨¡å¼æˆ–è€…æ’¤æ¶ˆä¸€ä¸ªä¸æƒ³è¾“å…¥æˆ–éƒ¨åˆ†å®Œæ•´</span><br><span class="line">çš„å‘½ä»¤ã€‚</span><br><span class="line"></span><br><span class="line">å¥½äº†ï¼Œç¬¬ä¸€è®²åˆ°æ­¤ç»“æŸã€‚ä¸‹é¢æ¥ä¸‹æ¥ç»§ç»­ç¬¬äºŒè®²çš„å†…å®¹ã€‚</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;vimæ€ä¹ˆä½¿ç”¨ï¼Œvimä½¿ç”¨æ•™ç¨‹ï¼Œvimtutoræ€ä¹ˆåˆ‡æ¢ä¸­æ–‡-æ±‰åŒ–&quot;&gt;&lt;a href=&quot;#vimæ€ä¹ˆä½¿ç”¨ï¼Œvimä½¿ç”¨æ•™ç¨‹ï¼Œvimtutoræ€ä¹ˆåˆ‡æ¢ä¸­æ–‡-æ±‰åŒ–&quot; class=&quot;headerlink&quot; title=&quot;vimæ€ä¹ˆä½¿ç”¨ï¼Œvimä½¿ç”¨æ•™ç¨‹ï¼Œvimtutoræ€ä¹ˆ</summary>
      
    
    
    
    <category term="é»˜è®¤" scheme="https://james-curtis.github.io/en/categories/%E9%BB%98%E8%AE%A4/"/>
    
    
  </entry>
  
  <entry>
    <title>WSL2 Error â€œcannot execute binary file Exec format errorâ€œ</title>
    <link href="https://james-curtis.github.io/en/2023/wsl2-error-cannot-execute-binary-file-exec-format-error/"/>
    <id>https://james-curtis.github.io/en/2023/wsl2-error-cannot-execute-binary-file-exec-format-error/</id>
    <published>2023-08-01T16:31:37.000Z</published>
    <updated>2023-12-15T03:58:52.141Z</updated>
    
    <content type="html"><![CDATA[<h1 id="symptom"><a href="#symptom" class="headerlink" title="symptom"></a>symptom</h1><p>Using a non Ubuntu distribution version of wsl with system d enabled, running a Windows program in wsl reports an error</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">â¯ code</span><br><span class="line">/mnt/c/Users/mystic/AppData/Local/Programs/Microsoft VS Code/bin/code: 61: /mnt/c/Users/mystic/AppData/Local/Programs/Microsoft VS Code/Code.exe: Exec format error</span><br><span class="line">â¯ explorer.exe .</span><br><span class="line">zsh: exec format error: explorer.exe</span><br></pre></td></tr></table></figure><h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo sh -c &#x27;echo :WSLInterop:M::MZ::/init:PF &gt; /usr/lib/binfmt.d/WSLInterop.conf&#x27;</span><br><span class="line">sudo systemctl unmask systemd-binfmt.service</span><br><span class="line">sudo systemctl restart systemd-binfmt</span><br><span class="line">sudo systemctl mask systemd-binfmt.service</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;symptom&quot;&gt;&lt;a href=&quot;#symptom&quot; class=&quot;headerlink&quot; title=&quot;symptom&quot;&gt;&lt;/a&gt;symptom&lt;/h1&gt;&lt;p&gt;Using a non Ubuntu distribution version of wsl wit</summary>
      
    
    
    
    <category term="Default" scheme="https://james-curtis.github.io/en/categories/Default/"/>
    
    
  </entry>
  
  <entry>
    <title>æ›¿æ¢linuxçš„æ–‡æ³‰é©¿æ­£é»‘fonts-wqy-zenheiå­—ä½“ æ›¿æ¢linuxé»˜è®¤ä¸­æ–‡å­—ä½“</title>
    <link href="https://james-curtis.github.io/en/2023/replace-the-linux-wenquanyi-zhenghei-fonts-wqy-zenhei-font-and-replace-the-linux-default-chinese-font/"/>
    <id>https://james-curtis.github.io/en/2023/replace-the-linux-wenquanyi-zhenghei-fonts-wqy-zenhei-font-and-replace-the-linux-default-chinese-font/</id>
    <published>2023-08-01T14:03:46.000Z</published>
    <updated>2023-12-15T03:58:52.141Z</updated>
    
    <content type="html"><![CDATA[<p>WSL æ€ä¹ˆæ›¿æ¢ linux çš„æ–‡æ³‰é©¿æ­£é»‘ fonts-wqy-zenhei å­—ä½“<br>WSL æ€ä¹ˆæ›¿æ¢ linux é»˜è®¤ä¸­æ–‡å­—ä½“</p><p>åœ¨ wsl ä¸­é»˜è®¤æ˜¯æ²¡æœ‰ gnome ç•Œé¢æˆ–è€… xface çš„ï¼Œä½†æ˜¯æˆ‘éœ€è¦ä½¿ç”¨ wsl å¼€å‘ electron æˆ–è€…ä½¿ç”¨ chrome æµè§ˆå™¨ã€‚è¿™ä¸ªæ—¶å€™ç³»ç»Ÿå°±ä¼šè°ƒç”¨é»˜è®¤çš„ç³»ç»Ÿå­—ä½“äº†ã€‚</p><p>æˆ‘ä½¿ç”¨çš„æ˜¯ debian12ï¼Œå¦‚æœé»˜è®¤æ²¡æœ‰å®‰è£…å…¶ä»–å­—ä½“çš„è¯ï¼Œæµè§ˆå™¨çœ‹ä¸­æ–‡é¡µé¢å°±æ˜¯æ–¹æ¡†ä¹±ç ã€‚è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥å®‰è£…æ–‡æ³‰é©¿æ­£é»‘ä¸­æ–‡å­—ä½“æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p>ä½†æ˜¯è¿™ä¸ªå­—ä½“ä¹Ÿå¤ª nm ä¸‘äº†å§ã€‚å°±æƒ³æŠŠå¾®è½¯é›…é»‘æˆ–è€…è‹¹æ–¹æ”¾è¿›æ¥ã€‚ç™¾åº¦è°·æ­Œæ•™ç¨‹éƒ½ç¿»çƒ‚äº†ï¼Œå‡ ä¹æ²¡æ‰¾åˆ°æ›¿æ¢æ–‡æ³‰é©¿æ­£é»‘å­—ä½“ æˆ–è€…åœ¨å‘½ä»¤è¡Œä¸‹æ›¿æ¢é»˜è®¤å­—ä½“ æˆ–è€…ä¿®æ”¹æ–‡å­—ä¼˜å…ˆçº§çš„æ•™ç¨‹ã€‚äºæ˜¯æŠŠ chat è€å¸ˆä¹Ÿé—®çƒ‚äº†ï¼Œç»ˆäºæ‰¾åˆ°äº†ç­”æ¡ˆï¼Œé‚£å°±æ˜¯ä½¿ç”¨è¿™ä¸ªæ–‡ä»¶ <code>/etc/fonts/local.conf</code>ï¼Œå±…ç„¶ debian å®˜ç½‘è¿è¿™ä¸ªæ–‡ä»¶çš„è¯´æ˜éƒ½æ²¡æœ‰ï¼Œåªæœ‰å¯¹ <code>fonts.conf</code> çš„è¯´æ˜ã€‚ä¸è¿‡ arch linux å®˜æ–¹å¯¹ <code>local.conf</code> è¿™ä¸ªæ–‡ä»¶æœ‰è¯´æ˜ï¼Œä½†æ˜¯æ²¡æœ‰è¿™ä¸ª xml å®šä¹‰çš„è¯´æ˜ã€‚</p><h1 id="æ‰‹åŠ¨å®‰è£…å­—ä½“"><a href="#æ‰‹åŠ¨å®‰è£…å­—ä½“" class="headerlink" title="æ‰‹åŠ¨å®‰è£…å­—ä½“"></a>æ‰‹åŠ¨å®‰è£…å­—ä½“</h1><p>æ‰‹åŠ¨å®‰è£…å­—ä½“ï¼Œæ‰€æœ‰ttfã€ttcæˆ–è€…otfç­‰æ ¼å¼çš„å­—ä½“éƒ½å¯ä»¥ç”¨è¿™ç§æ–¹å¼ã€‚</p><p>æ‰¾åˆ° <code>/usr/share/fonts</code> ç›®å½•ï¼Œæ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œæ¯”å¦‚è¯´ <code>/usr/share/fonts/custom</code> è¿™æ ·æˆ‘çŸ¥é“è¿™ä¸€å—çš„å­—ä½“æ˜¯æˆ‘è‡ªå·±æ·»åŠ çš„ã€‚</p><p>ç„¶åæŠŠå¾®è½¯é›…é»‘æˆ–è€…è‹¹æ–¹å­—ä½“æ‹·è´è¿›å»ã€‚è‹¹æ–¹å­—ä½“å»ºè®®ä½¿ç”¨ <code>19.0d4e2</code> è¿™ä¸ªç‰ˆæœ¬çš„å­—ä½“ã€‚</p><blockquote><p>19.0d4e2 ç‰ˆæœ¬çš„è‹¹æ–¹å¯ä»¥ç›´æ¥è¢« Windows è¯†åˆ«ï¼Œä¼°è®¡æ˜¯ååº·åœ¨å¯¼å‡ºæ–‡ä»¶çš„æ—¶å€™å¿˜äº†è®¾ç½®ä»€ä¹ˆä¸œè¥¿ã€‚</p></blockquote><h1 id="ä¿®æ”¹å­—ä½“ä¼˜å…ˆçº§"><a href="#ä¿®æ”¹å­—ä½“ä¼˜å…ˆçº§" class="headerlink" title="ä¿®æ”¹å­—ä½“ä¼˜å…ˆçº§"></a>ä¿®æ”¹å­—ä½“ä¼˜å…ˆçº§</h1><ol><li>æ‰“å¼€ç»ˆç«¯ï¼Œå¹¶ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆä¾‹å¦‚ nano æˆ– vimï¼‰åˆ›å»ºä¸€ä¸ªæ–°çš„ Fontconfig é…ç½®æ–‡ä»¶ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nano /etc/fonts/local.conf</span><br></pre></td></tr></table></figure><ol start="2"><li>åœ¨æ–°å»ºçš„é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼Œå°†å¾®è½¯é›…é»‘å­—ä½“çš„ä¼˜å…ˆçº§è®¾ç½®ä¸ºè¾ƒé«˜ï¼š<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span>?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">fontconfig</span> <span class="keyword">SYSTEM</span> <span class="string">&quot;urn:fontconfig:fonts.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">fontconfig</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">description</span>&gt;</span>Set preferable fonts for non-Latin<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">alias</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">family</span>&gt;</span>serif<span class="tag">&lt;/<span class="name">family</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">prefer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">family</span>&gt;</span>Microsoft YaHei UI<span class="tag">&lt;/<span class="name">family</span>&gt;</span><span class="comment">&lt;!-- han (zh-cn) --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">prefer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">alias</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">alias</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">family</span>&gt;</span>sans-serif<span class="tag">&lt;/<span class="name">family</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">prefer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">family</span>&gt;</span>Microsoft YaHei UI<span class="tag">&lt;/<span class="name">family</span>&gt;</span><span class="comment">&lt;!-- han (zh-cn) --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">prefer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">alias</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">alias</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">family</span>&gt;</span>monospace<span class="tag">&lt;/<span class="name">family</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">prefer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">family</span>&gt;</span>Microsoft YaHei UI<span class="tag">&lt;/<span class="name">family</span>&gt;</span><span class="comment">&lt;!-- han (zh-cn) --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">prefer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">alias</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">alias</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">family</span>&gt;</span>system-ui<span class="tag">&lt;/<span class="name">family</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">prefer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">family</span>&gt;</span>Microsoft YaHei UI<span class="tag">&lt;/<span class="name">family</span>&gt;</span><span class="comment">&lt;!-- han (zh-cn) --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">prefer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">alias</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">fontconfig</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><p>é—®é¢˜æ¥äº†ï¼Œæˆ‘æ€ä¹ˆçŸ¥é“è¿™ä¸ªé…ç½®æ–‡ä»¶æ˜¯è¿™æ ·å†™çš„ã€‚æˆ‘ä¹Ÿä¸çŸ¥é“ï¼Œæˆ‘åªæ˜¯å¤åˆ¶äº† <code>/etc/fonts/fonts.conf</code> ç„¶åæŠŠ <code>prefer</code> ä¸­çš„å­—æ®µéƒ½åˆ å®Œï¼Œåªç•™ä¸€ä¸ªï¼Œç„¶åå…¨éƒ¨éƒ½æ›¿æ¢æˆ <code>Microsoft YaHei UI</code></p><p>ä¿å­˜é€€å‡º</p><h1 id="åˆ·æ–°ç¼“å­˜"><a href="#åˆ·æ–°ç¼“å­˜" class="headerlink" title="åˆ·æ–°ç¼“å­˜"></a>åˆ·æ–°ç¼“å­˜</h1><p>åœ¨ç»ˆç«¯ä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä»¥æ›´æ–°å­—ä½“ç¼“å­˜ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo fc-cache -f -v</span><br></pre></td></tr></table></figure><h1 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h1><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936350960641693635095476.png" alt="16936350960641693635095476.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;WSL æ€ä¹ˆæ›¿æ¢ linux çš„æ–‡æ³‰é©¿æ­£é»‘ fonts-wqy-zenhei å­—ä½“&lt;br&gt;WSL æ€ä¹ˆæ›¿æ¢ linux é»˜è®¤ä¸­æ–‡å­—ä½“&lt;/p&gt;
&lt;p&gt;åœ¨ wsl ä¸­é»˜è®¤æ˜¯æ²¡æœ‰ gnome ç•Œé¢æˆ–è€… xface çš„ï¼Œä½†æ˜¯æˆ‘éœ€è¦ä½¿ç”¨ wsl å¼€å‘ electron æˆ–è€…ä½¿ç”¨ ch</summary>
      
    
    
    
    <category term="é»˜è®¤" scheme="https://james-curtis.github.io/en/categories/%E9%BB%98%E8%AE%A4/"/>
    
    
  </entry>
  
  <entry>
    <title>2023è½¯ä»¶å·¥ç¨‹ä¸­å„ç§å›¾åœ¨ç°ä»£ä¼ä¸šçº§å¼€å‘ä¸­çš„ä½¿ç”¨é¢‘ç‡</title>
    <link href="https://james-curtis.github.io/en/2023/2023-frequency-of-use-of-various-diagrams-in-software-engineering-in-modern-enterprise-level-development/"/>
    <id>https://james-curtis.github.io/en/2023/2023-frequency-of-use-of-various-diagrams-in-software-engineering-in-modern-enterprise-level-development/</id>
    <published>2023-06-20T12:58:53.000Z</published>
    <updated>2023-12-15T03:58:52.141Z</updated>
    
    <content type="html"><![CDATA[<h1 id="2023è½¯ä»¶å·¥ç¨‹ä¸­å„ç§å›¾åœ¨ç°ä»£ä¼ä¸šçº§å¼€å‘ä¸­çš„ä½¿ç”¨é¢‘ç‡"><a href="#2023è½¯ä»¶å·¥ç¨‹ä¸­å„ç§å›¾åœ¨ç°ä»£ä¼ä¸šçº§å¼€å‘ä¸­çš„ä½¿ç”¨é¢‘ç‡" class="headerlink" title="2023è½¯ä»¶å·¥ç¨‹ä¸­å„ç§å›¾åœ¨ç°ä»£ä¼ä¸šçº§å¼€å‘ä¸­çš„ä½¿ç”¨é¢‘ç‡"></a>2023è½¯ä»¶å·¥ç¨‹ä¸­å„ç§å›¾åœ¨ç°ä»£ä¼ä¸šçº§å¼€å‘ä¸­çš„ä½¿ç”¨é¢‘ç‡</h1><h2 id="æ¦‚è§ˆ"><a href="#æ¦‚è§ˆ" class="headerlink" title="æ¦‚è§ˆ"></a>æ¦‚è§ˆ</h2><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936351800641693635179264.png" alt="16936351800641693635179264.png"></p><h2 id="ç³»ç»Ÿæµç¨‹å›¾-âœ”"><a href="#ç³»ç»Ÿæµç¨‹å›¾-âœ”" class="headerlink" title="ç³»ç»Ÿæµç¨‹å›¾ âœ”"></a>ç³»ç»Ÿæµç¨‹å›¾ âœ”</h2><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936351990621693635198471.png" alt="16936351990621693635198471.png"></p><h2 id="æ•°æ®æµå›¾-Ã—ä¸å¸¸ç”¨"><a href="#æ•°æ®æµå›¾-Ã—ä¸å¸¸ç”¨" class="headerlink" title="æ•°æ®æµå›¾  Ã—ä¸å¸¸ç”¨"></a>æ•°æ®æµå›¾  Ã—ä¸å¸¸ç”¨</h2><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936352180661693635217853.png" alt="16936352180661693635217853.png"></p><h2 id="ERå›¾-âœ”"><a href="#ERå›¾-âœ”" class="headerlink" title="ERå›¾ âœ”"></a>ERå›¾ âœ”</h2><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936352380641693635237871.png" alt="16936352380641693635237871.png"></p><h2 id="çŠ¶æ€è½¬æ¢å›¾-âœ”"><a href="#çŠ¶æ€è½¬æ¢å›¾-âœ”" class="headerlink" title="çŠ¶æ€è½¬æ¢å›¾ âœ”"></a>çŠ¶æ€è½¬æ¢å›¾ âœ”</h2><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936352480751693635247278.png" alt="16936352480751693635247278.png"></p><h2 id="Warnierå›¾-Ã—ä¸å¸¸ç”¨"><a href="#Warnierå›¾-Ã—ä¸å¸¸ç”¨" class="headerlink" title="Warnierå›¾ Ã—ä¸å¸¸ç”¨"></a>Warnierå›¾ Ã—ä¸å¸¸ç”¨</h2><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936352590741693635258629.png" alt="16936352590741693635258629.png"></p><h2 id="IPOå›¾-Ã—ä¸å¸¸ç”¨"><a href="#IPOå›¾-Ã—ä¸å¸¸ç”¨" class="headerlink" title="IPOå›¾ Ã—ä¸å¸¸ç”¨"></a>IPOå›¾ Ã—ä¸å¸¸ç”¨</h2><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936352820601693635281639.png" alt="16936352820601693635281639.png"></p><h2 id="Petriç½‘-Ã—ä¸å¸¸ç”¨"><a href="#Petriç½‘-Ã—ä¸å¸¸ç”¨" class="headerlink" title="Petriç½‘ Ã—ä¸å¸¸ç”¨"></a>Petriç½‘ Ã—ä¸å¸¸ç”¨</h2><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936352920661693635291966.png" alt="16936352920661693635291966.png"></p><h2 id="å±‚æ¬¡æ–¹æ¡†å›¾-Ã—ä¸å¸¸ç”¨"><a href="#å±‚æ¬¡æ–¹æ¡†å›¾-Ã—ä¸å¸¸ç”¨" class="headerlink" title="å±‚æ¬¡æ–¹æ¡†å›¾ Ã—ä¸å¸¸ç”¨"></a>å±‚æ¬¡æ–¹æ¡†å›¾ Ã—ä¸å¸¸ç”¨</h2><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936353020611693635301590.png" alt="16936353020611693635301590.png"></p><h2 id="å±‚æ¬¡å›¾-a-k-a-Hå›¾-âœ”"><a href="#å±‚æ¬¡å›¾-a-k-a-Hå›¾-âœ”" class="headerlink" title="å±‚æ¬¡å›¾ a.k.a. Hå›¾ âœ”"></a>å±‚æ¬¡å›¾ a.k.a. Hå›¾ âœ”</h2><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936353250741693635324362.png" alt="16936353250741693635324362.png"></p><blockquote><p>1,å±‚æ¬¡å›¾æç»˜è½¯ä»¶çš„å±‚æ¬¡ç»“æ„.å±‚å±‚æ¬¡æ–¹æ¡†å›¾æç»˜çš„æ˜¯æ•°æ®ç»“æ„ã€‚</p><p>2,å±‚æ¬¡å›¾çš„æ–¹æ¡†è¡¨ç¤ºæ¨¡å—æˆ–å­æ¨¡å—ã€‚å±‚æ¬¡æ–¹æ¡†å›¾çš„æ–¹æ¡†è¡¨ç¤ºæ•°æ®ç»“æ„æ•´ä½“æˆ–å…¶å­é›†ã€‚</p><p>3,å±‚æ¬¡å›¾çš„è¿çº¿è¡¨ç¤ºè°ƒç”¨å…³ç³»ï¼Œå±‚æ¬¡æ–¹æ¡†å›¾è¡¨ç¤ºç»„æˆå…³ç³»ã€‚</p></blockquote><h2 id="ç»“æ„å›¾-Ã—ä¸å¸¸ç”¨"><a href="#ç»“æ„å›¾-Ã—ä¸å¸¸ç”¨" class="headerlink" title="ç»“æ„å›¾ Ã—ä¸å¸¸ç”¨"></a>ç»“æ„å›¾ Ã—ä¸å¸¸ç”¨</h2><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936353450681693635344883.png" alt="16936353450681693635344883.png"></p><h2 id="HIPOå›¾-Ã—ä¸å¸¸ç”¨"><a href="#HIPOå›¾-Ã—ä¸å¸¸ç”¨" class="headerlink" title="HIPOå›¾ Ã—ä¸å¸¸ç”¨"></a>HIPOå›¾ Ã—ä¸å¸¸ç”¨</h2><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936353875351693635386586.png" alt="16936353875351693635386586.png"></p><blockquote><p>HIPOå›¾æ˜¯ç¾å›½IBMå…¬å¸å‘æ˜çš„â€œå±‚æ¬¡å›¾åŠ è¾“å…¥&#x2F;å¤„ç†&#x2F;è¾“å‡ºå›¾â€çš„è‹±æ–‡ç¼©å†™ã€‚ä¸ºäº†èƒ½ä½¿HIPOå›¾å…·æœ‰å¯è¿½è¸ªæ€§ï¼Œåœ¨Hå›¾ï¼ˆå±‚æ¬¡å›¾ï¼‰é‡Œé™¤äº†æœ€é¡¶å±‚çš„æ–¹æ¡†ä¹‹å¤–ï¼Œæ¯ä¸ªæ–¹æ¡†éƒ½åŠ äº†ç¼–å·ã€‚ç¼–å·è§„åˆ™å’Œç¬¬2.4èŠ‚ä¸­ä»‹ç»çš„æ•°æ®æµå›¾çš„ç¼–å·è§„åˆ™ç›¸åŒï¼Œä¾‹å¦‚ï¼Œå›¾5.3åŠ äº†ç¼–å·åå¾—åˆ°å›¾5,4ã€‚</p><p>å’ŒHå›¾ä¸­æ¯ä¸ªæ–¹æ¡†ç›¸å¯¹åº”ï¼Œåº”è¯¥æœ‰ä¸€å¼ IPOå›¾æç»˜è¿™ä¸ªæ–¹æ¡†ä»£è¡¨çš„æ¨¡å—çš„å¤„ç†è¿‡ç¨‹ã€‚ç¬¬3.7èŠ‚å·²ç»è¯¦ç»†ä»‹ç»è¿‡IPOå›¾ï¼Œæ­¤å¤„ä¸å†é‡å¤ã€‚ä½†æ˜¯ï¼Œæœ‰ä¸€ç‚¹åº”è¯¥ç€é‡æŒ‡å‡ºï¼Œé‚£å°±æ˜¯HIPOå›¾ä¸­çš„æ¯å¼ IPOå›¾å†…éƒ½åº”è¯¥æ˜æ˜¾åœ°æ ‡å‡ºå®ƒæ‰€æç»˜çš„æ¨¡å—åœ¨Hå›¾ä¸­çš„ç¼–å·ï¼Œä»¥ä¾¿è¿½è¸ªäº†è§£è¿™ä¸ªæ¨¡å—åœ¨è½¯ä»¶ç»“æ„ä¸­çš„ä½ç½®ã€‚</p></blockquote><h2 id="ç›’å›¾-a-k-a-N-Så›¾-Ã—ä¸å¸¸ç”¨"><a href="#ç›’å›¾-a-k-a-N-Så›¾-Ã—ä¸å¸¸ç”¨" class="headerlink" title="ç›’å›¾ a.k.a. N-Så›¾ Ã—ä¸å¸¸ç”¨"></a>ç›’å›¾ a.k.a. N-Så›¾ Ã—ä¸å¸¸ç”¨</h2><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936354075351693635406755.png" alt="16936354075351693635406755.png"></p><h2 id="PADå›¾-Ã—ä¸å¸¸ç”¨"><a href="#PADå›¾-Ã—ä¸å¸¸ç”¨" class="headerlink" title="PADå›¾ Ã—ä¸å¸¸ç”¨"></a>PADå›¾ Ã—ä¸å¸¸ç”¨</h2><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936354215431693635421533.png" alt="16936354215431693635421533.png"></p><h2 id="Jacksonå›¾-Ã—ä¸å¸¸ç”¨"><a href="#Jacksonå›¾-Ã—ä¸å¸¸ç”¨" class="headerlink" title="Jacksonå›¾ Ã—ä¸å¸¸ç”¨"></a>Jacksonå›¾ Ã—ä¸å¸¸ç”¨</h2><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936354365351693635436128.png" alt="16936354365351693635436128.png"></p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ol><li><a href="https://juejin.cn/post/7129822677748940813#heading-8">https://juejin.cn/post/7129822677748940813#heading-8</a></li><li><a href="https://www.liuchuo.net/archives/1848">https://www.liuchuo.net/archives/1848</a></li><li><a href="https://www.kancloud.cn/netcon/t4/241479">https://www.kancloud.cn/netcon/t4/241479</a></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;2023è½¯ä»¶å·¥ç¨‹ä¸­å„ç§å›¾åœ¨ç°ä»£ä¼ä¸šçº§å¼€å‘ä¸­çš„ä½¿ç”¨é¢‘ç‡&quot;&gt;&lt;a href=&quot;#2023è½¯ä»¶å·¥ç¨‹ä¸­å„ç§å›¾åœ¨ç°ä»£ä¼ä¸šçº§å¼€å‘ä¸­çš„ä½¿ç”¨é¢‘ç‡&quot; class=&quot;headerlink&quot; title=&quot;2023è½¯ä»¶å·¥ç¨‹ä¸­å„ç§å›¾åœ¨ç°ä»£ä¼ä¸šçº§å¼€å‘ä¸­çš„ä½¿ç”¨é¢‘ç‡&quot;&gt;&lt;/a&gt;2023è½¯ä»¶å·¥ç¨‹</summary>
      
    
    
    
    <category term="é»˜è®¤" scheme="https://james-curtis.github.io/en/categories/%E9%BB%98%E8%AE%A4/"/>
    
    
  </entry>
  
  <entry>
    <title>educoderå¤´æ­Œå¼ºåˆ¶æ˜¾ç¤ºå³ä¾§ç›®å½•æŒ‰é’®ï¼Œæ–¹ä¾¿æŸ¥çœ‹æµ‹è¯•ä»£ç ï¼Œä¾¿äºæ€ä¹ˆåœ¨æœ¬åœ°è‡ªæµ‹å¤´æ­Œä»£ç ï¼Ÿ</title>
    <link href="https://james-curtis.github.io/en/2023/the-educoder-touge-is-forced-to-display-the-directory-button-on-the-right-which-is-convenient-for-viewing-the-test-code-and-how-to-test-the-touge-code-locally/"/>
    <id>https://james-curtis.github.io/en/2023/the-educoder-touge-is-forced-to-display-the-directory-button-on-the-right-which-is-convenient-for-viewing-the-test-code-and-how-to-test-the-touge-code-locally/</id>
    <published>2023-04-30T06:07:06.000Z</published>
    <updated>2023-12-15T03:58:52.141Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ•ˆæœå¦‚ä¸‹"><a href="#æ•ˆæœå¦‚ä¸‹" class="headerlink" title="æ•ˆæœå¦‚ä¸‹"></a>æ•ˆæœå¦‚ä¸‹</h1><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936355635371693635562880.png" alt="16936355635371693635562880.png"></p><h1 id="æ“ä½œæ­¥éª¤"><a href="#æ“ä½œæ­¥éª¤" class="headerlink" title="æ“ä½œæ­¥éª¤"></a>æ“ä½œæ­¥éª¤</h1><ol><li><p>F12æ‰“å¼€æ§åˆ¶å°<br><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936355855361693635584793.png" alt="16936355855361693635584793.png"></p></li><li><p>ctrl+shift+få…¨å±€æœç´¢ <code>_ref2.code_hidden</code><br><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936355945351693635594504.png" alt="16936355945351693635594504.png"></p></li><li><p>åœ¨å·¦ä¾§æ‰¾åˆ° <code>è¦†ç›–</code> æŒ‰é’®ï¼Œ<code>é€‰æ‹©æ›¿ä»£æ–‡ä»¶å¤¹</code>ï¼Œå¹¶å…è®¸æƒé™<br><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936356145391693635614527.png" alt="16936356145391693635614527.png"></p></li><li><p>åœ¨ç¼–è¾‘æ¡†å†…å³é”®ï¼Œé€‰æ‹©<code>ä¿å­˜ä»¥å¤‡æ›¿ä»£</code><br><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936356255361693635625063.png" alt="16936356255361693635625063.png"></p></li><li><p>æŠŠ <code>code_hidden</code> çš„å€¼ä¿®æ”¹ä¸º <code>false</code>ï¼Œç„¶åæŒ‰ä¸‹ <code>ctrl+s</code> ä¿å­˜<br><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936356355351693635634766.png" alt="16936356355351693635634766.png"></p></li><li><p>ä¿æŒæ§åˆ¶å°ä¸å…³é—­ï¼Œåˆ·æ–°é¡µé¢ï¼Œenjoyingã€‚æ¥ä¸‹æ¥å°±å¯ä»¥ç›´æ¥æ ¹æ®æµ‹è¯•ä»£ç åœ¨æœ¬åœ°è‡ªæµ‹äº†</p></li></ol><h1 id="æ–¹æ³•æ€è·¯"><a href="#æ–¹æ³•æ€è·¯" class="headerlink" title="æ–¹æ³•æ€è·¯"></a>æ–¹æ³•æ€è·¯</h1><p>æˆ‘æ˜¯æ€ä¹ˆæ‰¾åˆ°è¿™ä¸ªæ–¹æ³•çš„å‘¢ï¼Œä¸”å¬æˆ‘æ…¢æ…¢é“æ¥ã€‚</p><ol><li><p>é¦–å…ˆçš„æ‰¾åˆ°ä¸€ä¸ªä¸æ˜¾ç¤ºæ–‡ä»¶å¤¹æŒ‰é’®çš„é¡µé¢å’Œä¸€ä¸ªå¯ä»¥æ­£å¸¸æ˜¾ç¤ºæ–‡ä»¶å¤¹æŒ‰é’®çš„é¡µé¢</p></li><li><p>æ‰“å¼€æ§åˆ¶å°ï¼Œå®šä½åˆ°æ–‡ä»¶å¤¹æŒ‰é’®è¿™ä¸ªå…ƒç´ <br><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936356495351693635649038.png" alt="16936356495351693635649038.png"></p></li><li><p>å‘ç°æœ‰ä¸ªæ˜æ˜¾çš„å›¾æ ‡åå­—ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆæ˜æ˜¾çš„ç‰¹å¾ï¼Œä»£ç é‡Œé¢è‚¯å®šä¼šæœ‰å†™ã€‚äºæ˜¯å…¨å±€æœç´¢ä¸€ä¸‹ï¼Œçœ‹çœ‹è¿™å—ä»£ç é™„ä»¶çš„ä¸Šä¸‹æ–‡æ€ä¹ˆå†™çš„ï¼ˆåªè¦çœ‹jså°±å¥½ï¼‰<br><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936356645411693635664482.png" alt="16936356645411693635664482.png"></p></li><li><p>è§£ç ä¸€ä¸‹9528è¡Œçš„Unicodeï¼Œç»“æœæ˜¯<code>æ˜¾ç¤ºç›®å½•</code>ï¼Œè¯´æ˜è¿™ä¸€å—å°±æ˜¯æ¸²æŸ“ä»£ç <br><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936356765401693635676223.png" alt="16936356765401693635676223.png"></p></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">code_hidden ? <span class="literal">null</span> : <span class="comment">/*#__PURE__*/</span>(<span class="number">0</span>,jsx_runtime.<span class="property">jsx</span>)(<span class="string">&quot;a&quot;</span>, &#123;</span><br><span class="line">          <span class="attr">title</span>: <span class="string">&quot;\u663E\u793A\u76EE\u5F55&quot;</span>,</span><br><span class="line">          <span class="attr">onClick</span>: onShowDir,</span><br><span class="line">          <span class="attr">children</span>: <span class="comment">/*#__PURE__*/</span>(<span class="number">0</span>,jsx_runtime.<span class="property">jsx</span>)(<span class="string">&quot;i&quot;</span>, &#123;</span><br><span class="line">            <span class="attr">className</span>: <span class="string">&quot;iconfont icon-wenjian &quot;</span></span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure><p>ä»ä»£ç ä¸­å¯ä»¥çœ‹å¾—å‡ºï¼Œè¿™ä¸ªæŒ‰é’®æ˜¯å¦æ˜¾ç¤ºå–å†³äº <code>code_hidden</code> å˜é‡çš„å€¼</p><ol start="5"><li>å‘ä¸Šæœç´¢ <code>code_hidden </code><br>å‘ç°å˜é‡æ˜¯åœ¨è¿™é‡Œå®šä¹‰çš„ï¼Œåªè¦æŠŠè¿™é‡Œå†™æ­»ä¸º<code>true</code>å°±å¥½äº†<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* harmony default export */</span> <span class="keyword">function</span> <span class="title function_">action_bar</span>(<span class="params">_ref2</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> loading = _ref2.<span class="property">loading</span>,</span><br><span class="line">    lastedUpdateTime = _ref2.<span class="property">lastedUpdateTime</span>,</span><br><span class="line">    moveY = _ref2.<span class="property">moveY</span>,</span><br><span class="line">    code_hidden = _ref2.<span class="property">code_hidden</span>,</span><br><span class="line">    hide_code = _ref2.<span class="property">hide_code</span>,</span><br><span class="line">    gameStatus = _ref2.<span class="property">gameStatus</span>,</span><br><span class="line">    isEditPath = _ref2.<span class="property">isEditPath</span>,</span><br><span class="line">    isNotice = _ref2.<span class="property">isNotice</span>,</span><br></pre></td></tr></table></figure><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936356935391693635693364.png" alt="16936356935391693635693364.png"></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;æ•ˆæœå¦‚ä¸‹&quot;&gt;&lt;a href=&quot;#æ•ˆæœå¦‚ä¸‹&quot; class=&quot;headerlink&quot; title=&quot;æ•ˆæœå¦‚ä¸‹&quot;&gt;&lt;/a&gt;æ•ˆæœå¦‚ä¸‹&lt;/h1&gt;&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/james-curtis/blog-</summary>
      
    
    
    
    <category term="é»˜è®¤" scheme="https://james-curtis.github.io/en/categories/%E9%BB%98%E8%AE%A4/"/>
    
    
  </entry>
  
  <entry>
    <title>rke2é›†ç¾¤å®‰è£…å®Œæˆä¹‹åä½¿ç”¨kubectlååº”å¾ˆæ…¢</title>
    <link href="https://james-curtis.github.io/en/2023/after-the-rke2-cluster-is-installed-kubectl-responds-very-slowly/"/>
    <id>https://james-curtis.github.io/en/2023/after-the-rke2-cluster-is-installed-kubectl-responds-very-slowly/</id>
    <published>2023-03-17T04:21:19.000Z</published>
    <updated>2023-12-15T03:58:52.141Z</updated>
    
    <content type="html"><![CDATA[<p>ä»å¤´å¼€å§‹æ£€æŸ¥</p><h1 id="æ£€æŸ¥kubectlè¯·æ±‚"><a href="#æ£€æŸ¥kubectlè¯·æ±‚" class="headerlink" title="æ£€æŸ¥kubectlè¯·æ±‚"></a>æ£€æŸ¥kubectlè¯·æ±‚</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">root@rke2-3:~# kubectl get nodes -v 9</span><br><span class="line">I0317 12:03:12.948874   50681 loader.go:372] Config loaded from file:  /root/.kube/config</span><br><span class="line">I0317 12:03:12.966771   50681 round_trippers.go:435] curl -v -XGET  -H &quot;User-Agent: kubectl/v1.22.17+rke2r1 (linux/amd64) kubernetes/a7736ea&quot; -H &quot;Accept: application/json, */*&quot; &#x27;https://127.0.0.1:6443/apis/metrics.k8s.io/v1beta1?timeout=32s&#x27;</span><br><span class="line">I0317 12:03:17.976244   50681 round_trippers.go:454] GET https://127.0.0.1:6443/apis/metrics.k8s.io/v1beta1?timeout=32s 503 Service Unavailable in 5009 milliseconds</span><br><span class="line">I0317 12:03:17.976302   50681 round_trippers.go:460] Response Headers:</span><br><span class="line">I0317 12:03:17.976310   50681 round_trippers.go:463]     Date: Fri, 17 Mar 2023 04:03:17 GMT</span><br><span class="line">I0317 12:03:17.976314   50681 round_trippers.go:463]     Audit-Id: 6161f664-ef9b-4c43-bc8a-7a9bc4aadc4d</span><br><span class="line">I0317 12:03:17.976318   50681 round_trippers.go:463]     Cache-Control: no-cache, private</span><br><span class="line">I0317 12:03:17.976322   50681 round_trippers.go:463]     Content-Type: text/plain; charset=utf-8</span><br><span class="line">I0317 12:03:17.976326   50681 round_trippers.go:463]     X-Content-Type-Options: nosniff</span><br><span class="line">I0317 12:03:17.976330   50681 round_trippers.go:463]     X-Kubernetes-Pf-Flowschema-Uid: 18ac6688-4bae-4287-bb86-d3e59b300a3b</span><br><span class="line">I0317 12:03:17.976334   50681 round_trippers.go:463]     X-Kubernetes-Pf-Prioritylevel-Uid: 8030cae1-7f3d-431a-90c4-09f0ba76b7aa</span><br><span class="line">I0317 12:03:17.976338   50681 round_trippers.go:463]     Content-Length: 68</span><br><span class="line">I0317 12:03:17.979957   50681 request.go:1197] Response Body: error trying to reach service: dial tcp 10.42.0.3:8443: i/o timeout</span><br><span class="line">I0317 12:03:17.983359   50681 request.go:1388] body was not decodable (unable to check for Status): yaml: mapping values are not allowed in this context</span><br><span class="line">I0317 12:03:17.983405   50681 cached_discovery.go:78] skipped caching discovery info due to the server is currently unable to handle the request</span><br><span class="line">I0317 12:03:17.984416   50681 round_trippers.go:435] curl -v -XGET  -H &quot;Accept: application/json, */*&quot; -H &quot;User-Agent: kubectl/v1.22.17+rke2r1 (linux/amd64) kubernetes/a7736ea&quot; &#x27;https://127.0.0.1:6443/apis/metrics.k8s.io/v1beta1?timeout=32s&#x27;</span><br></pre></td></tr></table></figure><p>å‘ç°è¶…æ—¶åœ¨è¿™ä¸€ä¸ªè¯·æ±‚ <code>https://127.0.0.1:6443/apis/metrics.k8s.io/v1beta1?timeout=32s 503 Service Unavailable in 5009 milliseconds</code></p><h1 id="æ£€æŸ¥-kube-config"><a href="#æ£€æŸ¥-kube-config" class="headerlink" title="æ£€æŸ¥.kube&#x2F;config"></a>æ£€æŸ¥.kube&#x2F;config</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">root@rke2-1:~/.kube# cat config </span><br><span class="line">apiVersion: v1</span><br><span class="line">clusters:</span><br><span class="line">- cluster:</span><br><span class="line">    certificate-authority-data: xxx</span><br><span class="line">    server: https://127.0.0.1:6443</span><br><span class="line">  name: default</span><br><span class="line">contexts:</span><br><span class="line">- context:</span><br><span class="line">    cluster: default</span><br><span class="line">    user: default</span><br><span class="line">  name: default</span><br><span class="line">current-context: default</span><br><span class="line">kind: Config</span><br><span class="line">preferences: &#123;&#125;</span><br><span class="line">users:</span><br><span class="line">- name: default</span><br><span class="line">  user:</span><br><span class="line">    client-certificate-data: xxx</span><br><span class="line">    client-key-data: xxx</span><br></pre></td></tr></table></figure><p>åœ¨é™¤äº†ç¬¬ä¸€ä¸ªserverèŠ‚ç‚¹ä¸Šè¿è¡Œkubectléƒ½å¾ˆå¡ï¼Œæ£€æŸ¥kubectlçš„é…ç½®æ–‡ä»¶ï¼Œå‘ç°è¯·æ±‚çš„serveræ˜¯127.0.0.1</p><p>äºæ˜¯ä¿®æ”¹ä¸ºè´Ÿè½½å‡è¡¡ipæˆ–è€…åŸŸåå³å¯è§£å†³é—®é¢˜</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">load_balancer_addr=rancher2.ent.top</span><br><span class="line">sed -i.bak &quot;s/127.0.0.1:6443/$&#123;load_balancer_addr&#125;:6443/&quot; /etc/rancher/rke2/rke2.yaml</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ä»å¤´å¼€å§‹æ£€æŸ¥&lt;/p&gt;
&lt;h1 id=&quot;æ£€æŸ¥kubectlè¯·æ±‚&quot;&gt;&lt;a href=&quot;#æ£€æŸ¥kubectlè¯·æ±‚&quot; class=&quot;headerlink&quot; title=&quot;æ£€æŸ¥kubectlè¯·æ±‚&quot;&gt;&lt;/a&gt;æ£€æŸ¥kubectlè¯·æ±‚&lt;/h1&gt;&lt;figure class=&quot;highligh</summary>
      
    
    
    
    <category term="é»˜è®¤" scheme="https://james-curtis.github.io/en/categories/%E9%BB%98%E8%AE%A4/"/>
    
    
  </entry>
  
  <entry>
    <title>windows serverç¦æ­¢è¿”å›ipv6çš„dnsè§£æ</title>
    <link href="https://james-curtis.github.io/en/2023/windows-server-prohibits-returning-ipv6-dns-resolution/"/>
    <id>https://james-curtis.github.io/en/2023/windows-server-prohibits-returning-ipv6-dns-resolution/</id>
    <published>2023-03-16T10:39:13.000Z</published>
    <updated>2023-12-15T03:58:52.141Z</updated>
    
    <content type="html"><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>æœ‰ä»€ä¹ˆæ–¹æ³•å¯ä»¥é˜²æ­¢äº‹ç‰©åœ¨ DNS æœåŠ¡å™¨ä¸Šæ³¨å†Œå®ƒä»¬çš„ AAAA è®°å½•å—ï¼Ÿæˆ‘å·²ç»å°è¯•é€šè¿‡åœ¨ç½‘ç»œå †æ ˆä¸­å–æ¶ˆé€‰ä¸­å®ƒæ¥å…³é—­ Windows è®¡ç®—æœºä¸Šçš„ IPv6ï¼Œä½†å®ƒä»¬ä»ç„¶æ³¨å†Œ AAAA è®°å½•ã€‚é—®é¢˜æ˜¯ï¼Œæˆ‘ä»¬çš„ Exchange 2007 æœåŠ¡å™¨ä¸€ç›´åœ¨æ³¨å†Œ AAAA è®°å½•ï¼Œè€Œæˆ‘ä»¬çš„éš§é“æ²¡æœ‰ä¸º IPv6 è®¾ç½®ã€‚å› æ­¤ï¼Œå½“éš§é“æœ«ç«¯çš„å®¢æˆ·ç«¯å°è¯•è¿æ¥æ—¶ï¼Œå®ƒæ— æ³•è¿æ¥ã€‚æˆ‘å¯ä»¥ ping é€š IPv6 åœ°å€ï¼Œä½†æˆ‘çŒœè¿™å¯èƒ½æ˜¯è·¯ç”±å™¨åœ¨å›å¤è€Œä¸æ˜¯æœåŠ¡å™¨æœ¬èº«ã€‚å¦‚æœæˆ‘ä» DNS æœåŠ¡å™¨ä¸­åˆ é™¤ IPv6 åœ°å€å¹¶å°è¯•å†æ¬¡è¿æ¥ï¼Œå®ƒä¼šèµ·ä½œç”¨ã€‚</p><p>ipv6ç¦ç”¨æ–¹æ³•å‡ºå¤„ <a href="https://community.spiceworks.com/topic/257230-disable-aaaa-records-from-registering-in-server-2008-r2-dns">https://community.spiceworks.com/topic/257230-disable-aaaa-records-from-registering-in-server-2008-r2-dns</a></p><h1 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h1><p>å¦‚æœæ‚¨æƒ³ç¦ç”¨ IPv6ï¼Œå…³é—­å®ƒçš„â€œæ­£ç¡®â€æ–¹æ³•æ˜¯é€šè¿‡æ³¨å†Œè¡¨ç¦ç”¨å®ƒã€‚å°±æ˜¯è¿™æ ·ï¼š</p><p>æ‰“å¼€æ³¨å†Œè¡¨ç¼–è¾‘å™¨ï¼ˆè¿è¡Œå‘½ä»¤ <code>regedit</code> ï¼‰<br>å¯¼èˆªåˆ°ä»¥ä¸‹é”®ï¼š  <code>HKEY_LOCAL_MACHINE &gt; System &gt; CurrentControlSet &gt; Services &gt; TCPIP6 &gt; Parameters</code><br>åˆ›å»ºä¸€ä¸ªåä¸º <code>DisabledComponents</code> çš„æ–° DWORDå€¼ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰<br>ä¿®æ”¹ <code>DisabledComponents</code> å€¼å¹¶å°†å…¶è®¾ç½®ä¸º <code>0xffffffff</code>ï¼ˆåå…­è¿›åˆ¶ - å³ 8ä¸ª Fï¼‰ã€‚<br>é‡æ–°å¯åŠ¨ PC ä»¥åº”ç”¨æ›´æ”¹ã€‚</p><p>å¦‚æœå®¶é‡Œæ²¡æœ‰ipv6æœ€å¥½ç¦ç”¨ï¼Œå¦‚æœåªæ˜¯ç¦ç”¨ADåŸŸé€‚é…å™¨çš„ipv6æ²¡æœ‰ç”¨çš„ï¼Œdnsè§£æä¹Ÿä¼šè¿”å›ipv6ï¼Œä¸è¿‡windowsä¸ä¼šå»å°è¯•è®¿é—®è§£æåˆ°çš„ipv6åœ°å€ï¼Œä½†å¹¶ä¸ä»£è¡¨å…¶ä»–ç³»ç»Ÿä¸ä¼šï¼Œä¾‹å¦‚Ubuntu22.04LTSå³æ—¶æ²¡æœ‰ipv6é»˜è®¤è·¯ç”±ï¼Œä¹Ÿæœ‰å¯èƒ½ä¼šå»è¯·æ±‚ipv6åœ°å€ï¼Œè¿™ä¸ªæ—¶å€™è¡¨ç°å‡ºæ¥çš„å°±æ˜¯ç½‘ç»œå¡é¡¿</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;èƒŒæ™¯&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;èƒŒæ™¯&quot;&gt;&lt;/a&gt;èƒŒæ™¯&lt;/h1&gt;&lt;p&gt;æœ‰ä»€ä¹ˆæ–¹æ³•å¯ä»¥é˜²æ­¢äº‹ç‰©åœ¨ DNS æœåŠ¡å™¨ä¸Šæ³¨å†Œå®ƒä»¬çš„ AAAA è®°å½•å—ï¼Ÿæˆ‘å·²ç»å°è¯•é€šè¿‡åœ¨ç½‘ç»œå †æ ˆä¸­å–æ¶ˆé€‰ä¸­å®ƒæ¥å…³é—­ Windows è®¡ç®—æœºä¸Š</summary>
      
    
    
    
    <category term="é»˜è®¤" scheme="https://james-curtis.github.io/en/categories/%E9%BB%98%E8%AE%A4/"/>
    
    
  </entry>
  
  <entry>
    <title>Python requests æŒ‡å®šç½‘å¡å‡ºå£ï¼ŒæŒ‡å®šç½‘å¡å‘é€è¯·æ±‚æµé‡</title>
    <link href="https://james-curtis.github.io/en/2023/python-requests-specifies-the-network-card-export-and-specifies-the-network-card-to-send-request-traffic/"/>
    <id>https://james-curtis.github.io/en/2023/python-requests-specifies-the-network-card-export-and-specifies-the-network-card-to-send-request-traffic/</id>
    <published>2023-02-26T13:55:49.000Z</published>
    <updated>2023-12-15T03:58:52.141Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> requests_toolbelt.adapters.socket_options <span class="keyword">import</span> SocketOptionsAdapter</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">session = requests.Session()</span><br><span class="line"><span class="comment"># set interface here</span></span><br><span class="line">options = [(socket.SOL_SOCKET, socket.SO_BINDTODEVICE, <span class="string">b&quot;eth0&quot;</span>)]</span><br><span class="line"><span class="keyword">for</span> prefix <span class="keyword">in</span> (<span class="string">&#x27;http://&#x27;</span>, <span class="string">&#x27;https://&#x27;</span>):</span><br><span class="line">    session.mount(prefix, SocketOptionsAdapter(socket_options=options))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(session.get(<span class="string">&quot;https://test.ipw.cn/&quot;</span>).text)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936361955351693636194706.png" alt="16936361955351693636194706.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span clas</summary>
      
    
    
    
    <category term="é»˜è®¤" scheme="https://james-curtis.github.io/en/categories/%E9%BB%98%E8%AE%A4/"/>
    
    
  </entry>
  
  <entry>
    <title>interface wan is error (16) and tracking is not enabledï¼Œopenwrt iStoreOSè½¯è·¯ç”±mwan3è´Ÿè½½å‡è¡¡æŠ¥é”™</title>
    <link href="https://james-curtis.github.io/en/2023/interface-wan-is-error-16-and-tracking-is-not-enabled-openwrt-istoreos-soft-routing-mwan3-load-balancing-error/"/>
    <id>https://james-curtis.github.io/en/2023/interface-wan-is-error-16-and-tracking-is-not-enabled-openwrt-istoreos-soft-routing-mwan3-load-balancing-error/</id>
    <published>2023-02-26T13:17:30.000Z</published>
    <updated>2023-12-15T03:58:52.141Z</updated>
    
    <content type="html"><![CDATA[<h1 id="é—®é¢˜ç°è±¡"><a href="#é—®é¢˜ç°è±¡" class="headerlink" title="é—®é¢˜ç°è±¡"></a>é—®é¢˜ç°è±¡</h1><p>è¿›å…¥ çŠ¶æ€-è´Ÿè½½å‡è¡¡-è¯¦ç»†ä¿¡æ¯</p><p>åœ¨Interface statusä¸‹é¢æ˜¾ç¤ºï¼Œåªæœ‰ä¸€ä¸ªæ¥å£æ˜¯åœ¨çº¿çŠ¶æ€</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Interface status:</span><br><span class="line"> interface wan is error (16) and tracking is not enabled</span><br><span class="line"> interface wan1 is error (16) and tracking is not enabled</span><br><span class="line"> interface wan2 is error (16) and tracking is not enabled</span><br><span class="line"> interface wan3 is error (16) and tracking is not enabled</span><br><span class="line"> interface wan4 is online 00h:00m:00s, uptime 01h:59m:08s and tracking is not enabled</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936366885391693636687849.png" alt="16936366885391693636687849.png"></p><h1 id="æ•…éšœåŸå› "><a href="#æ•…éšœåŸå› " class="headerlink" title="æ•…éšœåŸå› "></a>æ•…éšœåŸå› </h1><p>å„ä¸ªæ¥å£çš„è·ƒç‚¹æ•°ä¸èƒ½ä¸€è‡´ï¼Œé»˜è®¤åˆ›å»ºæ¥å£ä¹‹åè·ƒç‚¹æ•°æ˜¯0</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936367075351693636706779.png" alt="16936367075351693636706779.png"></p><h1 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h1><p>åœ¨ ç½‘ç»œ-æ¥å£-WAN-é«˜çº§è®¾ç½®-ä½¿ç”¨ç½‘å…³è·ƒç‚¹æ•°ï¼Œè¿™é‡Œæ‰‹åŠ¨æŠŠå„ä¸ªæ¥å£è®¾ç½®æˆä¸ä¸€æ ·çš„å³å¯ </p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936367195391693636718808.png" alt="16936367195391693636718808.png"></p><h1 id="æ•ˆæœæ£€éªŒ"><a href="#æ•ˆæœæ£€éªŒ" class="headerlink" title="æ•ˆæœæ£€éªŒ"></a>æ•ˆæœæ£€éªŒ</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Interface status:</span><br><span class="line"> interface wan is online 00h:00m:00s, uptime 02h:02m:20s and tracking is not enabled</span><br><span class="line"> interface wan1 is online 00h:00m:00s, uptime 02h:01m:54s and tracking is not enabled</span><br><span class="line"> interface wan2 is online 00h:00m:00s, uptime 02h:01m:54s and tracking is not enabled</span><br><span class="line"> interface wan3 is online 00h:00m:00s, uptime 02h:01m:54s and tracking is not enabled</span><br><span class="line"> interface wan4 is online 00h:00m:00s, uptime 02h:01m:54s and tracking is not enabled</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936367395351693636738707.png" alt="16936367395351693636738707.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;é—®é¢˜ç°è±¡&quot;&gt;&lt;a href=&quot;#é—®é¢˜ç°è±¡&quot; class=&quot;headerlink&quot; title=&quot;é—®é¢˜ç°è±¡&quot;&gt;&lt;/a&gt;é—®é¢˜ç°è±¡&lt;/h1&gt;&lt;p&gt;è¿›å…¥ çŠ¶æ€-è´Ÿè½½å‡è¡¡-è¯¦ç»†ä¿¡æ¯&lt;/p&gt;
&lt;p&gt;åœ¨Interface statusä¸‹é¢æ˜¾ç¤ºï¼Œåªæœ‰ä¸€ä¸ªæ¥å£æ˜¯åœ¨çº¿çŠ¶æ€&lt;/p&gt;
&lt;</summary>
      
    
    
    
    <category term="é»˜è®¤" scheme="https://james-curtis.github.io/en/categories/%E9%BB%98%E8%AE%A4/"/>
    
    
  </entry>
  
  <entry>
    <title>æ•°å­¦å»ºæ¨¡ç§‘æ™®</title>
    <link href="https://james-curtis.github.io/en/2023/mathematical-modeling-popular-science/"/>
    <id>https://james-curtis.github.io/en/2023/mathematical-modeling-popular-science/</id>
    <published>2023-02-14T06:26:39.000Z</published>
    <updated>2023-12-15T03:58:52.141Z</updated>
    
    <content type="html"><![CDATA[<p><strong>è½¬è½½</strong></p><h1 id="è½¯ä»¶"><a href="#è½¯ä»¶" class="headerlink" title="è½¯ä»¶"></a>è½¯ä»¶</h1><p>-<br>  MATLAB(ç‰©ç†å»ºæ¨¡)</p><ul><li>python(æ•°æ®åˆ†æ)</li><li>R</li><li>SPSS</li><li>Stata</li><li>Origin</li></ul><blockquote><p>Lingoè½¯ä»¶æ›¿ä»£æ–¹æ¡ˆ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Yalmipå·¥å…·ç®±+OPTIå·¥å…·ç®±+gurobiæ±‚è§£å™¨</span><br><span class="line"></span><br><span class="line">Yalmipæ˜¯åŸºäºmatlabçš„æ±‚è§£è§„åˆ’é—®é¢˜çš„é«˜çº§å»ºæ¨¡è¯­è¨€</span><br><span class="line">OPTIæä¾›ä¼—å¤šå¼€æºçš„è§„åˆ’æ±‚è§£å™¨</span><br><span class="line">    åŒ…æ‹¬éçº¿æ€§æ±‚è§£å™¨ipoptç­‰</span><br><span class="line">gurobiæ˜¯å½“ä»Šä¸–ç•Œä¸Šæœ€ä¼˜ç§€æœ€å¿«é€Ÿçš„çº¿æ€§è§„åˆ’/äºŒæ¬¡è§„åˆ’æ±‚è§£å™¨</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šæ­é…æ‹¥æœ‰æ›´äººæ€§åŒ–çš„ç¼–ç¨‹è¯­è¨€+æ›´ä¾¿æ·çš„å»ºæ¨¡è¿‡ç¨‹+æ›´å¿«çš„æ±‚è§£é€Ÿåº¦</p><p>ä¸Šé¢çš„è¿™ä¸ªç»„åˆæ˜¯matlabå¹³å°çš„ï¼Œpythonå¹³å°æœ‰gurobipyæˆ–è€…cvxpyç­‰ç­‰</p></blockquote><h2 id="ç»˜å›¾è½¯ä»¶ï¼š"><a href="#ç»˜å›¾è½¯ä»¶ï¼š" class="headerlink" title="ç»˜å›¾è½¯ä»¶ï¼š"></a>ç»˜å›¾è½¯ä»¶ï¼š</h2><p>-<br>  excelï¼ˆç®€å•ç»˜å›¾ï¼‰</p><ul><li>PPTï¼ˆæµç¨‹å›¾ï¼‰</li><li>visioï¼ˆæµç¨‹å›¾ã€ç¤ºæ„å›¾ç­‰ï¼‰</li><li>AxGlyph(ç‰©ç†ç¤ºæ„å›¾ã€å—åŠ›åˆ†æå›¾ã€æµç¨‹å›¾ç­‰)</li><li>Xmindï¼ˆæ€ç»´å¯¼å›¾ï¼‰</li></ul><h2 id="æ’ç‰ˆè½¯ä»¶ï¼š"><a href="#æ’ç‰ˆè½¯ä»¶ï¼š" class="headerlink" title="æ’ç‰ˆè½¯ä»¶ï¼š"></a>æ’ç‰ˆè½¯ä»¶ï¼š</h2><p>-<br>  word</p><ul><li>latex</li><li>typora+picgoï¼ˆmarkdownè¯­è¨€ï¼Œè®°ç¬”è®°å¾ˆæ–¹ä¾¿ï¼Œå†™å¥½å¤§çº²å†ç”¨latexå†™,picgoæ­é…giteeç”¨æ¥ä½œå›¾åºŠï¼‰</li><li>typoraï¼šgithubä¸Šæœ‰LaTeXé£æ ¼çš„ä¸»é¢˜ï¼Œè‡ªåŠ¨ç¼–å·ç­‰ï¼Œæ”¯æŒå¯¼å‡ºwordã€pdfï¼Œååˆ†é«˜æ•ˆ</li></ul><h2 id="LaTeXç›¸å…³ï¼š"><a href="#LaTeXç›¸å…³ï¼š" class="headerlink" title="LaTeXç›¸å…³ï¼š"></a>LaTeXç›¸å…³ï¼š</h2><p>-<br>  TeXLiveï¼ˆè½¯ä»¶åŒ…ï¼‰</p><ul><li>Texstudioï¼ˆIDEï¼‰</li><li>excel2latexæ’ä»¶ï¼ˆå¯¼å‡ºlatexè¡¨æ ¼ï¼‰</li><li>XL toolboxï¼ˆå¯¼å‡ºé«˜æ¸…excelå›¾ç‰‡ï¼‰</li></ul><h2 id="å…¬å¼ç›¸å…³è½¯ä»¶ï¼š"><a href="#å…¬å¼ç›¸å…³è½¯ä»¶ï¼š" class="headerlink" title="å…¬å¼ç›¸å…³è½¯ä»¶ï¼š"></a>å…¬å¼ç›¸å…³è½¯ä»¶ï¼š</h2><p>-<br>  Axmathï¼ˆæ¨èï¼‰</p><ul><li>mathtypeï¼ˆä¸æ¨èï¼‰</li><li>mathpixï¼ˆå…¬å¼OCRè¯†åˆ«ï¼‰</li><li>Zetero+ä¼—å¤šçš„æ’ä»¶ï¼ˆæ–‡çŒ®ç®¡ç†å·¥å…·ï¼Œé…åˆæ’ä»¶ç­‰å¯ä»¥è‡ªåŠ¨ä¸‹è½½çŸ¥ç½‘ç­‰æ–‡çŒ®å¹¶ä¸€é”®å¯¼å‡ºbibå‚è€ƒæ–‡çŒ®ï¼Œä¹Ÿå¯ä»¥åœ¨Wordé‡Œé¢è¿›è¡Œå‚è€ƒæ–‡çŒ®çš„ç®¡ç†ï¼Œå¾®ä¿¡å…¬ä¼—å·ï¼ˆé’æŸ å­¦æœ¯ï¼‰æœ‰è¯¦ç»†æ•™ç¨‹ï¼‰</li></ul><h1 id="æ¯”èµ›åç§°"><a href="#æ¯”èµ›åç§°" class="headerlink" title="æ¯”èµ›åç§°"></a>æ¯”èµ›åç§°</h1><p>-<br>  ç¾å›½å¤§å­¦ç”Ÿæ•°å­¦å»ºæ¨¡ç«èµ›</p><ul><li>å…¨å›½å¤§å­¦ç”Ÿæ•°å­¦å»ºæ¨¡ç«èµ›</li><li>åä¸ºæ¯ç ”ç©¶ç”Ÿæ•°å­¦å»ºæ¨¡</li><li>ç”µå·¥æ¯</li><li>åä¸­èµ›</li><li>APMCMäºšå¤ªåœ°åŒºæ•°å­¦å»ºæ¨¡</li><li>æ·±åœ³æ¯</li><li>ä¸­é’æ¯</li><li>åä¸œæ¯</li><li>æ•°ç»´æ¯</li><li>ä¸œä¸‰çœæ•°å­¦å»ºæ¨¡</li><li>è®¤è¯æ¯</li></ul><h1 id="æ¯”èµ›è®ºæ–‡"><a href="#æ¯”èµ›è®ºæ–‡" class="headerlink" title="æ¯”èµ›è®ºæ–‡"></a>æ¯”èµ›è®ºæ–‡</h1><p>-<br>  æ•°å­¦å»ºæ¨¡ç¾èµ›è®ºæ–‡</p><ul><li>æ•°å­¦å»ºæ¨¡å›½èµ›è®ºæ–‡</li><li>mathorcupå†å¹´è®ºæ–‡</li><li>ç ”ç©¶ç”Ÿæ•°å­¦å»ºæ¨¡å†å¹´è®ºæ–‡</li><li>å›½èµ›è¯„é˜…è¦ç‚¹</li></ul><h2 id="åˆ†ç±»ä¾æ®ï¼š"><a href="#åˆ†ç±»ä¾æ®ï¼š" class="headerlink" title="åˆ†ç±»ä¾æ®ï¼š"></a>åˆ†ç±»ä¾æ®ï¼š</h2><p>1ã€æŒ‰ç…§æ¨¡å‹åˆ†ç±»</p><p>2ã€æŒ‰ç…§æ¯”èµ›åˆ†ç±»</p><p><strong>å…·ä½“å†…å®¹ï¼š</strong>æ¯”èµ›é¢˜ç›®+æ¯”èµ›è®ºæ–‡</p><p><strong>å†å¹´æ¯”èµ›é¢˜ç›®</strong>ä¹Ÿå¾ˆé‡è¦</p><p><strong>æ•°å­¦å»ºæ¨¡ç»éªŒåˆ†äº«ä¸æ€»ç»“</strong>ä¹Ÿå¾ˆé‡è¦</p><h1 id="ç®—æ³•åŠå¸¸ç”¨ä»£ç "><a href="#ç®—æ³•åŠå¸¸ç”¨ä»£ç " class="headerlink" title="ç®—æ³•åŠå¸¸ç”¨ä»£ç "></a>ç®—æ³•åŠå¸¸ç”¨ä»£ç </h1><p>-<br>  æ•°å­¦å»ºæ¨¡ç®—æ³•</p><ul><li>è½¯ä»¶æ¨¡å‹ç®—æ³•æ±‡æ€»</li><li>MATLABç®—æ³•</li><li>å¸¸ç”¨Matlabä»£ç </li><li>æ™ºèƒ½ç®—æ³•</li></ul><h1 id="å¸¸ç”¨æ¨¡å‹åŠç®—æ³•ï¼š"><a href="#å¸¸ç”¨æ¨¡å‹åŠç®—æ³•ï¼š" class="headerlink" title="å¸¸ç”¨æ¨¡å‹åŠç®—æ³•ï¼š"></a>å¸¸ç”¨æ¨¡å‹åŠç®—æ³•ï¼š</h1><p>1.<br>   å±‚æ¬¡åˆ†ææ³•       AHP</p><ol start="2"><li>æ’å€¼ç®—æ³•        interpolation</li><li>è¿ªæ°æ–¯ç‰¹æ‹‰æ¨¡å‹   Dijkstra</li><li>åŠ¨æ€è§„åˆ’        dynamic programming</li><li>æ–¹å·®åˆ†æ        variance analysis</li><li>å¼—æ´›ä¼Šå¾·ç®—æ³•     Floyd algorithm</li><li>ç°è‰²é¢„æµ‹        Grey Prediction</li><li>å›å½’åˆ†æ        regression analysis</li><li>èšç±»åˆ†æ        Cluster analysis</li><li>å†³ç­–æ ‘          decision tree</li><li>é€»è¾‘å›å½’        logistic regression</li><li>æ¨¡æ‹Ÿé€€ç«        simulated annealing</li><li>æ’é˜Ÿè®º          queuing theory</li><li>ç¥ç»ç½‘ç»œ        neural networks</li><li>æ—¶é—´åºåˆ—        ARMA</li><li>å› å­åˆ†æ        factor analysis</li><li>ä¼˜åŠ£è§£è·ç¦»æ³•     Topsis</li><li>å…ƒèƒè‡ªåŠ¨æœº       cellular automata</li><li>æ”¯æŒå‘é‡æœº       Support Vector Machines</li><li>ä¸»æˆåˆ†åˆ†æ       PCA</li></ol><h2 id="ä¼˜åŒ–é—®é¢˜åŠè§„åˆ’æ¨¡å‹ï¼š"><a href="#ä¼˜åŒ–é—®é¢˜åŠè§„åˆ’æ¨¡å‹ï¼š" class="headerlink" title="ä¼˜åŒ–é—®é¢˜åŠè§„åˆ’æ¨¡å‹ï¼š"></a>ä¼˜åŒ–é—®é¢˜åŠè§„åˆ’æ¨¡å‹ï¼š</h2><p>çº¿æ€§è§„åˆ’ï¼ŒåŠå®šè§„åˆ’ã€å‡ ä½•è§„åˆ’ã€éçº¿æ€§è§„åˆ’ï¼Œæ•´æ•°è§„åˆ’ï¼Œå¤šç›®æ ‡è§„åˆ’ï¼ˆåˆ†å±‚åºåˆ—æ³•ï¼‰ï¼ŒåŠ¨æ€è§„åˆ’ï¼Œå­˜è´®è®ºã€ä»£ç†æ¨¡å‹ã€ç›¸åº”é¢åˆ†ææ³•ã€åˆ—ç”Ÿæˆç®—æ³•</p><h2 id="é¢„æµ‹æ¨¡å‹ï¼š"><a href="#é¢„æµ‹æ¨¡å‹ï¼š" class="headerlink" title="é¢„æµ‹æ¨¡å‹ï¼š"></a>é¢„æµ‹æ¨¡å‹ï¼š</h2><p>å¾®åˆ†æ–¹ç¨‹ï¼Œå°æ³¢åˆ†æï¼Œå›å½’åˆ†æï¼Œç°è‰²é¢„æµ‹ï¼Œé©¬å°”å¯å¤«é¢„æµ‹ï¼Œæ—¶é—´åºåˆ—åˆ†æ(AR MA ARMA ARIMA,LSTMç¥ç»ç½‘ç»œ)ï¼Œæ··æ²Œæ¨¡å‹æ—¶é—´åºåˆ—é¢„æµ‹ï¼Œæ”¯æŒå‘é‡æœºï¼Œç¥ç»ç½‘ç»œé¢„æµ‹ï¼ˆä¸æœºå™¨å­¦ä¹ éƒ¨åˆ†å¾ˆå¤šé‡åˆï¼‰</p><h2 id="åŠ¨æ€æ¨¡å‹ï¼š"><a href="#åŠ¨æ€æ¨¡å‹ï¼š" class="headerlink" title="åŠ¨æ€æ¨¡å‹ï¼š"></a>åŠ¨æ€æ¨¡å‹ï¼š</h2><p>å¾®åˆ†æ–¹ç¨‹æ¨¡å‹ï¼ˆODEã€SDEã€DDEã€DAEã€PDEï¼‰ï¼Œå·®åˆ†æ–¹ç¨‹æ¨¡å‹ï¼Œå…ƒèƒè‡ªåŠ¨æœºï¼Œæ’é˜Ÿè®ºï¼Œè’™ç‰¹å¡ç½—éšæœºæ¨¡æ‹Ÿ</p><h2 id="å›¾è®ºæ¨¡å‹ï¼š"><a href="#å›¾è®ºæ¨¡å‹ï¼š" class="headerlink" title="å›¾è®ºæ¨¡å‹ï¼š"></a>å›¾è®ºæ¨¡å‹ï¼š</h2><p>æœ€çŸ­è·¯å¾„ï¼Œæœ€å°ç”Ÿæˆæ ‘ï¼Œæœ€å°è´¹ç”¨æœ€å¤§æµï¼ŒæŒ‡æ´¾é—®é¢˜ï¼Œæ—…è¡Œå•†é—®é¢˜ï¼ŒVRPTWè·¯å¾„è§„åˆ’ï¼Œç½‘ç»œæµï¼Œè·¯å¾„è§„åˆ’ç®—æ³•ï¼ˆDijkstraï¼ŒFloydï¼ŒA<em>ï¼ŒD</em>ï¼ŒRRT<em>ï¼ŒLPA</em>ï¼ŒD*liteï¼‰</p><h2 id="è¯„ä»·æ¨¡å‹ï¼š"><a href="#è¯„ä»·æ¨¡å‹ï¼š" class="headerlink" title="è¯„ä»·æ¨¡å‹ï¼š"></a>è¯„ä»·æ¨¡å‹ï¼š</h2><p>å±‚æ¬¡åˆ†ææ³•ï¼Œç†µæƒæ³•ï¼Œæœ€ä¼˜èµ‹æƒæ³•ï¼Œä¸»æˆåˆ†åˆ†ææ³•ï¼Œä¸»æˆåˆ†å›å½’è¯„ä»·ï¼Œå› å­åˆ†æï¼Œæ¨¡ç³Šç»¼åˆè¯„ä»·ï¼ŒTOPSISæ³•ï¼Œæ•°æ®åŒ…ç»œåˆ†æï¼Œç§©å’Œæ¯”æ³•ï¼Œç°è‰²ç»¼åˆè¯„ä»·æ³•ï¼Œ<br>æœ€å°äºŒä¹˜ä¸»å®¢è§‚ä¸€è‡´èµ‹æƒè¯„ä»·æ¨¡å‹ï¼ŒBPç¥ç»ç½‘ç»œç»¼åˆè¯„ä»·æ³•</p><h2 id="ç»Ÿè®¡åˆ†ææ¨¡å‹ï¼š"><a href="#ç»Ÿè®¡åˆ†ææ¨¡å‹ï¼š" class="headerlink" title="ç»Ÿè®¡åˆ†ææ¨¡å‹ï¼š"></a>ç»Ÿè®¡åˆ†ææ¨¡å‹ï¼š</h2><p>åˆ†å¸ƒæ£€éªŒï¼Œå‡å€¼Tæ£€éªŒï¼Œæ–¹å·®åˆ†æï¼Œåæ–¹å·®åˆ†æï¼Œç›¸å…³åˆ†æï¼Œå¡æ–¹æ£€éªŒï¼Œç§©å’Œæ£€éªŒï¼Œå›å½’åˆ†æï¼ŒLogisticå›å½’ï¼Œèšç±»åˆ†æï¼Œåˆ¤åˆ«åˆ†æï¼Œå…³è”åˆ†æï¼ˆAprioriç®—æ³•ï¼‰</p><h2 id="ç°ä»£æ™ºèƒ½ç®—æ³•ï¼š"><a href="#ç°ä»£æ™ºèƒ½ç®—æ³•ï¼š" class="headerlink" title="ç°ä»£æ™ºèƒ½ç®—æ³•ï¼š"></a>ç°ä»£æ™ºèƒ½ç®—æ³•ï¼š</h2><p>ï¼ˆæ±‚æå€¼ï¼Œå¤šç›®æ ‡è§„åˆ’ï¼ŒTSPï¼Œè½¦é—´è°ƒåº¦ç­‰ï¼‰æ¨¡æ‹Ÿé€€ç«ï¼Œé—ä¼ ç®—æ³•ï¼Œç²’å­ç¾¤ç®—æ³•ï¼Œç¦å¿Œæœç´¢ã€å…ç–«ç®—æ³•ï¼Œé±¼ç¾¤ç®—æ³•ï¼Œç¥ç»ç½‘ç»œï¼Œèšç¾¤ç®—æ³•</p><h2 id="æœºå™¨å­¦ä¹ ï¼š"><a href="#æœºå™¨å­¦ä¹ ï¼š" class="headerlink" title="æœºå™¨å­¦ä¹ ï¼š"></a>æœºå™¨å­¦ä¹ ï¼š</h2><h3 id="åˆ†ç±»é—®é¢˜ï¼š"><a href="#åˆ†ç±»é—®é¢˜ï¼š" class="headerlink" title="åˆ†ç±»é—®é¢˜ï¼š"></a>åˆ†ç±»é—®é¢˜ï¼š</h3><p>KNNï¼Œé€»è¾‘å›å½’ï¼Œå†³ç­–æ ‘ï¼Œéšæœºæ£®æ—ï¼Œ ADABOOSTã€GBDT\XGBoost\LightGBMï¼Œæ”¯æŒå‘é‡æœºï¼Œæœ´ç´ è´å¶æ–¯ï¼Œç¥ç»ç½‘ç»œ</p><h3 id="å›å½’é—®é¢˜ï¼š"><a href="#å›å½’é—®é¢˜ï¼š" class="headerlink" title="å›å½’é—®é¢˜ï¼š"></a>å›å½’é—®é¢˜ï¼š</h3><p>çº¿æ€§å›å½’ï¼Œ LASSOå›å½’ï¼Œå²­å›å½’ï¼Œå†³ç­–æ ‘å›å½’ï¼Œé›†æˆå­¦ä¹ ä¸­å›å½’æ–¹æ³•ï¼Œæ”¯æŒå‘é‡å›å½’ï¼Œé«˜æ–¯æ··åˆæ¨¡å‹ï¼Œç¥ç»ç½‘ç»œ</p><h3 id="èšç±»é—®é¢˜ï¼š"><a href="#èšç±»é—®é¢˜ï¼š" class="headerlink" title="èšç±»é—®é¢˜ï¼š"></a>èšç±»é—®é¢˜ï¼š</h3><p>Kå‡å€¼èšç±»ï¼Œ DBSCANèšç±»ï¼ŒEMç®—æ³•</p><h3 id="å…¶ä»–ç®—æ³•ï¼š"><a href="#å…¶ä»–ç®—æ³•ï¼š" class="headerlink" title="å…¶ä»–ç®—æ³•ï¼š"></a>å…¶ä»–ç®—æ³•ï¼š</h3><p>å›¾åƒå¤„ç†ï¼ˆè®¡ç®—æœºè§†è§‰ï¼‰ã€æ·±åº¦å­¦ä¹ ã€åˆ†æ²»æ³•ï¼Œè´ªå¿ƒæ³•ã€‚<br>äºŒåˆ†æ³•ï¼Œç›´æ¥æœç´¢æ³•ï¼Œå˜èŒƒå›´æœç´¢ï¼Œå•å› ç´ ä¼˜é€‰æ³•0.618æ³•(é»„é‡‘åˆ†éš”æ³•)ï¼Œæ‹‰æ ¼æœ—æ—¥ä¹˜å­æ³•ï¼Œä¿¡èµ–åŸŸç®—æ³•ï¼Œæ¬§æ‹‰æ³•\æ”¹è¿›æ¬§æ‹‰æ³•ï¼Œç‰›é¡¿-æ‹‰å¼—æ£®ç®—æ³•(ç‰›é¡¿è¿­ä»£æ³•)ã€æ‹Ÿç‰›é¡¿æ³•ã€æ¢¯åº¦ä¸‹é™æ³•</p><p><strong>å¤‡æ³¨ï¼šä¼˜å…ˆä½¿ç”¨ä¼ ç»Ÿç®—æ³•ã€é¿å…ç¾¤æ™ºèƒ½æœºå™¨å­¦ä¹ æ·±åº¦å­¦ä¹ </strong></p><h1 id="æ¨¡æ¿"><a href="#æ¨¡æ¿" class="headerlink" title="æ¨¡æ¿"></a>æ¨¡æ¿</h1><p>-<br>  LaTeXæ¨¡æ¿</p><ul><li>å›½èµ›LaTeXæ¨¡æ¿</li><li>ç¾èµ›LaTeXæ¨¡æ¿</li><li>æ•°å­¦å»ºæ¨¡ä¹¦ç±</li><li>æ•°å­¦å»ºæ¨¡wordæ¨¡æ¿</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;strong&gt;è½¬è½½&lt;/strong&gt;&lt;/p&gt;
&lt;h1 id=&quot;è½¯ä»¶&quot;&gt;&lt;a href=&quot;#è½¯ä»¶&quot; class=&quot;headerlink&quot; title=&quot;è½¯ä»¶&quot;&gt;&lt;/a&gt;è½¯ä»¶&lt;/h1&gt;&lt;p&gt;-&lt;br&gt;  MATLAB(ç‰©ç†å»ºæ¨¡)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;python(æ•°æ®åˆ†</summary>
      
    
    
    
    <category term="é»˜è®¤" scheme="https://james-curtis.github.io/en/categories/%E9%BB%98%E8%AE%A4/"/>
    
    
  </entry>
  
  <entry>
    <title>RKE2éƒ¨ç½²é«˜å¯ç”¨Rancher v2.7.1</title>
    <link href="https://james-curtis.github.io/en/2023/rke2-deploys-highly-available-rancher-v2-7-1/"/>
    <id>https://james-curtis.github.io/en/2023/rke2-deploys-highly-available-rancher-v2-7-1/</id>
    <published>2023-02-13T13:33:35.000Z</published>
    <updated>2023-12-15T03:58:52.141Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å…ˆå†³æ¡ä»¶"><a href="#å…ˆå†³æ¡ä»¶" class="headerlink" title="å…ˆå†³æ¡ä»¶"></a>å…ˆå†³æ¡ä»¶</h2><ul><li>æ³¨æ„ä¿®æ”¹ä¸»æœºåï¼Œä¸è¦æœ‰å†²çª</li></ul><h2 id="é…ç½®è´Ÿè½½å‡è¡¡å™¨å’Œå¥åº·æ£€æŸ¥"><a href="#é…ç½®è´Ÿè½½å‡è¡¡å™¨å’Œå¥åº·æ£€æŸ¥" class="headerlink" title="é…ç½®è´Ÿè½½å‡è¡¡å™¨å’Œå¥åº·æ£€æŸ¥"></a>é…ç½®è´Ÿè½½å‡è¡¡å™¨å’Œå¥åº·æ£€æŸ¥</h2><p>æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯VMware NSX-Tè´Ÿè½½å‡è¡¡</p><blockquote><p>è¿™é‡Œæœ‰ä¸ªå‘ï¼Œ80ç«¯å£çš„å“åº”ä»£ç ï¼Œéœ€è¦æŠŠ307,308,303æ ‡è®°ä¸ºå¥åº·çš„çŠ¶æ€ç </p></blockquote><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936369265351693636925856.png" alt="16936369265351693636925856.png"></p><h2 id="ç¬¬ä¸€ä¸ªserverèŠ‚ç‚¹å®‰è£…"><a href="#ç¬¬ä¸€ä¸ªserverèŠ‚ç‚¹å®‰è£…" class="headerlink" title="ç¬¬ä¸€ä¸ªserverèŠ‚ç‚¹å®‰è£…"></a>ç¬¬ä¸€ä¸ªserverèŠ‚ç‚¹å®‰è£…</h2><blockquote><p>å®˜æ–¹æ–‡æ¡£çš„æè¿°æ„Ÿè§‰å¯¹äºæ–°æ‰‹æ¥è¯´å¤ªä¸å‹å¥½äº†ï¼Œå»ºè®®ä»¥ä¸‹é“¾æ¥éƒ½çœ‹ä¸€ä¸‹ã€‚Rancheræ–°è€æ–‡æ¡£éƒ½å»ºè®®çœ‹ä¸€ä¸‹ï¼Œä¸ç„¶åˆšåˆšå…¥é—¨å¾ˆè’™ã€‚</p><p>RKE2å¿«é€Ÿå¼€å§‹ï¼š<a href="https://docs.rke2.io/zh/install/quickstart">https://docs.rke2.io/zh/install/quickstart</a></p><p>RKE2é«˜å¯ç”¨ï¼š<a href="https://docs.rke2.io/zh/install/ha">https://docs.rke2.io/zh/install/ha</a></p><p>RKE2ç¦»çº¿å®‰è£…ï¼š<a href="https://docs.rke2.io/zh/install/airgap">https://docs.rke2.io/zh/install/airgap</a></p><p>RKE2å¸è½½ï¼š<a href="https://docs.rke2.io/zh/install/linux_uninstall">https://docs.rke2.io/zh/install/linux_uninstall</a></p><p>Rancher Helm CLIå¿«é€Ÿå…¥é—¨ï¼š<a href="https://ranchermanager.docs.rancher.com/zh/getting-started/quick-start-guides/deploy-rancher-manager/helm-cli">https://ranchermanager.docs.rancher.com/zh/getting-started/quick-start-guides/deploy-rancher-manager/helm-cli</a></p><p>Rancher ç¦»çº¿Helmå®‰è£…ï¼š<a href="https://ranchermanager.docs.rancher.com/zh/getting-started/installation-and-upgrade/other-installation-methods/air-gapped-helm-cli-install/install-rancher-ha">https://ranchermanager.docs.rancher.com/zh/getting-started/installation-and-upgrade/other-installation-methods/air-gapped-helm-cli-install/install-rancher-ha</a></p><p>è€ç‰ˆRancheræ–‡æ¡£ ç¦»çº¿å®‰è£…ï¼š<a href="https://docs.rancher.cn/docs/rancher2/installation/other-installation-methods/air-gap/install-rancher/_index">https://docs.rancher.cn/docs/rancher2/installation/other-installation-methods/air-gap/install-rancher/_index</a></p><p>è€ç‰ˆRancheræ–‡æ¡£ å¦‚ä½•åœ¨å›½å†…ä½¿ç”¨ Rancherï¼š<a href="https://docs.rancher.cn/docs/rancher2/best-practices/use-in-china/_index/">https://docs.rancher.cn/docs/rancher2/best-practices/use-in-china/_index/</a></p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¸è½½</span></span><br><span class="line">/usr/local/bin/rke2-uninstall.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½®æ–‡ä»¶ï¼Œload_balancer_addr è´Ÿè½½å‡è¡¡ipæˆ–è€…ç¬¬ä¸€å°serverip</span></span><br><span class="line">load_balancer_addr=172.16.10.241</span><br><span class="line"></span><br><span class="line"><span class="built_in">mkdir</span> -p /etc/rancher/rke2 &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;</span></span><br><span class="line"><span class="string">tls-san:</span></span><br><span class="line"><span class="string">  - <span class="variable">$&#123;load_balancer_addr&#125;</span></span></span><br><span class="line"><span class="string">system-default-registry: \&quot;docker.nju.edu.cn\&quot;</span></span><br><span class="line"><span class="string">&quot;</span> &gt; /etc/rancher/rke2/config.yaml</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥é…ç½®</span></span><br><span class="line"><span class="built_in">cat</span> /etc/rancher/rke2/config.yaml</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šç‰ˆæœ¬å®‰è£…</span></span><br><span class="line">curl -sfL https://rancher-mirror.rancher.cn/rke2/install.sh | INSTALL_RKE2_MIRROR=cn INSTALL_RKE2_VERSION=v1.22.17+rke2r1 sh -</span><br><span class="line"><span class="comment"># å®‰è£…æœ€æ–°stableç‰ˆæœ¬</span></span><br><span class="line"><span class="comment"># curl -sfL https://rancher-mirror.rancher.cn/rke2/install.sh | INSTALL_RKE2_MIRROR=cn sh -</span></span><br><span class="line">systemctl <span class="built_in">enable</span> rke2-server.service &amp;&amp; systemctl start rke2-server.service</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ—¥å¿—</span></span><br><span class="line"><span class="comment"># journalctl -u rke2-server -f</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å®ç”¨ç¨‹åºæ³¨å†Œåˆ°PATH"><a href="#å®ç”¨ç¨‹åºæ³¨å†Œåˆ°PATH" class="headerlink" title="å®ç”¨ç¨‹åºæ³¨å†Œåˆ°PATH"></a>å®ç”¨ç¨‹åºæ³¨å†Œåˆ°PATH</h2><blockquote><p>kubeconfigé»˜è®¤çš„serveråœ°å€æ˜¯127.0.0.1</p><p>åœ¨æœ€å°é›†ç¾¤å®‰è£…å®Œæˆä¹‹åéœ€è¦ä¿®æ”¹ä¸ºè´Ÿè½½å‡è¡¡åœ°å€</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;export PATH=$PATH:/var/lib/rancher/rke2/bin;&#x27;</span> &gt;&gt; ~/.bashrc &amp;&amp; <span class="built_in">source</span> ~/.bashrc</span><br><span class="line"><span class="built_in">mkdir</span> -p ~/.kube &amp;&amp; <span class="built_in">rm</span> -f ~/.kube/config &amp;&amp; <span class="built_in">ln</span> -s /etc/rancher/rke2/rke2.yaml ~/.kube/config</span><br></pre></td></tr></table></figure><h3 id="ç­‰å¾…æ‰€æœ‰podè¿è¡Œ"><a href="#ç­‰å¾…æ‰€æœ‰podè¿è¡Œ" class="headerlink" title="ç­‰å¾…æ‰€æœ‰podè¿è¡Œ"></a>ç­‰å¾…æ‰€æœ‰podè¿è¡Œ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">root@rke1:~# watch -n 1 kubectl get pods -A</span><br><span class="line"></span><br><span class="line">Every 1.0s: kubectl get pods -A                                                                                                                                                                             rke1: Thu Mar 16 21:22:08 2023</span><br><span class="line"></span><br><span class="line">NAMESPACE     NAME                                                   READY   STATUS      RESTARTS   AGE</span><br><span class="line">kube-system   cloud-controller-manager-rke1                          1/1     Running     0          33m</span><br><span class="line">kube-system   etcd-rke1                                              1/1     Running     0          33m</span><br><span class="line">kube-system   helm-install-rke2-canal-mscjh                          0/1     Completed   0          34m</span><br><span class="line">kube-system   helm-install-rke2-coredns-qrmgn                        0/1     Completed   0          34m</span><br><span class="line">kube-system   helm-install-rke2-ingress-nginx-ddt95                  0/1     Completed   0          34m</span><br><span class="line">kube-system   helm-install-rke2-metrics-server-6cm27                 0/1     Completed   0          34m</span><br><span class="line">kube-system   kube-apiserver-rke1                                    1/1     Running     0          33m</span><br><span class="line">kube-system   kube-controller-manager-rke1                           1/1     Running     0          33m</span><br><span class="line">kube-system   kube-proxy-rke1                                        1/1     Running     0          33m</span><br><span class="line">kube-system   kube-scheduler-rke1                                    1/1     Running     0          33m</span><br><span class="line">kube-system   rke2-canal-f56nc                                       2/2     Running     0          32m</span><br><span class="line">kube-system   rke2-coredns-rke2-coredns-69844654d9-lsvw6             1/1     Running     0          32m</span><br><span class="line">kube-system   rke2-coredns-rke2-coredns-autoscaler-95d984597-p9r6k   1/1     Running     0          32m</span><br><span class="line">kube-system   rke2-ingress-nginx-controller-4ddx9                    1/1     Running     0          29m</span><br><span class="line">kube-system   rke2-metrics-server-765b64878b-jtq2v                   1/1     Running     0          30m</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æ³¨å†Œä»¤ç‰Œï¼Œæ¥ä¸‹æ¥è¦ç”¨"><a href="#æ³¨å†Œä»¤ç‰Œï¼Œæ¥ä¸‹æ¥è¦ç”¨" class="headerlink" title="æ³¨å†Œä»¤ç‰Œï¼Œæ¥ä¸‹æ¥è¦ç”¨"></a>æ³¨å†Œä»¤ç‰Œï¼Œæ¥ä¸‹æ¥è¦ç”¨</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /var/lib/rancher/rke2/server/node-token</span><br></pre></td></tr></table></figure><h2 id="å…¶ä»–serverèŠ‚ç‚¹å®‰è£…"><a href="#å…¶ä»–serverèŠ‚ç‚¹å®‰è£…" class="headerlink" title="å…¶ä»–serverèŠ‚ç‚¹å®‰è£…"></a>å…¶ä»–serverèŠ‚ç‚¹å®‰è£…</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é…ç½®æ–‡ä»¶ï¼Œload_balancer_addr è´Ÿè½½å‡è¡¡ipæˆ–è€…ç¬¬ä¸€å°serverip</span></span><br><span class="line">load_balancer_addr=172.16.10.241 node_token=xxxxxxxx</span><br><span class="line"></span><br><span class="line"><span class="built_in">mkdir</span> -p /etc/rancher/rke2 &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;</span></span><br><span class="line"><span class="string">server: https://<span class="variable">$&#123;load_balancer_addr&#125;</span>:9345</span></span><br><span class="line"><span class="string">token: <span class="variable">$&#123;node_token&#125;</span></span></span><br><span class="line"><span class="string">tls-san:</span></span><br><span class="line"><span class="string">  - <span class="variable">$&#123;load_balancer_addr&#125;</span></span></span><br><span class="line"><span class="string">system-default-registry: \&quot;docker.nju.edu.cn\&quot;</span></span><br><span class="line"><span class="string">&quot;</span> &gt; /etc/rancher/rke2/config.yaml</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥é…ç½®</span></span><br><span class="line"><span class="built_in">cat</span> /etc/rancher/rke2/config.yaml</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…</span></span><br><span class="line">curl -sfL https://rancher-mirror.rancher.cn/rke2/install.sh | INSTALL_RKE2_MIRROR=cn INSTALL_RKE2_VERSION=v1.22.17+rke2r1 sh -</span><br><span class="line">systemctl <span class="built_in">enable</span> rke2-server.service &amp;&amp; systemctl start rke2-server.service</span><br></pre></td></tr></table></figure><h2 id="å®ç”¨ç¨‹åºæ³¨å†Œåˆ°PATH-1"><a href="#å®ç”¨ç¨‹åºæ³¨å†Œåˆ°PATH-1" class="headerlink" title="å®ç”¨ç¨‹åºæ³¨å†Œåˆ°PATH"></a>å®ç”¨ç¨‹åºæ³¨å†Œåˆ°PATH</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;export PATH=$PATH:/var/lib/rancher/rke2/bin;&#x27;</span> &gt;&gt; ~/.bashrc &amp;&amp; <span class="built_in">source</span> ~/.bashrc</span><br><span class="line"><span class="built_in">mkdir</span> -p ~/.kube &amp;&amp; <span class="built_in">rm</span> -f ~/.kube/config &amp;&amp; <span class="built_in">ln</span> -s /etc/rancher/rke2/rke2.yaml ~/.kube/config</span><br></pre></td></tr></table></figure><p>è¿™é‡Œä½¿ç”¨kubectlå¯èƒ½ä¼šååº”å¾ˆæ…¢ï¼Œéœ€è¦ä¿®æ”¹kubeconfigä¸­serverçš„åœ°å€ä¸ºè´Ÿè½½å‡è¡¡åœ°å€</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">load_balancer_addr=rancher2.ent.top</span><br><span class="line">sed -i.bak &quot;s/127.0.0.1:6443/$&#123;load_balancer_addr&#125;:6443/&quot; /etc/rancher/rke2/rke2.yaml</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…helm"><a href="#å®‰è£…helm" class="headerlink" title="å®‰è£…helm"></a>å®‰è£…helm</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸‹è½½ helm å¹¶ä¸Šä¼  https://github.com/helm/helm/releases</span></span><br><span class="line"><span class="built_in">rm</span> -rf linux-amd64/helm &amp;&amp; tar -zxvf helm-v3.10.3-linux-amd64.tar.gz &amp;&amp; <span class="built_in">mv</span> linux-amd64/helm /usr/local/bin/helm &amp;&amp; helm version</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…Cert-Manager"><a href="#å®‰è£…Cert-Manager" class="headerlink" title="å®‰è£…Cert-Manager"></a>å®‰è£…Cert-Manager</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯ä»¥ä¸‹è½½è¿‡æ¥ç„¶ååœ¨ kubectl apply -f cert-manager.crds.yaml</span></span><br><span class="line">kubectl apply -f https://github.com/cert-manager/cert-manager/releases/download/v1.7.1/cert-manager.crds.yaml</span><br><span class="line"></span><br><span class="line">helm repo add jetstack https://charts.jetstack.io &amp;&amp; helm repo update</span><br><span class="line"></span><br><span class="line">helm install cert-manager jetstack/cert-manager \</span><br><span class="line">--<span class="built_in">set</span> image.repository=quay.nju.edu.cn/jetstack/cert-manager-controller \</span><br><span class="line">--<span class="built_in">set</span> webhook.image.repository=quay.nju.edu.cn/jetstack/cert-manager-webhook \</span><br><span class="line">--<span class="built_in">set</span> cainjector.image.repository=quay.nju.edu.cn/jetstack/cert-manager-cainjector \</span><br><span class="line">--<span class="built_in">set</span> startupapicheck.image.repository=quay.nju.edu.cn/jetstack/cert-manager-ctl \</span><br><span class="line">--namespace cert-manager \</span><br><span class="line">--create-namespace \</span><br><span class="line">--version v1.7.1</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å®‰è£…Rancher"><a href="#å®‰è£…Rancher" class="headerlink" title="å®‰è£…Rancher"></a>å®‰è£…Rancher</h2><blockquote><p>è¿™é‡Œä¹Ÿæœ‰ä¸ªå‘ï¼Œä¸èƒ½å®‰è£…ç¦»çº¿å®‰è£…æ–‡æ¡£ä¸­åŠ <br> <code>--set certmanager.version=&lt;CERTMANAGER_VERSION&gt;</code> å‚æ•°ï¼Œä¼šæŠ¥é”™å¦‚ä¸‹<br><code>unable to build kubernetes objects from release manifest: resource mapping not found for name: &quot;rancher&quot; namespace: &quot;&quot; </code></p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">helm repo add rancher-latest https://rancher-mirror.rancher.cn/server-charts/latest</span><br><span class="line"></span><br><span class="line">kubectl create namespace cattle-system</span><br><span class="line"></span><br><span class="line"><span class="comment"># rancheråŸŸåï¼Œè¦ä¹ˆè§£ædnsï¼Œè¦ä¹ˆåŠ å…¥è‡ªå·±ç”µè„‘hosts</span></span><br><span class="line">rancher_domain=rancher01.ent.top</span><br><span class="line">helm install rancher rancher-latest/rancher \</span><br><span class="line">--namespace cattle-system \</span><br><span class="line">--<span class="built_in">set</span> hostname=<span class="variable">$&#123;rancher_domain&#125;</span> \</span><br><span class="line">--<span class="built_in">set</span> rancherImage=docker.nju.edu.cn/rancher/rancher \</span><br><span class="line">--<span class="built_in">set</span> systemDefaultRegistry=docker.nju.edu.cn</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…å®Œæˆ"><a href="#å®‰è£…å®Œæˆ" class="headerlink" title="å®‰è£…å®Œæˆ"></a>å®‰è£…å®Œæˆ</h2><p>å¯†ç çœ‹æç¤º<br><code>$(kubectl get secret --namespace cattle-system bootstrap-secret -o go-template=&#39;&#123;&#123;.data.bootstrapPassword|base64decode&#125;&#125;&#39;)</code><br>æˆ–è€…ç›´æ¥ç”¨é“¾æ¥ï¼ˆå…¶å®å°±æ˜¯è·³è¿‡è¾“å…¥ä¸Šé¢éšæœºå¯†ç çš„é˜¶æ®µï¼Œç›´æ¥åˆ°ä¸‹ä¸€æ­¥è®¾ç½®adminå¯†ç ï¼‰<br><code>echo https://rancher01.ent.top/dashboard/?setup=$(kubectl get secret --namespace cattle-system bootstrap-secret -o go-template=&#39;&#123;&#123;.data.bootstrapPassword|base64decode&#125;&#125;&#39;)</code></p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936369605351693636960184.png" alt="16936369605351693636960184.png"></p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936369695351693636969075.png" alt="16936369695351693636969075.png"></p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936369815351693636980799.png" alt="16936369815351693636980799.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å…ˆå†³æ¡ä»¶&quot;&gt;&lt;a href=&quot;#å…ˆå†³æ¡ä»¶&quot; class=&quot;headerlink&quot; title=&quot;å…ˆå†³æ¡ä»¶&quot;&gt;&lt;/a&gt;å…ˆå†³æ¡ä»¶&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;æ³¨æ„ä¿®æ”¹ä¸»æœºåï¼Œä¸è¦æœ‰å†²çª&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;é…ç½®è´Ÿè½½å‡è¡¡å™¨å’Œå¥åº·æ£€æŸ¥&quot;&gt;&lt;a href=&quot;</summary>
      
    
    
    
    <category term="é»˜è®¤" scheme="https://james-curtis.github.io/en/categories/%E9%BB%98%E8%AE%A4/"/>
    
    
  </entry>
  
  <entry>
    <title>VMware NSX-Tç½‘ç»œä¸ç¨³å®šï¼Œsshè‡ªåŠ¨æ–­å¼€ï¼Œiperf3æµ‹é€Ÿæ²¡æœ‰é€Ÿåº¦</title>
    <link href="https://james-curtis.github.io/en/2023/the-vmware-nsx-t-network-is-unstable-ssh-automatically-disconnects-and-the-iperf3-speed-test-has-no-speed/"/>
    <id>https://james-curtis.github.io/en/2023/the-vmware-nsx-t-network-is-unstable-ssh-automatically-disconnects-and-the-iperf3-speed-test-has-no-speed/</id>
    <published>2023-02-12T12:17:42.000Z</published>
    <updated>2023-12-15T03:58:52.141Z</updated>
    
    <content type="html"><![CDATA[<h1 id="é—®é¢˜ç°è±¡ï¼š"><a href="#é—®é¢˜ç°è±¡ï¼š" class="headerlink" title="é—®é¢˜ç°è±¡ï¼š"></a>é—®é¢˜ç°è±¡ï¼š</h1><p>ç¬”è®°æœ¬ç›´è¿äº¤æ¢æœºï¼Œå¯¹æœåŠ¡å™¨è¿›è¡Œiperf3æµ‹è¯•ï¼Œç»“æœå‘ç°å¸¦å®½åªæœ‰50Kbits&#x2F;Sï¼Œåªæœ‰ç¬¬ä¸€æ¬¡èƒ½å‘å‡ºæµé‡ï¼Œåé¢ç›´æ¥å°±æ˜¯0bits&#x2F;S</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936371165341693637116260.png" alt="16936371165341693637116260.png"></p><h1 id="é—®é¢˜åˆ†æï¼š"><a href="#é—®é¢˜åˆ†æï¼š" class="headerlink" title="é—®é¢˜åˆ†æï¼š"></a>é—®é¢˜åˆ†æï¼š</h1><p>nsxçš„overlayå’Œvlanä¼ è¾“åŒºåŸŸæ¥å£éƒ½æ˜¯ä½¿ç”¨çš„1700MTU</p><p>å¦‚æœæµé‡è¦è·‘åœ¨å¤§äºŒå±‚ï¼Œéƒ½æ˜¯ä½¿ç”¨1700MTUè¿›è¡Œä¼ è¾“ï¼Œä½†æ˜¯æˆ‘çš„ä¸Šè¡Œé“¾è·¯VDSäº¤æ¢æœºåªæœ‰1500MTU</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936371285401693637127647.png" alt="16936371285401693637127647.png"></p><h1 id="è§£å†³æ–¹æ³•ï¼š"><a href="#è§£å†³æ–¹æ³•ï¼š" class="headerlink" title="è§£å†³æ–¹æ³•ï¼š"></a>è§£å†³æ–¹æ³•ï¼š</h1><h3 id="ç¬¬ä¸€æ­¥"><a href="#ç¬¬ä¸€æ­¥" class="headerlink" title="ç¬¬ä¸€æ­¥"></a>ç¬¬ä¸€æ­¥</h3><p>å°†ä¸»æœºçš„NSXäº¤æ¢æœºMTUä¿®æ”¹ä¸º1700</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936371395401693637139013.png" alt="16936371395401693637139013.png"></p><h3 id="ç¬¬äºŒæ­¥"><a href="#ç¬¬äºŒæ­¥" class="headerlink" title="ç¬¬äºŒæ­¥"></a>ç¬¬äºŒæ­¥</h3><p>ä¿®æ”¹ç‰©ç†äº¤æ¢æœºMTU</p><blockquote><p>æˆ‘è¿™é‡Œä½¿ç”¨çš„åµŒå¥—ç¯å¢ƒï¼Œæ‰€ä»¥ç›´æ¥æ”¹æ¯é¸¡çš„esxiæ ‡å‡†äº¤æ¢æœº</p><p>å› ä¸ºæˆ‘çš„ä¸»æ¿æ˜¯èƒèŸ¹ç½‘å¡ï¼Œæ‰€ä»¥åªèƒ½ç”¨6.7çš„vmkernelèƒèŸ¹ç½‘å¡é©±åŠ¨ï¼Œåœ¨esxi7åŠä»¥ä¸Šéƒ½ç æ‰äº†vmkernelé©±åŠ¨ï¼Œåªç”¨ç”¨nativeæ¨¡å¼é©±åŠ¨ç½‘å¡ï¼Œæ‰€ä»¥æ‰è¿Ÿè¿Ÿæ²¡æœ‰äººå†™å‡ºesxi7çš„èƒèŸ¹ç½‘å¡é©±åŠ¨ </p></blockquote><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936371515391693637151261.png" alt="16936371515391693637151261.png"></p><h1 id="ä¿®å¤éªŒè¯"><a href="#ä¿®å¤éªŒè¯" class="headerlink" title="ä¿®å¤éªŒè¯"></a>ä¿®å¤éªŒè¯</h1><p>å¯ä»¥çœ‹åˆ°å·²ç»æ¢å¤åˆ°äº†æ­£å¸¸å¸¦å®½ï¼Œè€Œä¸”sshä¹Ÿä¸æ‰äº†ï¼Œsftpä¼ è¾“ä¹Ÿä¸ä¼šå¡åœ¨é‚£å„¿åŠå¤©ä¸åŠ¨ </p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936371825391693637182343.png" alt="16936371825391693637182343.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;é—®é¢˜ç°è±¡ï¼š&quot;&gt;&lt;a href=&quot;#é—®é¢˜ç°è±¡ï¼š&quot; class=&quot;headerlink&quot; title=&quot;é—®é¢˜ç°è±¡ï¼š&quot;&gt;&lt;/a&gt;é—®é¢˜ç°è±¡ï¼š&lt;/h1&gt;&lt;p&gt;ç¬”è®°æœ¬ç›´è¿äº¤æ¢æœºï¼Œå¯¹æœåŠ¡å™¨è¿›è¡Œiperf3æµ‹è¯•ï¼Œç»“æœå‘ç°å¸¦å®½åªæœ‰50Kbits&amp;#x2F;Sï¼Œåªæœ‰ç¬¬ä¸€æ¬¡èƒ½å‘å‡ºæµé‡ï¼Œ</summary>
      
    
    
    
    <category term="é»˜è®¤" scheme="https://james-curtis.github.io/en/categories/%E9%BB%98%E8%AE%A4/"/>
    
    
  </entry>
  
  <entry>
    <title>OpenStack Yogaå®‰è£…éƒ¨ç½²ï¼Œæ‰‹æŠŠæ‰‹ä½¿ç”¨kolla-ansibleéƒ¨ç½²OpenStack</title>
    <link href="https://james-curtis.github.io/en/2023/openstack-yoga-installation-and-deployment-step-by-step-deployment-of-openstack-using-kolla-ansible/"/>
    <id>https://james-curtis.github.io/en/2023/openstack-yoga-installation-and-deployment-step-by-step-deployment-of-openstack-using-kolla-ansible/</id>
    <published>2023-02-10T10:25:01.000Z</published>
    <updated>2023-12-15T03:58:52.141Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>åŸºæœ¬ä¸Šæ˜¯æŒ‰ç…§å®˜ç½‘æ–‡æ¡£å¿«é€Ÿå…¥é—¨è¿›è¡Œå®‰è£…ï¼Œä¸è¿‡è¿˜æœ‰å¾ˆå¤šåœ°æ–¹éœ€è¦æ¢æºã€‚é‡ç‚¹åœ¨æ¢æºè¿™å—ã€‚å¦‚æœè¯´ä½ çš„ç½‘å…³æœ‰é­”æ³•ï¼Œé‚£å°±ä¸ç”¨çœ‹è¿™ç¯‡æ–‡ç« äº†ï¼Œç›´æ¥å¤åˆ¶å®˜ç½‘å‘½ä»¤å®‰è£…ã€‚</p></blockquote><h1 id="ç›®æ ‡"><a href="#ç›®æ ‡" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h1><p>éƒ¨ç½²OpenStackå®˜æ–¹æä¾›çš„Simple Configurationç¤ºä¾‹é…ç½®ä¸­çš„Web Applicationå’ŒContainer Optimizedä¸¤ä¸ªç»„ä»¶é…ç½®æ¸…å•ã€‚</p><p>å…¶ä¸­åŒ…æ‹¬</p><ul><li>Web Applicationï¼šCinderï¼ˆå—å­˜å‚¨ï¼‰ã€Glanceï¼ˆé•œåƒæœåŠ¡ï¼‰ã€Keystoneï¼ˆèº«ä»½è®¤è¯ï¼‰ã€Horizonï¼ˆä»ªè¡¨ç›˜ï¼‰ã€Neutronï¼ˆç½‘ç»œæœåŠ¡ï¼‰ã€Novaï¼ˆè®¡ç®—æœåŠ¡ï¼‰ã€Troveï¼ˆæ•°æ®åº“æœåŠ¡ï¼‰ã€Swiftï¼ˆå¯¹è±¡å­˜å‚¨ï¼‰ã€Ceilometerï¼ˆæ•°æ®æ”¶é›†ï¼‰ã€Heatï¼ˆç¼–æ’æœåŠ¡ï¼‰</li><li>Container Optimizedï¼ˆå¢é‡ï¼‰ï¼šKuryrï¼ˆå®¹å™¨ç½‘ç»œé›†æˆï¼‰ã€Barbicanï¼ˆå¯†é’¥æœåŠ¡ï¼‰ã€Designateï¼ˆDNSæœåŠ¡ï¼‰ã€Manilaï¼ˆæ–‡ä»¶å­˜å‚¨ï¼‰ã€Octaviaï¼ˆè´Ÿè½½å‡è¡¡å™¨ï¼‰ã€Placementï¼ˆèµ„æºç›‘æ§ï¼‰</li></ul><p>æ›´å¤šOpenStack landscapeæ™¯è§‚å›¾å¯ä»¥å‚è€ƒå®˜æ–¹æˆ–è€… <a href="https://blog.csdn.net/qq_35485875/article/details/128894934">OPENSTACK LANDSCAPEäº‘åŸç”Ÿæ™¯è§‚ | OpenStackåœ°å›¾_JamesCurtisçš„åšå®¢-CSDNåšå®¢</a></p><h1 id="æ”¯æŒçš„æ“ä½œç³»ç»Ÿ"><a href="#æ”¯æŒçš„æ“ä½œç³»ç»Ÿ" class="headerlink" title="æ”¯æŒçš„æ“ä½œç³»ç»Ÿ"></a>æ”¯æŒçš„æ“ä½œç³»ç»Ÿ</h1><p>æ³¨æ„ï¼šä¸å†æ”¯æŒ CentOS 7 ä½œä¸ºä¸»æœºæ“ä½œç³»ç»Ÿã€‚Train ç‰ˆæœ¬åŒæ—¶æ”¯æŒ CentOS 7 å’Œ 8ï¼Œå¹¶æä¾›äº†è¿ç§»è·¯å¾„ã€‚æœ‰å…³è¿ç§»åˆ° CentOS 8 çš„ä¿¡æ¯ï¼Œè¯·å‚é˜…Kolla Ansible Train æ–‡æ¡£ã€‚</p><p>yogaç‰ˆæœ¬æ”¯æŒä»¥ä¸‹æ“ä½œç³»ç»Ÿï¼š</p><ul><li>CentOS Stream 8</li><li>Debian Bullseye (11)</li><li>openEuler 20.03 LTS SP2</li><li>RHEL 8 (deprecated)</li><li>Rocky Linux 8</li><li>Ubuntu Focal (20.04)</li></ul><p>æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯Ubuntu 22.04 LTSï¼ˆminiå®‰è£…ï¼‰</p><p>ä¸‹é¢å¼€å§‹å®‰è£…</p><h1 id="1-å®‰è£…ç³»ç»Ÿä¾èµ–"><a href="#1-å®‰è£…ç³»ç»Ÿä¾èµ–" class="headerlink" title="1. å®‰è£…ç³»ç»Ÿä¾èµ–"></a>1. å®‰è£…ç³»ç»Ÿä¾èµ–</h1><h2 id="1-1-æ›´æ–°è½¯ä»¶åŒ…ç´¢å¼•"><a href="#1-1-æ›´æ–°è½¯ä»¶åŒ…ç´¢å¼•" class="headerlink" title="1.1. æ›´æ–°è½¯ä»¶åŒ…ç´¢å¼•"></a>1.1. æ›´æ–°è½¯ä»¶åŒ…ç´¢å¼•</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br></pre></td></tr></table></figure><h2 id="1-2-å®‰è£…pythonä¾èµ–"><a href="#1-2-å®‰è£…pythonä¾èµ–" class="headerlink" title="1.2. å®‰è£…pythonä¾èµ–"></a>1.2. å®‰è£…pythonä¾èµ–</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install git python3-dev libffi-dev gcc libssl-dev</span><br></pre></td></tr></table></figure><h1 id="2-å®‰è£…python-venvè™šæ‹Ÿç¯å¢ƒä¾èµ–"><a href="#2-å®‰è£…python-venvè™šæ‹Ÿç¯å¢ƒä¾èµ–" class="headerlink" title="2. å®‰è£…python-venvè™šæ‹Ÿç¯å¢ƒä¾èµ–"></a>2. å®‰è£…python-venvè™šæ‹Ÿç¯å¢ƒä¾èµ–</h1><h2 id="2-1-å®‰è£…python3-venv"><a href="#2-1-å®‰è£…python3-venv" class="headerlink" title="2.1 å®‰è£…python3-venv"></a>2.1 å®‰è£…python3-venv</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install python3-venv</span><br></pre></td></tr></table></figure><h2 id="2-2-åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶æ¿€æ´»å®ƒ"><a href="#2-2-åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶æ¿€æ´»å®ƒ" class="headerlink" title="2.2 åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶æ¿€æ´»å®ƒ"></a>2.2 åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶æ¿€æ´»å®ƒ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir /path &amp;&amp; mkdir /path/to # ä¹Ÿå¯ä»¥è‡ªå®šè·¯å¾„</span><br><span class="line">python3 -m venv /path/to/venv</span><br><span class="line">source /path/to/venv/bin/activate</span><br></pre></td></tr></table></figure><h2 id="2-3-ç¡®ä¿å®‰è£…äº†æœ€æ–°ç‰ˆæœ¬çš„pip"><a href="#2-3-ç¡®ä¿å®‰è£…äº†æœ€æ–°ç‰ˆæœ¬çš„pip" class="headerlink" title="2.3 ç¡®ä¿å®‰è£…äº†æœ€æ–°ç‰ˆæœ¬çš„pip"></a>2.3 ç¡®ä¿å®‰è£…äº†æœ€æ–°ç‰ˆæœ¬çš„pip</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m pip install -i https://pypi.tuna.tsinghua.edu.cn/simple --upgrade pip</span><br></pre></td></tr></table></figure><h2 id="2-4-pypiæ¢æº"><a href="#2-4-pypiæ¢æº" class="headerlink" title="2.4 pypiæ¢æº"></a>2.4 pypiæ¢æº</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure><h2 id="2-5-å®‰è£…Ansible"><a href="#2-5-å®‰è£…Ansible" class="headerlink" title="2.5 å®‰è£…Ansible"></a>2.5 å®‰è£…Ansible</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install &#x27;ansible&gt;=4,&lt;6&#x27;</span><br></pre></td></tr></table></figure><h1 id="3-å®‰è£…Kolla-Ansible"><a href="#3-å®‰è£…Kolla-Ansible" class="headerlink" title="3. å®‰è£…Kolla-Ansible"></a>3. å®‰è£…Kolla-Ansible</h1><h2 id="3-1-kolla"><a href="#3-1-kolla" class="headerlink" title="3.1 kolla"></a>3.1 kolla</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># pip install git+https://opendev.org/openstack/kolla-ansible@stable/yoga</span><br><span class="line"># ä¸Šé¢æ˜¯åŸç‰ˆå‘½ä»¤ï¼Œå»ºè®®ä½¿ç”¨jihulab.comå…‹éš†ä¸€ä»½</span><br><span class="line">pip install git+https://jihulab.com/james-curtis/kolla-ansible@stable/yoga</span><br></pre></td></tr></table></figure><h2 id="3-2-åˆ›å»ºæ–‡ä»¶å¤¹-etc-kolla"><a href="#3-2-åˆ›å»ºæ–‡ä»¶å¤¹-etc-kolla" class="headerlink" title="3.2 åˆ›å»ºæ–‡ä»¶å¤¹&#x2F;etc&#x2F;kolla"></a>3.2 åˆ›å»ºæ–‡ä»¶å¤¹&#x2F;etc&#x2F;kolla</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir -p /etc/kolla</span><br><span class="line">sudo chown $USER:$USER /etc/kolla</span><br></pre></td></tr></table></figure><h2 id="3-3-å¤åˆ¶-globals-yml-å’Œ-passwords-yml-åˆ°-etc-kolla"><a href="#3-3-å¤åˆ¶-globals-yml-å’Œ-passwords-yml-åˆ°-etc-kolla" class="headerlink" title="3.3 å¤åˆ¶ globals.yml å’Œ passwords.yml åˆ° &#x2F;etc&#x2F;kolla"></a>3.3 å¤åˆ¶ globals.yml å’Œ passwords.yml åˆ° &#x2F;etc&#x2F;kolla</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># å¦‚æœä½ ä½¿ç”¨äº†è‡ªå®šä¹‰è·¯å¾„ï¼Œè®°å¾—æ›¿æ¢/path/to</span><br><span class="line">cp -r /path/to/venv/share/kolla-ansible/etc_examples/kolla/* /etc/kolla</span><br></pre></td></tr></table></figure><h2 id="3-4-å¤åˆ¶æ¸…å•æ–‡ä»¶"><a href="#3-4-å¤åˆ¶æ¸…å•æ–‡ä»¶" class="headerlink" title="3.4 å¤åˆ¶æ¸…å•æ–‡ä»¶"></a>3.4 å¤åˆ¶æ¸…å•æ–‡ä»¶</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /path/to/venv/share/kolla-ansible/ansible/inventory/* .</span><br></pre></td></tr></table></figure><h1 id="4-å®‰è£…Ansible-Galaxyä¾èµ–"><a href="#4-å®‰è£…Ansible-Galaxyä¾èµ–" class="headerlink" title="4. å®‰è£…Ansible Galaxyä¾èµ–"></a>4. å®‰è£…Ansible Galaxyä¾èµ–</h1><h2 id="4-1-æ¢æº"><a href="#4-1-æ¢æº" class="headerlink" title="4.1 æ¢æº"></a>4.1 æ¢æº</h2><p>æ‰¾åˆ° &#x2F;path&#x2F;to&#x2F;venv&#x2F;share&#x2F;kolla-ansible&#x2F;requirements.yml </p><p>å†…å®¹å¦‚ä¸‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">collections:</span><br><span class="line">  - name: https://opendev.org/openstack/ansible-collection-kolla</span><br><span class="line">    type: git</span><br><span class="line">    version: stable/yoga</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹è¿™ä¸ªgitä»“åº“åœ°å€ï¼Œå¦‚æœé•œåƒæ‹‰ä¸ä¸‹ï¼Œå»ºè®®å»æ‹‰githubçš„OpenStacké•œåƒ</p><p>ä¿®æ”¹æˆå¦‚ä¸‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">collections:</span><br><span class="line">  - name: https://jihulab.com/james-curtis/ansible-collection-kolla</span><br><span class="line">    type: git</span><br><span class="line">    version: stable/yoga</span><br></pre></td></tr></table></figure><h2 id="4-2-å®‰è£…Kolla-Ansible-Collectionsä¾èµ–"><a href="#4-2-å®‰è£…Kolla-Ansible-Collectionsä¾èµ–" class="headerlink" title="4.2 å®‰è£…Kolla-Ansible-Collectionsä¾èµ–"></a>4.2 å®‰è£…Kolla-Ansible-Collectionsä¾èµ–</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kolla-ansible install-deps</span><br></pre></td></tr></table></figure><h2 id="4-3-dockeræ¢æº-æŒ‡å®šdockerç‰ˆæœ¬åˆ°20-10"><a href="#4-3-dockeræ¢æº-æŒ‡å®šdockerç‰ˆæœ¬åˆ°20-10" class="headerlink" title="4.3 dockeræ¢æº &amp;&amp; æŒ‡å®šdockerç‰ˆæœ¬åˆ°20.10.*"></a>4.3 dockeræ¢æº &amp;&amp; æŒ‡å®šdockerç‰ˆæœ¬åˆ°20.10.*</h2><blockquote><p>è¿™é‡Œä¸æ¢æºæ˜¯å¯ä»¥çš„ã€‚ä½†æ˜¯æˆªæ­¢docker 23.0.0å‘å¸ƒæ—¶é—´ä¹‹åå†æ¥ä½¿ç”¨kolla-ansibleï¼Œé¦–æ¬¡å®‰è£…æ²¡é—®é¢˜ï¼Œåç»­å¦‚æœè¦æ·»åŠ åˆ é™¤ç»„ä»¶çš„è¯å°±ä¼šæŠ¥é”™ã€‚åŸå› æ˜¯dockeråˆ é™¤äº†å®¹å™¨çš„ <code>KernelMemory</code> å±æ€§ï¼Œä½†æ˜¯kollaéœ€è¦è¯»å–ï¼Œå¯¼è‡´æ•°ç»„ä¸‹æ ‡ä¸å­˜åœ¨æŠ¥é”™</p><p>è¯·å‚é˜…ï¼š<a href="https://blog.csdn.net/qq_35485875/article/details/128877591">Kolla-Ansible deployéƒ¨ç½²æŠ¥é”™ KeyError: \â€˜KernelMemory_JamesCurtisçš„åšå®¢-CSDNåšå®¢</a></p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sed -i.bak &#x27;s/https:\/\/download\.docker\.com/https:\/\/mirrors\.tuna\.tsinghua\.edu\.cn\/docker-ce/g&#x27;   /root/.ansible/collections/ansible_collections/openstack/kolla/roles/baremetal/defaults/main.yml</span><br><span class="line">sed  -i.bak  &#x27;s/_package: &quot;docker-ce&quot;/_package: &quot;docker-ce=5:20.10*&quot;/g&#x27;   /root/.ansible/collections/ansible_collections/openstack/kolla/roles/baremetal/defaults/main.yml</span><br></pre></td></tr></table></figure><h2 id="4-4-é…ç½®Ansible"><a href="#4-4-é…ç½®Ansible" class="headerlink" title="4.4 é…ç½®Ansible"></a>4.4 é…ç½®Ansible</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mkdir /etc/ansible </span><br><span class="line">echo &quot;[defaults]</span><br><span class="line">host_key_checking=False</span><br><span class="line">pipelining=True</span><br><span class="line">forks=100&quot; &gt; /etc/ansible/ansible.cfg</span><br></pre></td></tr></table></figure><h1 id="5-å‡†å¤‡åˆå§‹åŒ–é…ç½®"><a href="#5-å‡†å¤‡åˆå§‹åŒ–é…ç½®" class="headerlink" title="5. å‡†å¤‡åˆå§‹åŒ–é…ç½®"></a>5. å‡†å¤‡åˆå§‹åŒ–é…ç½®</h1><p>å¦‚æœå•æœºéƒ¨ç½²ï¼Œä½ ä¹Ÿå¯ä»¥è·³è¿‡æ­¤æ­¥éª¤ï¼Œç„¶åä½¿ç”¨ all-in-one æ¸…å•ï¼Œåç»­å¦‚æœå†å¢åŠ æœºå™¨å¯ä»¥åˆ‡æ¢å›åˆ° multinode æ¸…å•ï¼Œåªéœ€è¦æ³¨æ„ä¿®æ”¹å¥½æœºå™¨ä¸»æœºåå°±è¡Œã€‚</p><blockquote><p>å¯¹äºall-in-oneè™šæ‹Ÿç¯å¢ƒä¸­çš„åœºæ™¯ï¼Œå°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°all-in-oneæ¸…å•çš„æœ€å¼€å¤´</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">localhost ansible_python_interpreter=python</span><br></pre></td></tr></table></figure></blockquote><h2 id="5-1-ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#5-1-ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="5.1 ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>5.1 ä¿®æ”¹é…ç½®æ–‡ä»¶</h2><blockquote><p>æˆ‘è¿™é‡Œä½¿ç”¨3+1æœºå™¨æ¼”ç¤ºï¼Œ</p><p>1 x éƒ¨ç½²æœºï¼š10.10.1.80&#x2F;24</p><p>èŠ‚ç‚¹01ï¼š10.10.1.81&#x2F;24 control01</p><p>èŠ‚ç‚¹02ï¼š10.10.1.82&#x2F;24 control02</p><p>èŠ‚ç‚¹03ï¼š10.10.1.83&#x2F;24 control03</p></blockquote><p>è¿™é‡Œä»…ä»…å±•ç¤º [baremetal:children] èŠ‚ç‚¹ä¹‹å‰çš„é…ç½®æ–‡ä»¶ï¼Œåˆ‡å‹¿ç…§æ¬ï¼ï¼ï¼ </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"># These initial groups are the only groups required to be modified. The</span><br><span class="line"># additional groups are for more control of the environment.</span><br><span class="line">[control]</span><br><span class="line"># These hostname must be resolvable from your deployment host</span><br><span class="line">control01  hostname=control01 ansible_user=root ansible_password=1</span><br><span class="line">control02  hostname=control02 ansible_user=root ansible_password=1</span><br><span class="line">control03  hostname=control03 ansible_user=root ansible_password=1</span><br><span class="line"> </span><br><span class="line"># The above can also be specified as follows:</span><br><span class="line"># control[01:03]     ansible_user=kolla</span><br><span class="line"> </span><br><span class="line"># The network nodes are where your l3-agent and loadbalancers will run</span><br><span class="line"># This can be the same as a host in the control group</span><br><span class="line"># [network]</span><br><span class="line"># network01</span><br><span class="line"># network02</span><br><span class="line"> </span><br><span class="line"># when you specify group_name:children, it will use contents of group specified.</span><br><span class="line">[network:children]</span><br><span class="line">control</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"># [compute]</span><br><span class="line"># compute01</span><br><span class="line">[compute:children]</span><br><span class="line">control</span><br><span class="line"> </span><br><span class="line">[monitoring:children]</span><br><span class="line">control</span><br><span class="line"># [monitoring]</span><br><span class="line"># control01   ansible_user=root ansible_password=1 ansible_become=true</span><br><span class="line"># monitoring01</span><br><span class="line"> </span><br><span class="line"># When compute nodes and control nodes use different interfaces,</span><br><span class="line"># you need to comment out &quot;api_interface&quot; and other interfaces from the globals.yml</span><br><span class="line"># and specify like below:</span><br><span class="line">#compute01 neutron_external_interface=eth0 api_interface=em1 storage_interface=em1 tunnel_interface=em1</span><br><span class="line"> </span><br><span class="line"># [storage]</span><br><span class="line"># storage01</span><br><span class="line">[storage:children]</span><br><span class="line">control</span><br><span class="line"> </span><br><span class="line">[deployment]</span><br><span class="line">deploy       ansible_connection=local</span><br><span class="line"> </span><br><span class="line"># ä¸‹æ¥[baremetal:children]</span><br></pre></td></tr></table></figure><h2 id="5-2-ä¿®æ”¹hosts"><a href="#5-2-ä¿®æ”¹hosts" class="headerlink" title="5.2 ä¿®æ”¹hosts"></a>5.2 ä¿®æ”¹hosts</h2><p>å¦‚æœä½¿ç”¨ all-in-one æ¸…å•ï¼Œè¿™ä¸€æ­¥ä¹Ÿå¯ä»¥è·³è¿‡</p><p>ç¼–è¾‘&#x2F;etc&#x2F;hostsæ–‡ä»¶ï¼Œæ³¨æ„æ›¿æ¢æˆè‡ªå·±çš„æœºå™¨çš„å†…ç½‘ip</p><blockquote><p>åªéœ€è¦ä¿®æ”¹éƒ¨ç½²æœºã€‚åç»­ä½¿ç”¨bootstrap-serverå‘½ä»¤ä¹‹åä¼šåŒæ­¥åˆ°æ‰€æœ‰èŠ‚ç‚¹</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># è¿™é‡Œæ˜¯deployæœºå™¨ä¸Šçš„æ–‡ä»¶</span><br><span class="line">127.0.0.1 localhost</span><br><span class="line">10.10.1.80 deploy</span><br><span class="line">10.10.1.81 control01</span><br><span class="line">10.10.1.82 control02</span><br><span class="line">10.10.1.83 control03</span><br></pre></td></tr></table></figure><h2 id="5-3-å®‰è£…-sshpass"><a href="#5-3-å®‰è£…-sshpass" class="headerlink" title="5.3 å®‰è£… sshpass"></a>5.3 å®‰è£… sshpass</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install sshpass -y</span><br></pre></td></tr></table></figure><h2 id="5-4-é…ç½®sshå¯†é’¥å¯¹"><a href="#5-4-é…ç½®sshå¯†é’¥å¯¹" class="headerlink" title="5.4 é…ç½®sshå¯†é’¥å¯¹"></a>5.4 é…ç½®sshå¯†é’¥å¯¹</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen</span><br></pre></td></tr></table></figure><p>ä¸€è·¯å›è½¦</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh-copy-id 10.10.1.81</span><br><span class="line"># æ³¨æ„æ›¿æ¢è‡ªå·±çš„å†…ç½‘ip</span><br></pre></td></tr></table></figure><p>è¾“å…¥yesåŒæ„æŒ‡çº¹ï¼Œç„¶åè¾“å…¥å¯†ç ã€‚å°±å¯ä»¥äº†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># çœ‹ä¸‹å¦‚ä¸‹æç¤ºå°±æ˜¯æˆåŠŸäº†</span><br><span class="line">root@10.10.1.81&#x27;s password: </span><br><span class="line"></span><br><span class="line">Number of key(s) added: 1</span><br><span class="line"></span><br><span class="line">Now try logging into the machine, with:   &quot;ssh &#x27;10.10.1.81&#x27;&quot;</span><br><span class="line">and check to make sure that only the key(s) you wanted were added.</span><br></pre></td></tr></table></figure><h2 id="5-5-æ£€æŸ¥æ¸…å•é…ç½®æ˜¯å¦æ­£ç¡®"><a href="#5-5-æ£€æŸ¥æ¸…å•é…ç½®æ˜¯å¦æ­£ç¡®" class="headerlink" title="5.5 æ£€æŸ¥æ¸…å•é…ç½®æ˜¯å¦æ­£ç¡®"></a>5.5 æ£€æŸ¥æ¸…å•é…ç½®æ˜¯å¦æ­£ç¡®</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ansible -i multinode all -m ping</span><br></pre></td></tr></table></figure><p>è¿”å›ä¸‹é¢ç»“æœå°±æ˜¯æˆåŠŸ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">(venv) root@ubuntu:~# ansible -i multinode all -m ping</span><br><span class="line">[WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details</span><br><span class="line">localhost | SUCCESS =&gt; &#123;</span><br><span class="line">    &quot;ansible_facts&quot;: &#123;</span><br><span class="line">        &quot;discovered_interpreter_python&quot;: &quot;/usr/bin/python3&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;changed&quot;: false,</span><br><span class="line">    &quot;ping&quot;: &quot;pong&quot;</span><br><span class="line">&#125;</span><br><span class="line">control01 | SUCCESS =&gt; &#123;</span><br><span class="line">    &quot;ansible_facts&quot;: &#123;</span><br><span class="line">        &quot;discovered_interpreter_python&quot;: &quot;/usr/bin/python3&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;changed&quot;: false,</span><br><span class="line">    &quot;ping&quot;: &quot;pong&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="6-ç”Ÿæˆå¯†ç "><a href="#6-ç”Ÿæˆå¯†ç " class="headerlink" title="6. ç”Ÿæˆå¯†ç "></a>6. ç”Ÿæˆå¯†ç </h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kolla-genpwd</span><br></pre></td></tr></table></figure><h1 id="7-é…ç½®globals-yml"><a href="#7-é…ç½®globals-yml" class="headerlink" title="7. é…ç½®globals.yml"></a>7. é…ç½®globals.yml</h1><p>å…ˆå®‰è£…ä¸€ä¸‹vim</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install vim -y</span><br></pre></td></tr></table></figure><p>ç¼–è¾‘</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/kolla/globals.yml</span><br></pre></td></tr></table></figure><p> å…ˆä¸è¦è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œè¾“å…¥ä¸‹é¢ï¼Œæ˜¾ç¤ºè¡Œå·</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:set number</span><br></pre></td></tr></table></figure><h2 id="7-1-ä¿®æ”¹åŸºç¡€é•œåƒå‘è¡Œç‰ˆ"><a href="#7-1-ä¿®æ”¹åŸºç¡€é•œåƒå‘è¡Œç‰ˆ" class="headerlink" title="7.1 ä¿®æ”¹åŸºç¡€é•œåƒå‘è¡Œç‰ˆ"></a>7.1 ä¿®æ”¹åŸºç¡€é•œåƒå‘è¡Œç‰ˆ</h2><p>é»˜è®¤æ˜¯centosï¼Œè¦ä¿®æ”¹ä¸ºdebianã€‚é»˜è®¤çš„centosæœ‰ä¸€äº›é•œåƒä¸å­˜åœ¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i.bak &#x27;s/#kolla_base_distro: &quot;centos&quot;/kolla_base_distro: &quot;debian&quot;/&#x27; /etc/kolla/globals.yml</span><br></pre></td></tr></table></figure><h2 id="7-2-ç¼–è¾‘ç½‘ç»œæ¥å£"><a href="#7-2-ç¼–è¾‘ç½‘ç»œæ¥å£" class="headerlink" title="7.2 ç¼–è¾‘ç½‘ç»œæ¥å£"></a>7.2 ç¼–è¾‘ç½‘ç»œæ¥å£</h2><p>è¿™é‡Œï¼Œvimçš„åŸºæœ¬ä½¿ç”¨ä¸åœ¨èµ˜è¿°</p><p><strong>æœç´¢ç¬¬ä¸€ä¸ªç½‘å£æ¥å£</strong>ï¼Œå¹¶ä¿®æ”¹ä¸ºå¯¹åº”é…ç½®ï¼ˆå¯ä»¥é€šè¿‡ ip a æŸ¥çœ‹æ¥å£åå­—ï¼‰</p><blockquote><p> è®¾ç½®çš„ç¬¬ä¸€ä¸ªæ¥å£æ˜¯â€œ Network_interfaceâ€ã€‚è¿™æ˜¯å¤šä¸ªç®¡ç†ç±»å‹ç½‘ç»œçš„é»˜è®¤æ¥å£ã€‚</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">network_interface: &quot;eth0&quot;</span><br></pre></td></tr></table></figure><p><strong>æœç´¢å¹¶è®¾ç½®ç¬¬äºŒä¸ªæ¥å£</strong></p><blockquote><p>æ‰€éœ€çš„ç¬¬äºŒä¸ªæ¥å£ä¸“ç”¨äºNeutronå¤–éƒ¨ï¼ˆæˆ–å…¬å…±ï¼‰ç½‘ç»œï¼Œå¯ä»¥æ˜¯vlanæˆ–flatï¼Œè¿™å–å†³äºç½‘ç»œçš„åˆ›å»ºæ–¹å¼ã€‚æ­¤æ¥å£åº”å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œæ²¡æœ‰IPåœ°å€ã€‚å¦åˆ™ï¼Œå®ä¾‹å°†æ— æ³•è®¿é—®å¤–éƒ¨ç½‘ç»œã€‚</p></blockquote><p> è¿™é‡Œè¯´äººè¯ï¼Œå°±æ˜¯ç¬¬äºŒä¸ªæ¥å£éœ€è¦ç»™ä»–ä¸€ä¸ªç©ºé—²çš„ç½‘å£</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">neutron_external_interface: &quot;eth1&quot;</span><br></pre></td></tr></table></figure><p><strong>æœç´¢å¹¶è®¾ç½®æµ®åŠ¨ip</strong></p><blockquote><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºç®¡ç†æµé‡æä¾›æµ®åŠ¨IPã€‚è¯¥IPå°†ç”±keepaliveç®¡ç†ï¼Œä»¥æä¾›é«˜å¯ç”¨æ€§ï¼Œå¹¶ä¸”åº”è®¾ç½®ä¸ºåœ¨è¿æ¥åˆ°æˆ‘ä»¬ç½‘ç»œæ¥å£çš„ç®¡ç†ç½‘ç»œä¸­ä¸ä½¿ç”¨çš„åœ°å€ã€‚</p></blockquote><p>è¿™é‡Œè¯´äººè¯å°±æ˜¯ï¼Œæµ®åŠ¨ipä¸è¦å’Œnetwork_interfaceä¸­çš„åœ°å€å†²çªï¼ˆä¸€èˆ¬æ˜¯DHCPï¼‰ï¼Œæ¯”å¦‚è¯´network_interfaceæ‰€åœ¨DHCPèŒƒå›´æ˜¯10.1.1.100-10.1.1.200ã€‚é‚£ä¹ˆæµ®åŠ¨ipå°±ä¸å»ºè®®åœ¨è¿™ä¸ªèŒƒå›´å†…,è€Œåº”è¯¥é€‰æ‹©å¦‚10.1.1.201</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kolla_internal_vip_address: &quot;10.1.0.250&quot;</span><br></pre></td></tr></table></figure><p>ç¼–è¾‘å®Œæˆï¼ŒæŒ‰ä¸‹Escï¼Œå†è¾“å…¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:wq</span><br></pre></td></tr></table></figure><p>ä¿å­˜é€€å‡º</p><h1 id="8-éƒ¨ç½²"><a href="#8-éƒ¨ç½²" class="headerlink" title="8. éƒ¨ç½²"></a>8. éƒ¨ç½²</h1><h2 id="8-1-docker-quay-ioæ¢æº"><a href="#8-1-docker-quay-ioæ¢æº" class="headerlink" title="8.1 docker quay.ioæ¢æº"></a>8.1 docker quay.ioæ¢æº</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i.bak &#x27;s/#docker_registry:/docker_registry: quay.nju.edu.cn/g&#x27; /etc/kolla/globals.yml</span><br></pre></td></tr></table></figure><h2 id="8-2-å¼•å¯¼æœåŠ¡å™¨"><a href="#8-2-å¼•å¯¼æœåŠ¡å™¨" class="headerlink" title="8.2 å¼•å¯¼æœåŠ¡å™¨"></a>8.2 å¼•å¯¼æœåŠ¡å™¨</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kolla-ansible -i ./multinode bootstrap-servers</span><br></pre></td></tr></table></figure><p>å®Œæˆåæ£€æŸ¥dockerç‰ˆæœ¬ï¼Œç¡®å®šåœ¨20.10.xxã€‚ä¸ç„¶åé¢æ‰€æœ‰ä½¿ç”¨kolla-ansibleçš„æ”¹åŠ¨éƒ½ä¼šæŠ¥é”™KernelMemory</p><p>ç¡®ä¿Server: Docker Engineç‰ˆæœ¬åœ¨20.10.xxå°±è¡Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">(venv) root@ubuntu:~# docker version</span><br><span class="line">Client: Docker Engine - Community</span><br><span class="line"> Version:           23.0.0</span><br><span class="line"> API version:       1.41 (downgraded from 1.42)</span><br><span class="line"> Go version:        go1.19.5</span><br><span class="line"> Git commit:        e92dd87</span><br><span class="line"> Built:             Wed Feb  1 17:47:51 2023</span><br><span class="line"> OS/Arch:           linux/amd64</span><br><span class="line"> Context:           default</span><br><span class="line"></span><br><span class="line">Server: Docker Engine - Community</span><br><span class="line"> Engine:</span><br><span class="line">  Version:          20.10.23</span><br><span class="line">  API version:      1.41 (minimum version 1.12)</span><br><span class="line">  Go version:       go1.18.10</span><br><span class="line">  Git commit:       6051f14</span><br><span class="line">  Built:            Thu Jan 19 17:42:57 2023</span><br><span class="line">  OS/Arch:          linux/amd64</span><br><span class="line">  Experimental:     false</span><br><span class="line"> containerd:</span><br><span class="line">  Version:          1.6.16</span><br><span class="line">  GitCommit:        31aa4358a36870b21a992d3ad2bef29e1d693bec</span><br><span class="line"> runc:</span><br><span class="line">  Version:          1.1.4</span><br><span class="line">  GitCommit:        v1.1.4-0-g5fd4c4d</span><br><span class="line"> docker-init:</span><br><span class="line">  Version:          0.19.0</span><br><span class="line">  GitCommit:        de40ad0</span><br></pre></td></tr></table></figure><h2 id="8-3-å¯¹ä¸»æœºè¿›è¡Œéƒ¨ç½²å‰æ£€æŸ¥"><a href="#8-3-å¯¹ä¸»æœºè¿›è¡Œéƒ¨ç½²å‰æ£€æŸ¥" class="headerlink" title="8.3 å¯¹ä¸»æœºè¿›è¡Œéƒ¨ç½²å‰æ£€æŸ¥"></a>8.3 å¯¹ä¸»æœºè¿›è¡Œéƒ¨ç½²å‰æ£€æŸ¥</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kolla-ansible -i ./multinode prechecks -vvv</span><br></pre></td></tr></table></figure><h2 id="8-4-æœ€åè¿›è¡Œå®é™…çš„-OpenStack-éƒ¨ç½²"><a href="#8-4-æœ€åè¿›è¡Œå®é™…çš„-OpenStack-éƒ¨ç½²" class="headerlink" title="8.4 æœ€åè¿›è¡Œå®é™…çš„ OpenStack éƒ¨ç½²"></a>8.4 æœ€åè¿›è¡Œå®é™…çš„ OpenStack éƒ¨ç½²</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kolla-ansible -i ./multinode deploy -vvv</span><br></pre></td></tr></table></figure><p>å½“æœ¬è„šæœ¬å®Œæˆæ—¶ï¼ŒOpenStack åº”è¯¥å¯åŠ¨ã€è¿è¡Œå¹¶æ­£å¸¸è¿è¡Œï¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">PLAY RECAP ******************************************************************************************************************************************************************</span><br><span class="line">control01                  : ok=308  changed=218  unreachable=0    failed=0    skipped=169  rescued=0    ignored=1   </span><br><span class="line">localhost                  : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   </span><br></pre></td></tr></table></figure><p>è®¿é—®æµ®åŠ¨ipåœ°å€å°±æ˜¯å‰å°é¡µé¢ï¼Œå¦‚æœæ˜¾ç¤ºè¯ä¹¦é”™è¯¯ï¼Œé‚£æ„æ€å°±æ˜¯å¯†ç é”™è¯¯</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936507065351693650705770.png" alt="16936507065351693650705770.png"></p><p>è´¦å·ä¸ºadmin</p><p>æŸ¥çœ‹å¯†ç ï¼š</p><blockquote><p>ä¹Ÿå¯ä»¥åœ¨post-deployå‘½ä»¤æ‰§è¡Œä¹‹åï¼Œå»è¿™ä¸ªæ–‡ä»¶é‡Œé¢çœ‹&#x2F;etc&#x2F;kolla&#x2F;admin-openrc.sh</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/kolla/passwords.yml |grep keystone_admin_password</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936507155351693650715007.png" alt="16936507155351693650715007.png"></p><h1 id="9-ä½¿ç”¨-OpenStack"><a href="#9-ä½¿ç”¨-OpenStack" class="headerlink" title="9. ä½¿ç”¨ OpenStack"></a>9. ä½¿ç”¨ OpenStack</h1><h2 id="9-1-å®‰è£…-OpenStack-CLI-å®¢æˆ·ç«¯"><a href="#9-1-å®‰è£…-OpenStack-CLI-å®¢æˆ·ç«¯" class="headerlink" title="9.1 å®‰è£… OpenStack CLI å®¢æˆ·ç«¯"></a>9.1 å®‰è£… OpenStack CLI å®¢æˆ·ç«¯</h2><p>å®˜æ–¹å‘½ä»¤ï¼ˆç½‘ç»œèƒ½é€šçš„å¯ä»¥è¯•è¯•ï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install python-openstackclient -c https://releases.openstack.org/constraints/upper/yoga</span><br></pre></td></tr></table></figure><p>å¦‚æœæ–‡ä»¶è·å–ä¸äº†å»ºè®®ï¼Œæ‰“å¼€è¿™ä¸ªé“¾æ¥ï¼Œä¹‹åä¼šè·³è½¬åˆ°<br> <a href="https://opendev.org/openstack/requirements/raw/branch/stable/yoga/upper-constraints.txt">https://opendev.org/openstack/requirements/raw/branch/stable/yoga/upper-constraints.txt</a><br> å†å»githubçš„OpenStacké•œåƒï¼Œå³ github.com&#x2F;openstack&#x2F;requirements<br> ç„¶åå…‹éš†è¿™ä¸ªä»“åº“åˆ°jihulab.com</p><p>è®°å¾—é€‰æ‹©å¯¹åº”çš„åˆ†æ”¯</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936507355351693650735288.png" alt="16936507355351693650735288.png"></p><p> ï¼Œæ¥ç€æ‰¾åˆ°å¯¹åº”çš„æ–‡ä»¶</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936507435351693650743477.png" alt="16936507435351693650743477.png"></p><p>æ‰“å¼€åŸå§‹æ–‡ä»¶ï¼Œå¾—åˆ°ä¸‹é¢é“¾æ¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://jihulab.com/james-curtis/requirements/-/raw/stable/yoga/upper-constraints.txt</span><br></pre></td></tr></table></figure><p>æ›¿æ¢å®˜æ–¹å‘½ä»¤ï¼Œå¹¶æ‰§è¡Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install python-openstackclient -c https://jihulab.com/james-curtis/requirements/-/raw/stable/yoga/upper-constraints.txt</span><br></pre></td></tr></table></figure><h2 id="9-2-OpenStack-éœ€è¦ä¸€ä¸ª-openrc-æ–‡ä»¶"><a href="#9-2-OpenStack-éœ€è¦ä¸€ä¸ª-openrc-æ–‡ä»¶" class="headerlink" title="9.2 OpenStack éœ€è¦ä¸€ä¸ª openrc æ–‡ä»¶"></a>9.2 OpenStack éœ€è¦ä¸€ä¸ª openrc æ–‡ä»¶</h2><p>å…¶ä¸­è®¾ç½®äº†ç®¡ç†å‘˜ç”¨æˆ·çš„å‡­æ®ã€‚è¦ç”Ÿæˆæ­¤æ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kolla-ansible post-deploy</span><br><span class="line">. /etc/kolla/admin-openrc.sh</span><br></pre></td></tr></table></figure><blockquote><p>.(ç‚¹)+(ç©ºæ ¼)+å¯æ‰§è¡Œæ–‡ä»¶ &#x3D;&#x3D; source+(ç©ºæ ¼)+å¯æ‰§è¡Œæ–‡ä»¶</p></blockquote><p>æ¥ä¸‹æ¥å°±å¯ä»¥ä½¿ç”¨OpenStack CLIäº†</p><hr><p>è‡³æ­¤OpenStackå®‰è£…å®Œæˆ</p><hr><p>åç»­ï¼š</p><ul><li>OpenStackä½¿ç”¨Skyline Dashboardé¢æ¿æ›¿æ¢é»˜è®¤Horizoné¢æ¿</li><li>OpenStackå¢åŠ èŠ‚ç‚¹æˆ–è€…å‡å°‘èŠ‚ç‚¹ï¼Œæ¨ªå‘æ‹“å±•èŠ‚ç‚¹</li><li>ProxmoxVE+Ceph+OpenStack HCIè¶…èåˆå¹³å°æ­å»ºï¼Œé…ç½®BcacheåŠ é€ŸCeph SDS</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;åŸºæœ¬ä¸Šæ˜¯æŒ‰ç…§å®˜ç½‘æ–‡æ¡£å¿«é€Ÿå…¥é—¨è¿›è¡Œå®‰è£…ï¼Œä¸è¿‡è¿˜æœ‰å¾ˆå¤šåœ°æ–¹éœ€è¦æ¢æºã€‚é‡ç‚¹åœ¨æ¢æºè¿™å—ã€‚å¦‚æœè¯´ä½ çš„ç½‘å…³æœ‰é­”æ³•ï¼Œé‚£å°±ä¸ç”¨çœ‹è¿™ç¯‡æ–‡ç« äº†ï¼Œç›´æ¥å¤åˆ¶å®˜ç½‘å‘½ä»¤å®‰è£…ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;ç›®æ ‡&quot;&gt;&lt;a href=&quot;#ç›®æ ‡&quot; class=</summary>
      
    
    
    
    <category term="é»˜è®¤" scheme="https://james-curtis.github.io/en/categories/%E9%BB%98%E8%AE%A4/"/>
    
    
  </entry>
  
  <entry>
    <title>OpenStackç”Ÿäº§ç¯å¢ƒåº”è¯¥éƒ¨ç½²å“ªäº›ç»„ä»¶ï¼ŒOpenStacké€‰å‹å®è·µ</title>
    <link href="https://james-curtis.github.io/en/2023/which-components-should-be-deployed-in-openstack-production-environment-openstack-selection-practice/"/>
    <id>https://james-curtis.github.io/en/2023/which-components-should-be-deployed-in-openstack-production-environment-openstack-selection-practice/</id>
    <published>2023-02-10T09:42:28.000Z</published>
    <updated>2023-12-15T03:58:52.141Z</updated>
    
    <content type="html"><![CDATA[<p>å®˜ç½‘è™½ç„¶æœ‰ç¤ºä¾‹é…ç½®ï¼Œä½†ä»…ä»…æ˜¯ç¤ºä¾‹è€Œå·²ï¼Œå¹¶ä¸æ˜¯æœ€ä½³å®è·µã€‚</p><p>å¯ä»¥çœ‹åˆ°æœ‰å››ç§ï¼šè®¡ç®—å…¥é—¨å¥—ä»¶ã€å®¹å™¨ä¼˜åŒ–ã€ç½‘ç»œåº”ç”¨ã€å¤§æ•°æ® </p><p>å…¶å®ä¸‹é¢çš„æœ‰äº›ç»„ä»¶ï¼Œå¾ˆå¤šéƒ¨ç½²OpenStackçš„ä¼ä¸šä¹Ÿæ²¡æœ‰ä½¿ç”¨ã€‚è€Œä¸”è®¸å¤šè¾¹ç¼˜ç»„ä»¶ä½¿ç”¨äººæ•°å¾ˆå°‘ï¼Œä½¿ç”¨é¢‘ç‡ä½ï¼Œä¹Ÿæ›´æ–°å¹¶ä¸å‹¤å¿«</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936374995351693637498609.png" alt="16936374995351693637498609.png"></p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936375115361693637510839.png" alt="16936375115361693637510839.png"></p><p>åˆ†æä¸€ä¸‹2019-2021å¹´ï¼Œå„ä¸ªç»„ä»¶åœ¨ç”Ÿäº§ç¯å¢ƒçš„ä½¿ç”¨æ¯”ä¾‹ã€‚</p><p>è¿›å…¥ç”¨æˆ·è°ƒæŸ¥</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936375205351693637520181.png" alt="16936375205351693637520181.png"></p><p>æŸ¥çœ‹Deploymentsè°ƒæŸ¥éƒ¨åˆ†ä¸­åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨çš„é¡¹ç›®</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936375325341693637531650.png" alt="16936375325341693637531650.png"></p><p>å¯ä»¥çœ‹åˆ°å¤§éƒ¨åˆ†ç»„ä»¶çš„æ¯”ä¾‹éƒ½ä½äº10%ï¼Œ2022æ•°æ®ç»è¿‡æ•´ç†å¾—åˆ°å¦‚ä¸‹å›¾</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936375445351693637544073.png" alt="16936375445351693637544073.png"></p><p>2021æ•°æ®</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936375625401693637562007.png" alt="16936375625401693637562007.png"></p><p>2020æ•°æ®</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936375745401693637574397.png" alt="16936375745401693637574397.png"></p><p>2019æ•°æ®</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936375835401693637583273.png" alt="16936375835401693637583273.png"></p><p>2018æ•°æ®</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936375915351693637591124.png" alt="16936375915351693637591124.png"></p><p>æˆ‘æš‚ä¸”è®¤ä¸º</p><ul><li>ç”Ÿäº§æ¯”ä¾‹å°äºç­‰äº10%çš„å‡ä¸è¦éƒ¨ç½²åœ¨è‡ªå·±ç”Ÿäº§ç¯å¢ƒä¸Š</li><li>ç”Ÿäº§æ¯”ä¾‹å°äºç­‰äº15%çš„å¯ä»¥ç»è¿‡è€ƒè™‘ã€æµ‹è¯•åéƒ¨ç½²åœ¨ç”Ÿäº§ç¯å¢ƒä¸Š</li><li>ç”Ÿäº§æ¯”ä¾‹å¤§äºç­‰äº20%å¯ä»¥éƒ¨ç½²åœ¨ç”Ÿäº§ç¯å¢ƒ</li></ul><p>æˆ‘è®¤ä¸ºä¸­å°ä¼ä¸šè‡³å°‘è¦éƒ¨ç½²ä»¥ä¸‹ç»„ä»¶ï¼ˆå½“ç„¶åœºæ™¯ä¼˜å…ˆï¼‰</p><p>OpenStack Core ( glance, keystone, neutron, nova, heat, horizon )ã€cinderã€octavia</p><p>æ¨èéƒ¨ç½²ä»¥ä¸‹ç»„ä»¶</p><p>designateã€swiftã€manilaã€ironic</p><p>å¯é€‰éƒ¨ç½²ä»¥ä¸‹ç»„ä»¶ï¼ˆæŒ‰éœ€ï¼‰</p><p>barbicanã€rallyã€ceilometer</p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936376025391693637602214.png" alt="16936376025391693637602214.png"></p><p>éƒ¨ç½²æ“ä½œç³»ç»Ÿï¼šUbuntu Serverã€‚ä»2018ä»¥æ¥Ubuntuçš„å æ¯”å°±è¶…è¿‡äº†centos </p><p><img src="https://raw.githubusercontent.com/james-curtis/blog-img/img/img/16936376145341693637613536.png" alt="16936376145341693637613536.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å®˜ç½‘è™½ç„¶æœ‰ç¤ºä¾‹é…ç½®ï¼Œä½†ä»…ä»…æ˜¯ç¤ºä¾‹è€Œå·²ï¼Œå¹¶ä¸æ˜¯æœ€ä½³å®è·µã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°æœ‰å››ç§ï¼šè®¡ç®—å…¥é—¨å¥—ä»¶ã€å®¹å™¨ä¼˜åŒ–ã€ç½‘ç»œåº”ç”¨ã€å¤§æ•°æ® &lt;/p&gt;
&lt;p&gt;å…¶å®ä¸‹é¢çš„æœ‰äº›ç»„ä»¶ï¼Œå¾ˆå¤šéƒ¨ç½²OpenStackçš„ä¼ä¸šä¹Ÿæ²¡æœ‰ä½¿ç”¨ã€‚è€Œä¸”è®¸å¤šè¾¹ç¼˜ç»„ä»¶ä½¿ç”¨äººæ•°å¾ˆå°‘ï¼Œä½¿ç”¨é¢‘ç‡ä½ï¼Œä¹Ÿæ›´æ–°å¹¶ä¸å‹¤å¿«&lt;/p&gt;
</summary>
      
    
    
    
    <category term="é»˜è®¤" scheme="https://james-curtis.github.io/en/categories/%E9%BB%98%E8%AE%A4/"/>
    
    
  </entry>
  
</feed>
